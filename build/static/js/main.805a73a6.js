/*! For license information please see main.805a73a6.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var x=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case S:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],j=-1;function U(e){return{current:e}}function z(e){0>j||(e.current=F[j],F[j]=null,j--)}function V(e,t){j++,F[j]=e.current,e.current=t}var B=U(null),q=U(null),H=U(null),W=U(null);function K(e,t){switch(V(H,t),V(q,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(B),V(B,e)}function G(){z(B),z(q),z(H)}function Q(e){null!==e.memoizedState&&V(W,e);var t=B.current,n=od(t,e.type);t!==n&&(V(q,e),V(B,n))}function $(e){q.current===e&&(z(B),z(q)),W.current===e&&(z(W),Qd._currentValue=M)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,se=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=ve(r):0!==(s&=a)?i=ve(s):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~o)?i=ve(a):0!==s?i=ve(s):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Ee(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function xe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ne=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ne,Re="__reactProps$"+Ne,De="__reactContainer$"+Ne,Le="__reactEvents$"+Ne,Me="__reactListeners$"+Ne,Fe="__reactHandles$"+Ne,je="__reactResources$"+Ne,Ue="__reactMarker$"+Ne;function ze(e){delete e[Oe],delete e[Re],delete e[Le],delete e[Me],delete e[Fe]}function Ve(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Oe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Oe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return xt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Rt=null;function Dt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Mt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==Rt)&&(Vc(),Ot&&(t=Ot,e=Rt,Rt=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(jt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Rh){Ut=!1}var Vt=null,Bt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var $t,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?($t=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=$t=0,Jt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),on=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),an=Qt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Qt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(h({},Xt,{newState:0,oldState:0})),Sn=[9,13,27,32],_n=jt&&"CompositionEvent"in window,En=null;jt&&"documentMode"in document&&(En=document.documentMode);var kn=jt&&"TextEvent"in window&&!En,In=jt&&(!_n||En&&8<En&&11>=En),Tn=String.fromCharCode(32),Cn=!1;function xn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Rn(e,t,n,r){Ot?Rt?Rt.push(r):Rt=[r]:Ot=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function Mn(e){Mu(e,0)}function Fn(e){if(ht(qe(e)))return e}function jn(e,t){if("change"===e)return t}var Un=!1;if(jt){var zn;if(jt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}zn=Vn}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Ln=Dn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Rn(t,Ln,e,Nt(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(qn(),Ln=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Gn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,sr=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Yn(or,r)||(or=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}jt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){wr.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var Er=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Er.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Er.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ir=[],Tr=0,Cr=0;function xr(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var o=Ir[t];if(Ir[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function Ar(e,t,n,r){Ir[Tr++]=e,Ir[Tr++]=t,Ir[Tr++]=n,Ir[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Nr(e,t){return Ar(e,null,null,t),Rr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Rr(e){if(50<Oc)throw Oc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mr(31,n,t,i)).elementType=C,e.lanes=o,e;case g:return Vr(n.children,i,o,t);case y:a=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case E:return(e=Mr(13,n,t,i)).elementType=E,e.lanes=o,e;case k:return(e=Mr(19,n,t,i)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case S:a=10;break e;case w:a=9;break e;case _:a=11;break e;case I:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,Qr=[],$r=0,Yr=null,Jr=1,Xr="";function Zr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Qr[$r++]=Jr,Qr[$r++]=Xr,Qr[$r++]=Yr,Yr=e;var r=Jr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-fe(t)+i|n<<i|r,Xr=o+e}else Jr=1<<o|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===Yr;)Yr=Qr[--$r],Qr[$r]=null,Xr=Qr[--$r],Qr[$r]=null,Jr=Qr[--$r],Qr[$r]=null}var ri=null,ii=null,oi=!1,si=null,ai=!1,li=Error(s(519));function ci(e){throw mi(kr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Re]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),St(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!oi)return di(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function mi(e){null===si?si=[e]:si.push(e)}var gi=U(null),yi=null,vi=null;function bi(e,t,n){V(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,z(gi)}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Si(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Si(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Ei(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;$n(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&_i(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return xi(yi,e)}function Ci(e,t){return null===yi&&Ii(e),xi(e,t)}function xi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(s(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Pi=r.unstable_scheduleCallback,Ni=r.unstable_NormalPriority,Oi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ai,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Pi(Ni,function(){e.controller.abort()})}var Li=null,Mi=0,Fi=0,ji=null;function Ui(){if(0===--Mi&&null!==Li){null!==ji&&(ji.status="fulfilled");var e=Li;Li=null,Fi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Mi=0,Fi=Au(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Ui,Ui)}(0,t),null!==zi&&zi(e,t)};var Vi=U(null);function Bi(){var e=Vi.current;return null!==e?e:rc.pooledCache}function qi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Hi(){var e=Bi();return null===e?null:{parent:Oi._currentValue,pool:e}}var Wi=Error(s(460)),Ki=Error(s(474)),Gi=Error(s(542)),Qi={then:function(){}};function $i(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function Zi(){if(null===Xi)throw Error(s(459));var e=Xi;return Xi=null,e}function eo(e){if(e===Wi||e===Gi)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Or(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function ao(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==ji)throw ji}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:to=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=U(null),mo=U(0);function go(e,t){V(mo,e=dc),V(po,t),dc=e|t.baseLanes}function yo(){V(mo,dc),V(po,po.current)}function vo(){dc=mo.current,z(po),z(mo)}var bo=0,wo=null,So=null,_o=null,Eo=!1,ko=!1,Io=!1,To=0,Co=0,xo=null,Ao=0;function Po(){throw Error(s(321))}function No(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,o){return bo=o,wo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Ks:Gs,Io=!1,o=n(r,i),Io=!1,ko&&(o=Do(t,n,r,i)),Ro(e),o}function Ro(e){D.H=Ws;var t=null!==So&&null!==So.next;if(bo=0,_o=So=wo=null,Eo=!1,Co=0,xo=null,t)throw Error(s(300));null===e||Ca||null!==(e=e.dependencies)&&ki(e)&&(Ca=!0)}function Do(e,t,n,r){wo=e;var i=0;do{if(ko&&(xo=null),Co=0,ko=!1,25<=i)throw Error(s(301));if(i+=1,_o=So=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=Qs,o=t(n,r)}while(ko);return o}function Lo(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vo(t):t,e=e.useState()[0],(null!==So?So.memoizedState:null)!==e&&(wo.flags|=1024),t}function Mo(){var e=0!==To;return To=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jo(e){if(Eo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Eo=!1}bo=0,_o=So=wo=null,ko=!1,Co=To=0,xo=null}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_o?wo.memoizedState=_o=e:_o=_o.next=e,_o}function zo(){if(null===So){var e=wo.alternate;e=null!==e?e.memoizedState:null}else e=So.next;var t=null===_o?wo.memoizedState:_o.next;if(null!==t)_o=t,So=e;else{if(null===e){if(null===wo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(So=e).memoizedState,baseState:So.baseState,baseQueue:So.baseQueue,queue:So.queue,next:null},null===_o?wo.memoizedState=_o=e:_o=_o.next=e}return _o}function Vo(e){var t=Co;return Co+=1,null===xo&&(xo=[]),e=Ji(xo,e,t),t=wo,null===(null===_o?t.memoizedState:_o.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Ks:Gs),e}function Bo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vo(e);if(e.$$typeof===S)return Ti(e)}throw Error(s(438,String(e)))}function qo(e){var t=null,n=wo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=x;return t.index++,n}function Ho(e,t){return"function"===typeof t?t(e):t}function Wo(e){return Ko(zo(),So,e)}function Ko(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(bo&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((bo&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,wo.lanes|=f,fc|=f}h=u.action,Io&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,wo.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!$n(o,e.memoizedState)&&(Ca=!0,d&&null!==(n=ji)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Go(e){var t=zo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);$n(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Qo(e,t,n){var r=wo,i=zo(),o=oi;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!$n((So||i).memoizedState,n);if(a&&(i.memoizedState=n,Ca=!0),i=i.queue,ys(2048,8,Jo.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==_o&&1&_o.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));o||0!==(124&bo)||$o(r,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Zo(e)}function Jo(e,t,n){return n(function(){Xo(t)&&Zo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function Zo(e){var t=Nr(e,2);null!==t&&Mc(t,e,2)}function es(e){var t=Uo();if("function"===typeof e){var n=e;if(e=n(),Io){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Ko(e,So,"function"===typeof r?r:Ho)}function ns(e,t,n,r,i){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,rs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,s={};D.T=s;try{var a=n(i,r),l=D.S;null!==l&&l(s,a),is(e,t,a)}catch(c){ss(e,t,c)}finally{D.T=o}}else try{is(e,t,o=n(i,r))}catch(u){ss(e,t,u)}}function is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==r)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=wo;if(oi){if(ii){t:{for(var i=ii,o=ai;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Uo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Us.bind(null,wo,r),r.dispatch=n,r=es(!1),o=Vs.bind(null,wo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Uo()).queue=i,n=ns.bind(null,wo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function us(e){return ds(zo(),So,e)}function ds(e,t,n){if(t=Ko(e,t,ls)[0],e=Wo(Ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vo(t)}catch(s){if(s===Wi)throw Gi;throw s}else r=t;var i=(t=zo()).queue,o=i.dispatch;return n!==t.memoizedState&&(wo.flags|=2048,ps(9,{destroy:void 0,resource:void 0},hs.bind(null,i,n),null)),[r,o,e]}function hs(e,t){e.action=t}function fs(e){var t=zo(),n=So;if(null!==n)return ds(t,n,e);zo(),t=t.memoizedState;var r=(n=zo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return zo().memoizedState}function gs(e,t,n,r){var i=Uo();r=void 0===r?null:r,wo.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function ys(e,t,n,r){var i=zo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==So&&null!==r&&No(r,So.memoizedState.deps)?i.memoizedState=ps(t,o,n,r):(wo.flags|=e,i.memoizedState=ps(1|t,o,n,r))}function vs(e,t){gs(8390656,8,e,t)}function bs(e,t){ys(2048,8,e,t)}function ws(e,t){return ys(4,2,e,t)}function Ss(e,t){return ys(4,4,e,t)}function _s(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Es(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,4,_s.bind(null,t,e),n)}function ks(){}function Is(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&No(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=zo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&No(t,r[1]))return r[0];if(r=e(),Io){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Cs(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),wo.lanes|=e,fc|=e,n)}function xs(e,t,n,r){return $n(n,t)?n:null!==po.current?(e=Cs(e,n,r),$n(e,t)||(Ca=!0),e):0===(42&bo)?(Ca=!0,e.memoizedState=n):(e=Lc(),wo.lanes|=e,fc|=e,t)}function As(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var s=D.T,a={};D.T=a,Vs(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else zs(e,t,r,Dc())}catch(u){zs(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{L.p=o,D.T=s}}function Ps(){}function Ns(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Os(e).queue;As(e,i,t,M,null===n?Ps:function(){return Rs(e),n(r)})}function Os(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Rs(e){zs(e,Os(e).next.queue,{},Dc())}function Ds(){return Ti(Qd)}function Ls(){return zo().memoizedState}function Ms(){return zo().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=oo(t,e=io(n),n);return null!==r&&(Mc(r,t,n),so(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function js(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?qs(t,n):null!==(n=Pr(e,t,n,r))&&(Mc(n,e,r),Hs(n,t,r))}function Us(e,t,n){zs(e,t,n,Dc())}function zs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,$n(a,s))return Ar(e,t,i,0),null===rc&&xr(),!1}catch(l){}if(null!==(n=Pr(e,t,i,r)))return Mc(n,e,r),Hs(n,t,r),!0}return!1}function Vs(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Pr(e,n,r,2))&&Mc(t,e,2)}function Bs(e){var t=e.alternate;return e===wo||null!==t&&t===wo}function qs(e,t){ko=Eo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Ws={readContext:Ti,use:Bo,useCallback:Po,useContext:Po,useEffect:Po,useImperativeHandle:Po,useLayoutEffect:Po,useInsertionEffect:Po,useMemo:Po,useReducer:Po,useRef:Po,useState:Po,useDebugValue:Po,useDeferredValue:Po,useTransition:Po,useSyncExternalStore:Po,useId:Po,useHostTransitionStatus:Po,useFormState:Po,useActionState:Po,useOptimistic:Po,useMemoCache:Po,useCacheRefresh:Po},Ks={readContext:Ti,use:Bo,useCallback:function(e,t){return Uo().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Uo();t=void 0===t?null:t;var r=e();if(Io){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Uo();if(void 0!==n){var i=n(t);if(Io){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=js.bind(null,wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Uo().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Us.bind(null,wo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ks,useDeferredValue:function(e,t){return Cs(Uo(),e,t)},useTransition:function(){var e=es(!1);return e=As.bind(null,wo,e.queue,!0,!1),Uo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wo,i=Uo();if(oi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&oc)||$o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,vs(Jo.bind(null,r,o,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Yo.bind(null,r,o,n,t),null),n},useId:function(){var e=Uo(),t=rc.identifierPrefix;if(oi){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=To++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ao++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Uo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,wo,!0,n),n.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return Uo().memoizedState=Fs.bind(null,wo)}},Gs={readContext:Ti,use:Bo,useCallback:Is,useContext:Ti,useEffect:bs,useImperativeHandle:Es,useInsertionEffect:ws,useLayoutEffect:Ss,useMemo:Ts,useReducer:Wo,useRef:ms,useState:function(){return Wo(Ho)},useDebugValue:ks,useDeferredValue:function(e,t){return xs(zo(),So.memoizedState,e,t)},useTransition:function(){var e=Wo(Ho)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Qo,useId:Ls,useHostTransitionStatus:Ds,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(zo(),0,e,t)},useMemoCache:qo,useCacheRefresh:Ms},Qs={readContext:Ti,use:Bo,useCallback:Is,useContext:Ti,useEffect:bs,useImperativeHandle:Es,useInsertionEffect:ws,useLayoutEffect:Ss,useMemo:Ts,useReducer:Go,useRef:ms,useState:function(){return Go(Ho)},useDebugValue:ks,useDeferredValue:function(e,t){var n=zo();return null===So?Cs(n,e,t):xs(n,So.memoizedState,e,t)},useTransition:function(){var e=Go(Ho)[0],t=zo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Qo,useId:Ls,useHostTransitionStatus:Ds,useFormState:fs,useActionState:fs,useOptimistic:function(e,t){var n=zo();return null!==So?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qo,useCacheRefresh:Ms},$s=null,Ys=0;function Js(e){var t=Ys;return Ys+=1,null===$s&&($s=[]),Ji($s,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&ea(o)===t.type)?(Xs(t=i(t,n.props),n),t.return=e,t):(Xs(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xs(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||P(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Js(t),n);if(t.$$typeof===S)return h(e,Ci(e,t),n);Zs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Js(n),r);if(n.$$typeof===S)return f(e,t,Ci(e,n),r);Zs(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Js(r),i);if(r.$$typeof===S)return y(e,t,n,Ci(t,r),i);Zs(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ea(b)===c.type){n(l,c.sibling),Xs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return a(l);case T:return v(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(i,s,a,l){for(var c=null,u=null,d=s,p=s=0,m=null;null!==d&&p<a.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,a[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===a.length)return n(i,d),oi&&Zr(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(i,a[p],l))&&(s=o(d,s,p),null===u?c=d:u.sibling=d,u=d);return oi&&Zr(i,p),c}for(d=r(d);p<a.length;p++)null!==(m=y(d,i,p,a[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),oi&&Zr(i,p),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(i,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=o(b,a,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),oi&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return oi&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),oi&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Js(u),d);if(u.$$typeof===S)return v(l,c,Ci(l,u),d);Zs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Br(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=v(e,t,n,r);return $s=null,i}catch(s){if(s===Wi||s===Gi)throw s;var o=Mr(29,s,null,e.mode);return o.lanes=r,o.return=e,o}}}var na=ta(!0),ra=ta(!1),ia=U(null),oa=null;function sa(e){var t=e.alternate;V(ua,1&ua.current),V(ia,e),null===oa&&(null===t||null!==po.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(V(ua,ua.current),V(ia,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){V(ua,ua.current),V(ia,ia.current)}function ca(e){z(ia),oa===e&&(oa=null),z(ua)}var ua=U(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),so(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Mc(t,e,n),so(t,e,n))}};function pa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,o))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function ba(e){console.error(e)}function wa(e){ya(e)}function Sa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _a(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ea(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){Sa(e,t)},n}function ka(e){return(e=io(e)).tag=3,e}function Ia(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){_a(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){_a(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(s(461)),Ca=!1;function xa(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Ii(t),r=Oo(e,t,n,s,o,i),a=Mo(),null===e||Ca?(oi&&a&&ti(t),t.flags|=1,xa(e,t,r,i),t.child):(Fo(e,t,i),$a(e,t,i))}function Pa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Na(e,t,o,r,i))}if(o=e.child,!Ya(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,r)&&e.ref===t.ref)return $a(e,t,i)}return t.flags|=1,(e=jr(o,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Yn(o,r)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=r=o,!Ya(e,i))return t.lanes=e.lanes,$a(e,t,i);0!==(131072&e.flags)&&(Ca=!0)}}return La(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ra(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ra(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),aa(t)}else null!==o?(qi(0,o.cachePool),go(t,o),la(),t.memoizedState=null):(null!==e&&qi(0,null),yo(),la());return xa(e,t,i,n),t.child}function Ra(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),yo(),aa(t),null!==e&&Ei(e,t,r,!0),null}function Da(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,r,i){return Ii(t),n=Oo(e,t,n,r,void 0,i),r=Mo(),null===e||Ca?(oi&&r&&ti(t),t.flags|=1,xa(e,t,n,i),t.child):(Fo(e,t,i),$a(e,t,i))}function Ma(e,t,n,r,i,o){return Ii(t),t.updateQueue=null,n=Do(t,r,n,i),Ro(e),r=Mo(),null===e||Ca?(oi&&r&&ti(t),t.flags|=1,xa(e,t,n,o),t.child):(Fo(e,t,o),$a(e,t,o))}function Fa(e,t,n,r,i){if(Ii(t),null===t.stateNode){var o=Dr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ti(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ti(s):Dr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&fa.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=ga(n,a);o.props=l;var c=o.context,u=n.contextType;s=Dr,"object"===typeof u&&null!==u&&(s=Ti(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,r,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,r,o,i),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=to||pa(t,n,l,r,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=ga(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,r,l),to=!1,h=t.memoizedState,o.state=h,uo(t,r,o,i),co();var f=t.memoizedState;s!==d||h!==f||to||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),f=t.memoizedState),(u=to||pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Da(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):xa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=$a(e,t,i),e}function ja(e,t,n,r){return fi(),t.flags|=256,xa(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function za(e){return{baseLanes:e,cachePool:Hi()}}function Va(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Ba(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?sa(t):la(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,o?(la(),c=Ha({mode:"hidden",children:c},o=t.mode),i=Vr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=za(n),o.childLanes=Va(e,r,n),t.memoizedState=Ua,i):(sa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Wa(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=i.fallback,c=t.mode,i=Ha({mode:"visible",children:i.children},c),(o=Vr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=za(n),i.childLanes=Va(e,r,n),t.memoizedState=Ua,t=o);else if(sa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Wa(e,t,n)}else if(Ca||Ei(e,t,n,!1),r=0!==(n&e.childLanes),Ca||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:xe(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Nr(e,i),Mc(r,e,i),Ta;"$?"===c.data||Gc(),t=Wa(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,oi=!0,si=null,ai=!1,null!==e&&(Qr[$r++]=Jr,Qr[$r++]=Xr,Qr[$r++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),(t=qa(t,i.children)).flags|=4096);return t}return o?(la(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=jr(u,o):(o=Vr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=za(n):(null!==(l=c.cachePool)?(u=Oi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Va(e,r,n),t.memoizedState=Ua,i):(sa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Ha({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ha(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wa(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Ga(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,o);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ei(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ca=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ca=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Oi,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(sa(t),null!==(e=$a(e,t,n))?e.sibling:null);sa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ei(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:bi(0,Oi,e.memoizedState.cache)}return $a(e,t,n)}(e,t,n);Ca=0!==(131072&e.flags)}else Ca=!1,oi&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===_){t.tag=11,t=Aa(null,t,r,e,n);break e}if(i===I){t.tag=14,t=Pa(null,t,r,e,n);break e}}throw t=O(r)||r,Error(s(306,t,""))}Fr(r)?(e=ga(r,e),t.tag=1,t=Fa(null,t,r,e,n)):(t.tag=0,t=La(null,t,r,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Oi,r),r!==o.cache&&_i(t,[Oi],n,!0),co(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(s(424)),t)),t=ja(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,oi=!0,si=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=$a(e,t,n);break e}xa(e,t,r,n)}t=t.child}return t;case 26:return Da(e,t),null===e?(n=xd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Oe]=t,r[Re]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=xd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&oi&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ri=t,ai=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),xa(e,t,t.pendingProps.children,n),Da(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,sd(i,o)?r=null:null!==a&&sd(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Oo(e,t,Lo,null,null,n),Qd._currentValue=i),Da(e,t),xa(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Ba(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):xa(e,t,r,n),t.child;case 11:return Aa(e,t,t.type,t.pendingProps,n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),xa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ii(t),r=r(i=Ti(i)),t.flags|=1,xa(e,t,r,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 19:return Qa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ha(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Ii(t),r=Ti(Oi),null===e?(null===(i=Bi())&&(i=rc,o=Ri(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Oi,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Oi,r)):(r=o.cache,bi(0,Oi,r),r!==i.cache&&_i(t,[Oi],n,!0))),xa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Xa(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=ia.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Xi=Qi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Oi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xa(t),nl(t),t.flags&=-16777217),null;case 27:$(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=B.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Xa(t))}return nl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=B.current,hi(t))ui(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Oe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(z(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_c&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,V(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Oi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Oi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ua),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),vo(),null!==e&&z(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Oi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:wi(Oi),G();break;case 26:case 27:case 5:$(t);break;case 4:G();break;case 13:ca(t);break;case 19:z(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),vo(),null!==e&&z(Vi);break;case 24:wi(Oi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,o,i);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Xu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Xu(e,t,i,o,r,c)}return t=l,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&Xu(e,t,a,i,r,o)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Oe]=e,t[Re]=n}catch(o){uu(e,e.return,o)}}var bl=!1,wl=!1,Sl=!1,_l="function"===typeof WeakSet?WeakSet:Set,El=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var o=wl;bl=r,(wl=t)&&!o?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=i,wl=o}break;case 30:break;default:Fl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function xl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:wl||dl(n,t),xl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Tl,i=Cl;fd(n.type)&&(Tl=n.stateNode,Cl=!1),xl(e,t,n),Sd(n.stateNode),Tl=r,Cl=i;break;case 5:wl||dl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,xl(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Tl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Tl&&(Cl?(pd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,xl(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),xl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),xl(e,t,n);break;case 21:xl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,xl(e,t,n),wl=r;break;default:xl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Nl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(s(160));Al(o,a,i),Tl=null,Cl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Rl=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ll(e),4&r&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Ol(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Ol(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Ue]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),ed(o,r,n),o[Oe]=e,We(o),r=o;break e;case"link":var a=Ud("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[Oe]=e,We(o),r=o}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Dd(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?zd(i,e.type,e.stateNode):Dd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ll(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(Ol(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(jd=null,i=Rl,Rl=kd(t.containerInfo),Ol(t,e),Rl=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}Sl&&(Sl=!1,Ml(e));break;case 4:r=Rl,Rl=kd(e.stateNode.containerInfo),Ol(t,e),Ll(e),Rl=r;break;case 12:default:Ol(t,e),Ll(e);break;case 13:Ol(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Ol(t,e),wl=d,bl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Nl(e,n))));break;case 19:Ol(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(_t(o,""),n.flags&=-33),yl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:Sd(t.stateNode);case 26:case 5:dl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Ul(i,o,n),sl(4,o);break;case 1:if(Ul(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],a)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Ul(i,o,n),n&&null===r&&4&s&&hl(o),ul(o,o.return);break;case 12:Ul(i,o,n);break;case 13:Ul(i,o,n),n&&4&s&&Pl(i,o);break;case 22:null===o.memoizedState&&Ul(i,o,n),ul(o,o.return);break;case 30:break;default:Ul(i,o,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?Bl(e,t,n,r):Wl(e,t):2&o._visibility?Bl(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(s,t);break;case 24:Bl(e,t,n,r),2048&i&&Vl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(o,s,a,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(o,s,a,l,i):Wl(o,s):(u._visibility|=2,Hl(o,s,a,l,i)),i&&2048&c&&zl(s.alternate,s);break;case 24:Hl(o,s,a,l,i),i&&2048&c&&Vl(s.alternate,s);break;default:Hl(o,s,a,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Vl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Bd)throw Error(s(475));var r=Bd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ad(n.href),o=e.querySelector(Pd(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void We(o);o=e.ownerDocument||e,n=Nd(n),(i=_d.get(i))&&Md(n,i),We(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=kd(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];El=r,Zl(r,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==El;){var n=El;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,El=r;else e:for(n=e;null!==El;){var i=(r=El).sibling,o=r.return;if(Il(r),r===n){El=null;break e}if(null!==i){i.return=o,El=i;break e}El=o}}}var ec={getCacheForType:function(e){var t=Ti(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,wc=!1,Sc=0,_c=1/0,Ec=null,kc=null,Ic=0,Tc=null,Cc=null,xc=0,Ac=0,Pc=null,Nc=null,Oc=0,Rc=null;function Dc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==D.T){return 0!==Fi?Fi:Au()}return Pe()}function Lc(){0===gc&&(gc=0===(536870912&oc)||oi?_e():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),zc(e,oc,gc,!1)),Ie(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,oc,gc,!1)),_u(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||oc!==t?(Ec=null,_c=te()+500,qc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var o=ac;t:switch(sc){case 1:sc=0,ac=null,Zc(e,t,o,1);break;case 2:case 9:if($i(o)){sc=0,ac=null,Xc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),_u(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:$i(o)?(sc=0,ac=null,Xc(t)):(sc=0,ac=null,Zc(e,t,o,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Vd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,ac=null,Zc(e,t,o,5);break;case 6:sc=0,ac=null,Zc(e,t,o,6);break;case 8:Bc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){Hc(e,d)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,oc=0,xr(),hc)}(e,t):Qc(e,t,!0),o=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!o||Uc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Qc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){qc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(jc.bind(null,r,n,bc,Ec,wc,t,gc,pc,yc,lc,o,2,-0,0),i)}else jc(r,n,bc,Ec,wc,t,gc,pc,yc,lc,o,0,-0,0)}break}i=Qc(e,t,!1),o=!1}_u(e)}function jc(e,t,n,r,i,o,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Bd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Bd)throw Error(s(475));var e=Bd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,r,i,a,l,c,d,1,f,p)),void zc(e,o,a,!u);nu(e,t,o,n,r,i,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Te(e,n,t)}function Vc(){return 0!==(6&nc)||(Eu(0,!1),!1)}function Bc(){if(null!==ic){if(0===sc)var e=ic.return;else vi=yi=null,jo(e=ic),$s=null,Ys=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ic=n=jr(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return dc=t,xr(),n}function Hc(e,t){wo=null,D.H=Ws,t===Wi||t===Gi?(t=Zi(),sc=3):t===Ki?(t=Zi(),sc=4):sc=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(hc=1,Sa(e,kr(t,e.current)))}function Wc(){var e=D.H;return D.H=Ws,null===e?Ws:e}function Kc(){var e=D.A;return D.A=ec,e}function Gc(){hc=4,lc||(4194048&oc)!==oc&&null!==ia.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,oc,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var i=Wc(),o=Kc();rc===e&&oc===t||(Ec=null,qc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var a=ic,l=ac;switch(sc){case 8:Bc(),s=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=sc;if(sc=0,ac=null,Zc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Zc(e,a,l,c)}}$c(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=o,null===ic&&(rc=null,oc=0,xr()),s}function $c(){for(;null!==ic;)Jc(ic)}function Yc(){for(;null!==ic&&!Z();)Jc(ic)}function Jc(e){var t=Ja(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ma(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ma(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:jo(t);default:ol(n,t),t=Ja(n,t=ic=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,jo(t),$s=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ei(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===oa?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Gc(),!1}if(oi)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(s(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),ao(e,i=Ea(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:r});if(o=kr(o,n),null===vc?vc=[o]:vc.push(o),4!==hc&&(hc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ao(n,e=Ea(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ia(i=ka(i),e,n,r),ao(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return hc=1,Sa(e,kr(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return hc=1,Sa(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ic);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Cr,a,l,c),e===rc&&(ic=rc=null,oc=0),Cc=t,Tc=e,xc=n,Ac=o,Pc=i,Nc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=L.p,L.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,El=t;null!==El;)if(e=(t=El).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,El=e;else for(;null!==El;){switch(o=(t=El).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,El=e;break}El=t.return}}(e,t)}finally{nc=a,L.p=i,D.T=r}}Ic=1,ru(),iu(),ou()}}function ru(){if(1===Ic){Ic=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Dl(t,e);var o=nd,s=er(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=Xn(a,m),v=Xn(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,L.p=r,D.T=n}}e.current=t,Ic=2}}function iu(){if(2===Ic){Ic=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,L.p=r,D.T=n}}Ic=3}}function ou(){if(4===Ic||3===Ic){Ic=0,ee();var e=Tc,t=Cc,n=xc,r=Nc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ic=5:(Ic=0,Cc=Tc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{D.T=t,L.p=i}}0!==(3&xc)&&au(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Oc++:(Oc=0,Rc=e):Oc=0,Eu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function au(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Ic)return!1;var e=Tc,t=Ac;Ac=0;var n=Ae(xc),r=D.T,i=L.p;try{L.p=32>n?32:n,D.T=null,n=Pc,Pc=null;var o=Tc,a=xc;if(Ic=0,Cc=Tc=null,xc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Jl(o.current),ql(o,o.current,a,n),nc=l,Eu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{L.p=i,D.T=r,su(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=oo(e,t=Ea(e.stateNode,t,2),2))&&(Ie(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oo(t,n=ka(2),2))&&(Ia(n,r,t,e),Ie(r,2),_u(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-Sc?0===(2&nc)&&qc(e,0):mc|=n,yc===oc&&(yc=0)),_u(e)}function fu(e,t){0===t&&(t=Ee()),null!==(e=Nr(e,t))&&(Ie(e,t),_u(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,wu=!1,Su=0;function _u(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?J(re,ku):Iu()}))}function Eu(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,xu(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,o)||(n=!0,xu(r,o));r=r.next}}while(n);wu=!1}}function ku(){Iu()}function Iu(){bu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Tu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=i}Eu(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-fe(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Se(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=ae}return r=Cu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function xu(e,t){if(au())return null;Fc(e,t,!0)}function Au(){return 0===Su&&(Su=_e()),Su}function Pu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Nu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<Sr.length;Ou++){var Ru=Sr[Ou];_r(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(mr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(gr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){ya(u)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=c;try{o(i)}catch(u){ya(u)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,ju("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Ve(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Mt(function(){var r=o,i=Nt(n),s=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=an;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[De])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:qe(c),p=null==u?a:qe(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(s,a,c,d,!1),null!==u&&null!==h&&Ku(s,h,u,d,!0)}if("select"===(c=(a=r?qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=jn;else if(On(a))if(Un)y=Qn;else{y=Kn;var v=Wn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(y=jn):y=Gn;switch(y&&(y=y(e,r))?Rn(s,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?qe(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,ar(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(s,n,i)}var b;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?xn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Ht()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,Pn=!0)),0<(v=Hu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:v}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!_n&&xn(e,t)?(e=Ht(),qt=Bt=Vt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:v,listeners:w}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Pu((i[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Pu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=s?Nu(i,s):new FormData(i);Ns(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Nu(i,s):new FormData(i),Ns(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Mu(s,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(qu(e,i,o)),null!=(i=Ft(e,t))&&r.push(qu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,o))&&s.unshift(qu(n,c,l)):i||null!=(c=Ft(n,o))&&s.push(qu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function $u(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Yu(e,t){return t=$u(t),$u(e)===t}function Ju(){}function Xu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":It(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,i,o){switch(n){case"style":It(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Re]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,r,a,n,null)}}return o&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Xu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,a,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Xu(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Xu(e,t,a,l,n,null)}return St(e,i,o,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Fu(Du[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&Sd(s.documentElement),2&n&&Sd(s.body),4&n)for(Sd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===i)return e.removeChild(o),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var _d=new Map,Ed=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Id=L.d;L.d={f:function(){var e=Id.f(),t=Vc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Rs(t):Id.r(e)},D:function(e){Id.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Id.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Id.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Ad(e);break;case"script":o=Od(e)}_d.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Pd(o))||"script"===t&&r.querySelector(Rd(o))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Id.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Od(e)}if(!_d.has(o)&&(e=h({rel:"modulepreload",href:e},t),_d.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(o)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Id.X(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=_d.get(i))&&Fd(e,t),We(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Id.S(e,t,n);var r=Td;if(r&&e){var i=He(r).hoistableStyles,o=Ad(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Pd(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(o))&&Md(e,n);var l=s=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Ld(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Id.M(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Od(e),o=r.get(i);o||((o=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(i))&&Fd(e,t),We(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Td="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ed.has(i)||(Ed.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function xd(e,t,n,r){var i,o,a,l,c=(c=H.current)?kd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(i=c,o=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),We(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ad(n.href);var o=e.querySelector(Pd(i));if(o)return t.state.loading|=4,t.instance=o,We(o),o;r=Nd(n),(i=_d.get(i))&&Md(r,i),We(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",r),t.state.loading|=4,Ld(o,n.precedence,e),t.instance=o;case"script":return o=Od(n.src),(i=e.querySelector(Rd(o)))?(t.instance=i,We(i),i):(r=n,(i=_d.get(o))&&Fd(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jd=null;function Ud(e,t,n){if(null===jd){var r=new Map,i=jd=new Map;i.set(n,r)}else(r=(i=jd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ue]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:S,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function $d(e,t,n,r,i,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,o,s,a,l,c,u,d){return e=new $d(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Jd(e){return e?e=Dr:Dr}function Xd(e,t,n,r,i,o){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Mc(n,0,t),so(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=2,oh(e,t,n,r)}finally{L.p=o,D.T=i}}function ih(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=8,oh(e,t,n,r)}finally{L.p=o,D.T=i}}function oh(e,t,n,r){if(nh){var i=sh(r);if(null===i)Bu(e,t,r,ah,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ph.set(o,bh(ph.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mh.set(o,bh(mh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var o=Be(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-fe(s);a.entanglements[1]|=l,s&=~l}_u(o),0===(6&nc)&&(_c=te()+500,Eu(0,!1))}}break;case 13:null!==(a=Nr(o,2))&&Mc(a,0,2),Vc(),eh(o,2)}if(null===(o=sh(r))&&Bu(e,t,r,ah,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function sh(e){return lh(e=Nt(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=xe(e);var t=Nr(n,e);null!==t&&Mc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function _h(e,t,n){Sh(e)&&n.delete(t)}function Eh(){uh=!1,null!==dh&&Sh(dh)&&(dh=null),null!==hh&&Sh(hh)&&(hh=null),null!==fh&&Sh(fh)&&(fh=null),ph.forEach(_h),mh.forEach(_h)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eh)))}var Ih=null;function Th(e){Ih!==e&&(Ih=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ih===e&&(Ih=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var o=Be(n);null!==o&&(e.splice(t,3),t-=3,Ns(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ch(e){function t(t){return kh(t,e)}null!==dh&&kh(dh,e),null!==hh&&kh(hh,e),null!==fh&&kh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Re]||null;if("function"===typeof o)s||Th(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Re]||null)a=s.formAction;else if(null!==lh(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Th(n)}}}function xh(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=xh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xd(t.current,Dc(),e,t,null,null)},Ah.prototype.unmount=xh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Vc(),t[De]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Ph=i.version;if("19.1.1"!==Ph)throw Error(s(527,Ph,"19.1.1"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Nh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ue=Oh.inject(Nh),de=Oh}catch(Dh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=va,o=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,o,l,0,null),e[De]=t.current,zu(e),new xh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=va,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=io(r=xe(r=Dc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Ie(t,n),_u(t),e[De]=t.current,zu(e),new Ah(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},75:function(e,t,n){var r,i,o;i=[t,n(43),n(173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=f;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function f(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(y){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return d(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},96:()=>{},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=c(n(656)),o=n(256),s=c(n(178)),a=c(n(251)),l=c(n(386));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,c,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),v(g(t=u.call(this,e)),"itemsWrapperRef",void 0),v(g(t),"itemsListRef",void 0),v(g(t),"thumbsRef",void 0),v(g(t),"setItemsWrapperRef",function(e){t.itemsWrapperRef=e}),v(g(t),"setItemsListRef",function(e){t.itemsListRef=e}),v(g(t),"setThumbsRef",function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e}),v(g(t),"updateSizes",function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,l=a?e-s:0;t.setState(function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:a}})}}),v(g(t),"handleClickItem",function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}}),v(g(t),"onSwipeStart",function(){t.setState({swiping:!0})}),v(g(t),"onSwipeEnd",function(){t.setState({swiping:!1})}),v(g(t),"onSwipeMove",function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)}),!0}),v(g(t),"slideRight",function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))}),v(g(t),"slideLeft",function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))}),v(g(t),"moveTo",function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})}),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map(function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},s,{role:"button",tabIndex:0}),t)})}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(c,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),c&&f(t,c),d}(r.Component);t.default=b,v(b,"displayName","Thumbs"),v(b,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},173:(e,t,n)=>{e.exports=n(497)()},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r},s=n(564);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,c=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(c+2),e.axis):a>c&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),d=(0,o.default)(u,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,l=i.Children.count(t.children),c=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(l-1,t)-100:(0,s.getPosition)(l-1,t),d=a?e.x:e.y,h=d;0===c&&d>0&&(h=0),c===u&&d<0&&(h=0);var f=c+100/(n.itemSize/h),p=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*l:n.selectedItem===l-1&&f<100*-l&&(f+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=l(l({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:l(l({},i),{},{opacity:1,position:"relative"}),prevStyle:l({},i)}}},251:function(e,t,n){var r,i,o;i=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var S=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,i,o,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(){}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,o,s)}}if(u)return s=s(e),u=""===o?"."+C(e,0):o,S(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(I(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===o?".":o+":";if(S(e))for(var m=0;m<e.length;m++)u+=A(o=e[m],t,i,a=p+C(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=A(o=o.value,t,i,a=p+C(o,m++),s);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,O)}catch(o){O(o)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.1"},328:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function a(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,l,c;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(s.zeroFormat&&n===s.zeroFormat)i=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((c="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(c)){l=r[o].unformat;break}i=(l=l||e._.stringToNumber)(n)}else i=Number(n)||null;return new a(n,i)}).version=n,e.isNumeral=function(e){return e instanceof a},e._=t={numberToFormat:function(t,n,r){var o,s,a,l,c,u,d,h=i[e.options.currentLocale],f=!1,p=!1,m=0,g="",y=1e12,v=1e9,b=1e6,w=1e3,S="",_=!1;if(t=t||0,s=Math.abs(t),e._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(c=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=y&&!o||"t"===o?(g+=h.abbreviations.trillion,t/=y):s<y&&s>=v&&!o||"b"===o?(g+=h.abbreviations.billion,t/=v):s<v&&s>=b&&!o||"m"===o?(g+=h.abbreviations.million,t/=b):(s<b&&s>=w&&!o||"k"===o)&&(g+=h.abbreviations.thousand,t/=w)),e._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),a=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),S=e._.toFixed(t,l[0].length+l[1].length,r,l[1].length)):S=e._.toFixed(t,l.length,r),a=S.split(".")[0],S=e._.includes(S,".")?h.delimiters.decimal+S.split(".")[1]:"",p&&0===Number(S.slice(1))&&(S="")):a=e._.toFixed(t,0,r),g&&!o&&Number(a)>=1e3&&g!==h.abbreviations.trillion)switch(a=String(Number(a)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(e._.includes(a,"-")&&(a=a.slice(1),_=!0),a.length<m)for(var E=m-a.length;E>0;E--)a="0"+a;return u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(a=""),d=a+S+(g||""),f?d=(f&&_?"(":"")+d+(f&&_?")":""):c>=0?d=0===c?(_?"-":"+")+d:d+(_?"-":"+"):_&&(d="-"+d),d},stringToNumber:function(e){var t,n,r,o=i[s.currentLocale],a=e,l={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&e===s.zeroFormat)n=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),l)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),a.match(r)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,n){var r=t.multiplier(n);return e>r?e:r},1)},toFixed:function(e,t,n,r){var i,o,s,a,l=e.toString().split("."),c=t-(r||0);return i=2===l.length?Math.min(Math.max(l[1].length,c),t):c,s=Math.pow(10,i),a=(n(e+"e+"+i)/s).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),a=a.replace(o,"")),a}},e.options=s,e.formats=r,e.locales=i,e.locale=function(e){return e&&(s.currentLocale=e.toLowerCase()),s.currentLocale},e.localeData=function(e){if(!e)return i[s.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in o)s[e]=o[e]},e.zeroFormat=function(e){s.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){s.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){s.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,s,a,l,c,u;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(d){c=e.localeData(e.locale())}return o=c.currency.symbol,a=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=t.match(/^[^\d]+/))||(t=t.substr(1),u[0]===o))&&(null===(u=t.match(/[^\d]+$/))||(t=t.slice(0,-1),u[0]===a.thousand||u[0]===a.million||u[0]===a.billion||u[0]===a.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((s=t.split(r)).length>2)&&(s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(l)&&!!s[1].match(/^\d+$/)))},e.fn=a.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,a,l=this._value,c=t||s.defaultFormat;if(n=n||Math.round,0===l&&null!==s.zeroFormat)o=s.zeroFormat;else if(null===l&&null!==s.nullFormat)o=s.nullFormat;else{for(i in r)if(c.match(r[i].regexps.format)){a=r[i].format;break}o=(a=a||e._.numberToFormat)(l,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter(function(e){return t.suffixes.indexOf(e)<0})).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var s,a,l,c=e._.includes(i,"ib")?n:t,u=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),l=Math.pow(c.base,s+1),null===r||0===r||r>=a&&r<l){u+=c.suffixes[s],a>0&&(r/=a);break}return e._.numberToFormat(r,i,o)+u},unformat:function(r){var i,o,s=e._.stringToNumber(r);if(s){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}s*=o||1}return s}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,s=e.locales[e.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(a.before,"-")&&!e._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=a.after.length-1;o>=0;o--)switch(a.after[o]){case"$":i=o===a.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(a.after.length-(1+o)));break;case" ":i=o===a.after.length-1?i+" ":e._.insert(i," ",-(a.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],o,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(43)),i=d(n(251)),o=d(n(656)),s=d(n(169)),a=d(n(559)),l=d(n(386)),c=n(564),u=n(226);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,n,d,h=b(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),_(w(t=h.call(this,e)),"thumbsRef",void 0),_(w(t),"carouselWrapperRef",void 0),_(w(t),"listRef",void 0),_(w(t),"itemsRef",void 0),_(w(t),"timer",void 0),_(w(t),"animationHandler",void 0),_(w(t),"setThumbsRef",function(e){t.thumbsRef=e}),_(w(t),"setCarouselWrapperRef",function(e){t.carouselWrapperRef=e}),_(w(t),"setListRef",function(e){t.listRef=e}),_(w(t),"setItemsRef",function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e}),_(w(t),"autoPlay",function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout(function(){t.increment()},t.props.interval)))}),_(w(t),"clearAutoPlay",function(){t.timer&&clearTimeout(t.timer)}),_(w(t),"resetAutoPlay",function(){t.clearAutoPlay(),t.autoPlay()}),_(w(t),"stopOnHover",function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)}),_(w(t),"startOnLeave",function(){t.setState({isMouseEntered:!1},t.autoPlay)}),_(w(t),"isFocusWithinTheCarousel",function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))}),_(w(t),"navigateWithKeyboard",function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}}),_(w(t),"updateSizes",function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}}),_(w(t),"setMountState",function(){t.setState({hasMount:!0}),t.updateSizes()}),_(w(t),"handleClickItem",function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))}),_(w(t),"handleOnChange",function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)}),_(w(t),"handleClickThumb",function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)}),_(w(t),"onSwipeStart",function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)}),_(w(t),"onSwipeEnd",function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()}),_(w(t),"onSwipeMove",function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(w(t)));return t.setState(g({},r)),!!Object.keys(r).length}),_(w(t),"decrement",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))}),_(w(t),"increment",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))}),_(w(t),"moveTo",function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}}),_(w(t),"onClickNext",function(){t.increment(1)}),_(w(t),"onClickPrev",function(){t.decrement(1)}),_(w(t),"onSwipeForward",function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),_(w(t),"onSwipeBackwards",function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),_(w(t),"changeItem",function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}}),_(w(t),"selectItem",function(e){t.setState(g({previousItem:t.state.selectedItem},e),function(){t.setState(t.animationHandler(t.props,t.state))}),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])}),_(w(t),"getInitialImage",function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]}),_(w(t),"getVariableItemHeight",function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",function e(){t.forceUpdate(),i.removeEventListener("load",e)})}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null});var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,l=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:l};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),u=c.shift(),d=c.pop(),h={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=g(g({},h.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&y(t.prototype,n),d&&y(t,d),f}(r.default.Component);t.default=E,_(E,"displayName","Carousel"),_(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find(function(e){return"img"===e.type})),t)return t});return 0===t.filter(function(e){return e}).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(43),o=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){n[r]=(0,o.default)(e,"%",t)}),n}},577:(e,t,n)=>{"use strict";Object.defineProperty(t,"FN",{enumerable:!0,get:function(){return r.default}});var r=s(n(481)),i=n(96),o=s(n(169));function s(e){return e&&e.__esModule?e:{default:e}}},579:(e,t,n)=>{"use strict";e.exports=n(799)},656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(139))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,k||(k=!0,E());else{var t=r(u);null!==t&&O(_,t.startTime-e)}}var E,k=!1,I=-1,T=5,C=-1;function x(){return!!y||!(t.unstable_now()-C<T)}function A(){if(y=!1,k){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(I),I=-1),p=!0;var o=f;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&x());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,S(e),n=!0;break t}h===r(c)&&i(c),S(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(_,l.startTime-e),n=!1}}break e}finally{h=null,f=o,p=!1}n=void 0}}finally{n?E():k=!1}}}if("function"===typeof w)E=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=A,E=function(){N.postMessage(null)}}else E=function(){v(A,0)};function O(e,n){I=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(I),I=-1):g=!0,O(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,k||(k=!0,E()))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ot,hasStandardBrowserEnv:()=>Dt,hasStandardBrowserWebWorkerEnv:()=>Lt,navigator:()=>Rt,origin:()=>Mt});var t={};n.r(t),n.d(t,{FirebaseError:()=>fu,SDK_VERSION:()=>Qd,_DEFAULT_ENTRY_NAME:()=>Pd,_addComponent:()=>Ld,_addOrOverwriteComponent:()=>Md,_apps:()=>Od,_clearComponents:()=>qd,_components:()=>Dd,_getProvider:()=>jd,_isFirebaseApp:()=>zd,_isFirebaseServerApp:()=>Bd,_isFirebaseServerAppSettings:()=>Vd,_registerComponent:()=>Fd,_removeServiceInstance:()=>Ud,_serverApps:()=>Rd,deleteApp:()=>Zd,getApp:()=>Jd,getApps:()=>Xd,initializeApp:()=>$d,initializeServerApp:()=>Yd,onLog:()=>th,registerVersion:()=>eh,setLogLevel:()=>nh});var r,i=n(43),o=n.t(i,2),s=n(391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,p=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),m=e,()=>{o.removeEventListener(l,v),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=y()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=y();let o=d(i,g),a=w.createHref(i);u.replaceState(o,"",a),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=O(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=N(i);s=A(o[a],e,r)}return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=F([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:x(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,_=3,E=2,k=1,I=10,T=-2,C=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=E),n.filter(e=>!C(e)).reduce((e,t)=>e+(S.test(t)?_:""===t?k:I),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:F([o,u.pathname]),pathnameBase:j(F([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=F([o,u.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function N(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:z(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const $=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function J(){return null!=i.useContext(Q)}function X(){return J()||c(!1),i.useContext(Q).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext($);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);return Z(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t])}():function(){J()||c(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:o}=i.useContext($),{pathname:s}=X(),a=JSON.stringify(L(o,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=M(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,a,s,e])}()}function te(){let{matches:e}=i.useContext($),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:o}=i.useContext($),{pathname:s}=X(),a=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo(()=>M(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function re(e,t,n,o){J()||c(!1);let{navigator:s}=i.useContext(G),{matches:a}=i.useContext($),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=X();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let w=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:F([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,o);return t&&w?i.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=i.useContext(Y),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const oe=i.createElement(ie,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement($.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(W);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement($.Provider,{value:t},r)}function le(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,c=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,u&&(d<0&&0===o?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):d===o&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=i.useContext(K);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext($);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ge(e){c(!1)}function ye(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:u}=e;J()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},u)}),[d,u,a,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=i.useMemo(()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:s}},[d,f,m,g,y,v,s]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:b}))}function ve(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,o));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,o)),n.push(s)}),n}function we(e,t){return function(){return e.apply(t,arguments)}}const{toString:Se}=Object.prototype,{getPrototypeOf:_e}=Object,{iterator:Ee,toStringTag:ke}=Symbol,Ie=(Te=Object.create(null),e=>{const t=Se.call(e);return Te[t]||(Te[t]=t.slice(8,-1).toLowerCase())});var Te;const Ce=e=>(e=e.toLowerCase(),t=>Ie(t)===e),xe=e=>t=>typeof t===e,{isArray:Ae}=Array,Pe=xe("undefined");function Ne(e){return null!==e&&!Pe(e)&&null!==e.constructor&&!Pe(e.constructor)&&De(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Oe=Ce("ArrayBuffer");const Re=xe("string"),De=xe("function"),Le=xe("number"),Me=e=>null!==e&&"object"===typeof e,Fe=e=>{if("object"!==Ie(e))return!1;const t=_e(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ke in e)&&!(Ee in e)},je=Ce("Date"),Ue=Ce("File"),ze=Ce("Blob"),Ve=Ce("FileList"),Be=Ce("URLSearchParams"),[qe,He,We,Ke]=["ReadableStream","Request","Response","Headers"].map(Ce);function Ge(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ae(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Ne(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function Qe(e,t){if(Ne(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const $e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ye=e=>!Pe(e)&&e!==$e;const Je=(Xe="undefined"!==typeof Uint8Array&&_e(Uint8Array),e=>Xe&&e instanceof Xe);var Xe;const Ze=Ce("HTMLFormElement"),et=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),tt=Ce("RegExp"),nt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ge(n,(n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)}),Object.defineProperties(e,r)};const rt=Ce("AsyncFunction"),it=(ot="function"===typeof setImmediate,st=De($e.postMessage),ot?setImmediate:st?((e,t)=>($e.addEventListener("message",n=>{let{source:r,data:i}=n;r===$e&&i===e&&t.length&&t.shift()()},!1),n=>{t.push(n),$e.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var ot,st;const at="undefined"!==typeof queueMicrotask?queueMicrotask.bind($e):"undefined"!==typeof process&&process.nextTick||it,lt={isArray:Ae,isArrayBuffer:Oe,isBuffer:Ne,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||De(e.append)&&("formdata"===(t=Ie(e))||"object"===t&&De(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Oe(e.buffer),t},isString:Re,isNumber:Le,isBoolean:e=>!0===e||!1===e,isObject:Me,isPlainObject:Fe,isEmptyObject:e=>{if(!Me(e)||Ne(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:qe,isRequest:He,isResponse:We,isHeaders:Ke,isUndefined:Pe,isDate:je,isFile:Ue,isBlob:ze,isRegExp:tt,isFunction:De,isStream:e=>Me(e)&&De(e.pipe),isURLSearchParams:Be,isTypedArray:Je,isFileList:Ve,forEach:Ge,merge:function e(){const{caseless:t,skipUndefined:n}=Ye(this)&&this||{},r={},i=(i,o)=>{const s=t&&Qe(r,o)||o;Fe(r[s])&&Fe(i)?r[s]=e(r[s],i):Fe(i)?r[s]=e({},i):Ae(i)?r[s]=i.slice():n&&Pe(i)||(r[s]=i)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Ge(arguments[o],i);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ge(t,(t,r)=>{n&&De(t)?e[r]=we(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&_e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ie,kindOfTest:Ce,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ae(e))return e;let t=e.length;if(!Le(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ee]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ze,hasOwnProperty:et,hasOwnProp:et,reduceDescriptors:nt,freezeMethods:e=>{nt(e,(t,n)=>{if(De(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];De(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ae(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Qe,global:$e,isContextDefined:Ye,isSpecCompliantForm:function(e){return!!(e&&De(e.append)&&"FormData"===e[ke]&&e[Ee])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Me(e)){if(t.indexOf(e)>=0)return;if(Ne(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Ae(e)?[]:{};return Ge(e,(e,t)=>{const o=n(e,r+1);!Pe(o)&&(i[t]=o)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:rt,isThenable:e=>e&&(Me(e)||De(e))&&De(e.then)&&De(e.catch),setImmediate:it,asap:at,isIterable:e=>null!=e&&De(e[Ee])};function ct(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}lt.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const ut=ct.prototype,dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dt[e]={value:e}}),Object.defineProperties(ct,dt),Object.defineProperty(ut,"isAxiosError",{value:!0}),ct.from=(e,t,n,r,i,o)=>{const s=Object.create(ut);lt.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const a=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return ct.call(s,a,l,n,r,i),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",o&&Object.assign(s,o),s};const ht=ct;function ft(e){return lt.isPlainObject(e)||lt.isArray(e)}function pt(e){return lt.endsWith(e,"[]")?e.slice(0,-2):e}function mt(e,t,n){return e?e.concat(t).map(function(e,t){return e=pt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const gt=lt.toFlatObject(lt,{},null,function(e){return/^is[A-Z]/.test(e)});const yt=function(e,t,n){if(!lt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=lt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!lt.isUndefined(t[e])})).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&lt.isSpecCompliantForm(t);if(!lt.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(lt.isDate(e))return e.toISOString();if(lt.isBoolean(e))return e.toString();if(!a&&lt.isBlob(e))throw new ht("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(e)||lt.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(lt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(lt.isArray(e)&&function(e){return lt.isArray(e)&&!e.some(ft)}(e)||(lt.isFileList(e)||lt.endsWith(n,"[]"))&&(a=lt.toArray(e)))return n=pt(n),a.forEach(function(e,r){!lt.isUndefined(e)&&null!==e&&t.append(!0===s?mt([n],r,o):null===s?n:n+"[]",l(e))}),!1;return!!ft(e)||(t.append(mt(i,n,o),l(e)),!1)}const u=[],d=Object.assign(gt,{defaultVisitor:c,convertValue:l,isVisitable:ft});if(!lt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!lt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),lt.forEach(n,function(n,o){!0===(!(lt.isUndefined(n)||null===n)&&i.call(t,n,lt.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])}),u.pop()}}(e),t};function vt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function bt(e,t){this._pairs=[],e&&yt(e,this,t)}const wt=bt.prototype;wt.append=function(e,t){this._pairs.push([e,t])},wt.toString=function(e){const t=e?function(t){return e.call(this,t,vt)}:vt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const St=bt;function _t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Et(e,t,n){if(!t)return e;const r=n&&n.encode||_t;lt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):lt.isURLSearchParams(t)?t.toString():new St(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const kt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){lt.forEach(this.handlers,function(t){null!==t&&e(t)})}},It={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}function xt(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach(function(t){xt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Nt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:St,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ot="undefined"!==typeof window&&"undefined"!==typeof document,Rt="object"===typeof navigator&&navigator||void 0,Dt=Ot&&(!Rt||["ReactNative","NativeScript","NS"].indexOf(Rt.product)<0),Lt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Mt=Ot&&window.location.href||"http://localhost",Ft=Pt(Pt({},e),Nt);const jt=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&lt.isArray(r)?r.length:o,a)return lt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&lt.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&lt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(lt.isFormData(e)&&lt.isFunction(e.entries)){const n={};return lt.forEachEntry(e,(e,r)=>{t(function(e){return lt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Ut={transitional:It,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=lt.isObject(e);i&&lt.isHTMLForm(e)&&(e=new FormData(e));if(lt.isFormData(e))return r?JSON.stringify(jt(e)):e;if(lt.isArrayBuffer(e)||lt.isBuffer(e)||lt.isStream(e)||lt.isFile(e)||lt.isBlob(e)||lt.isReadableStream(e))return e;if(lt.isArrayBufferView(e))return e.buffer;if(lt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return yt(e,new Ft.classes.URLSearchParams,Pt({visitor:function(e,t,n,r){return Ft.isNode&&lt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=lt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return yt(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(lt.isString(e))try{return(t||JSON.parse)(e),lt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ut.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(lt.isResponse(e)||lt.isReadableStream(e))return e;if(e&&lt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(i){if(n){if("SyntaxError"===i.name)throw ht.from(i,ht.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],e=>{Ut.headers[e]={}});const zt=Ut,Vt=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bt=Symbol("internals");function qt(e){return e&&String(e).trim().toLowerCase()}function Ht(e){return!1===e||null==e?e:lt.isArray(e)?e.map(Ht):String(e)}function Wt(e,t,n,r,i){return lt.isFunction(r)?r.call(this,t,n):(i&&(t=n),lt.isString(t)?lt.isString(r)?-1!==t.indexOf(r):lt.isRegExp(r)?r.test(t):void 0:void 0)}class Kt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=qt(t);if(!i)throw new Error("header name must be a non-empty string");const o=lt.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ht(e))}const o=(e,t)=>lt.forEach(e,(e,n)=>i(e,n,t));if(lt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(lt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Vt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(lt.isObject(e)&&lt.isIterable(e)){let n,r,i={};for(const t of e){if(!lt.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?lt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=qt(e)){const n=lt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(lt.isFunction(t))return t.call(this,e,n);if(lt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qt(e)){const n=lt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Wt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=qt(e)){const i=lt.findKey(n,e);!i||t&&!Wt(0,n[i],i,t)||(delete n[i],r=!0)}}return lt.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Wt(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return lt.forEach(this,(r,i)=>{const o=lt.findKey(n,i);if(o)return t[o]=Ht(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();s!==i&&delete t[i],t[s]=Ht(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return lt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&lt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Bt]=this[Bt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=qt(e);t[r]||(!function(e,t){const n=lt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return lt.isArray(e)?e.forEach(r):r(e),this}}Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),lt.reduceDescriptors(Kt.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),lt.freezeMethods(Kt);const Gt=Kt;function Qt(e,t){const n=this||zt,r=t||n,i=Gt.from(r.headers);let o=r.data;return lt.forEach(e,function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function $t(e){return!(!e||!e.__CANCEL__)}function Yt(e,t,n){ht.call(this,null==e?"canceled":e,ht.ERR_CANCELED,t,n),this.name="CanceledError"}lt.inherits(Yt,ht,{__CANCEL__:!0});const Jt=Yt;function Xt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Zt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const en=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},o-t)))},()=>n&&s(n)]},tn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Zt(50,250);return en(n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},nn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lt.asap(()=>e(...n))},on=Ft.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ft.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,sn=Ft.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];lt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),lt.isString(r)&&s.push("path="+r),lt.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function an(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ln=e=>e instanceof Gt?Pt({},e):e;function cn(e,t){t=t||{};const n={};function r(e,t,n,r){return lt.isPlainObject(e)&&lt.isPlainObject(t)?lt.merge.call({caseless:r},e,t):lt.isPlainObject(t)?lt.merge({},t):lt.isArray(t)?t.slice():t}function i(e,t,n,i){return lt.isUndefined(t)?lt.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!lt.isUndefined(t))return r(void 0,t)}function s(e,t){return lt.isUndefined(t)?lt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(ln(e),ln(t),0,!0)};return lt.forEach(Object.keys(Pt(Pt({},e),t)),function(r){const o=l[r]||i,s=o(e[r],t[r],r);lt.isUndefined(s)&&o!==a||(n[r]=s)}),n}const un=e=>{const t=cn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=Gt.from(s),t.url=Et(an(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),lt.isFormData(n))if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(lt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&s.set(n,r)})}if(Ft.hasStandardBrowserEnv&&(r&&lt.isFunction(r)&&(r=r(t)),r||!1!==r&&on(t.url))){const e=i&&o&&sn.read(o);e&&s.set(i,e)}return t},dn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=un(e);let i=r.data;const o=Gt.from(r.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Gt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Xt(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ht("Request aborted",ht.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new ht(r,ht.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||It;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ht(t,i.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&lt.forEach(o.toJSON(),function(e,t){m.setRequestHeader(t,e)}),lt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=tn(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=tn(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new Jt(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Ft.protocols.indexOf(y)?n(new ht("Unsupported protocol "+y+":",ht.ERR_BAD_REQUEST,e)):m.send(i||null)})},hn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ht?t:new Jt(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,i(new ht("timeout ".concat(t," of ms exceeded"),ht.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>lt.asap(s),a}};function fn(e,t){this.v=e,this.k=t}function pn(e){return function(){return new mn(e.apply(this,arguments))}}function mn(e){var t,n;function r(t,n){try{var o=e[t](n),s=o.value,a=s instanceof fn;Promise.resolve(a?s.v:s).then(function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function gn(e){return new fn(e,0)}function yn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new fn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function vn(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new bn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function bn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return bn=function(e){this.s=e,this.n=e.next},bn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new bn(e)}mn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},mn.prototype.next=function(e){return this._invoke("next",e)},mn.prototype.throw=function(e){return this._invoke("throw",e)},mn.prototype.return=function(e){return this._invoke("return",e)};const wn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Sn=function(){var e=pn(function*(e,t){var n,r=!1,i=!1;try{for(var o,s=vn(_n(e));r=!(o=yield gn(s.next())).done;r=!1){const e=o.value;yield*yn(vn(wn(e,t)))}}catch(a){i=!0,n=a}finally{try{r&&null!=s.return&&(yield gn(s.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),_n=function(){var e=pn(function*(e){if(e[Symbol.asyncIterator])return void(yield*yn(vn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield gn(t.read());if(e)break;yield n}}finally{yield gn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),En=(e,t,n,r)=>{const i=Sn(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},{isFunction:kn}=lt,In=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(lt.global),{ReadableStream:Tn,TextEncoder:Cn}=lt.global,xn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(i){return!1}},An=e=>{e=lt.merge.call({skipUndefined:!0},In,e);const{fetch:t,Request:n,Response:r}=e,i=t?kn(t):"function"===typeof fetch,o=kn(n),s=kn(r);if(!i)return!1;const a=i&&kn(Tn),l=i&&("function"===typeof Cn?(c=new Cn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=o&&a&&xn(()=>{let e=!1;const t=new n(Ft.origin,{body:new Tn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=s&&a&&xn(()=>lt.isReadableStream(new r("").body)),h={stream:d&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new ht("Response type '".concat(e,"' is not supported"),ht.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=lt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(lt.isBlob(e))return e.size;if(lt.isSpecCompliantForm(e)){const t=new n(Ft.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return lt.isArrayBufferView(e)||lt.isArrayBuffer(e)?e.byteLength:(lt.isURLSearchParams(e)&&(e+=""),lt.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:s,data:a,signal:l,cancelToken:c,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=un(e),S=t||fetch;y=y?(y+"").toLowerCase():"text";let _=hn([l,c&&c.toAbortSignal()],p),E=null;const k=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let I;try{if(g&&u&&"get"!==s&&"head"!==s&&0!==(I=await f(v,a))){let e,t=new n(i,{method:"POST",body:a,duplex:"half"});if(lt.isFormData(a)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=nn(I,tn(rn(g)));a=En(t.body,65536,e,n)}}lt.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in n.prototype,l=Pt(Pt({},w),{},{signal:_,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:a,duplex:"half",credentials:t?b:void 0});E=o&&new n(i,l);let c=await(o?S(E,w):S(i,l));const p=d&&("stream"===y||"response"===y);if(d&&(m||p&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=lt.toFiniteNumber(c.headers.get("content-length")),[n,i]=m&&nn(t,tn(rn(m),!0))||[];c=new r(En(c.body,65536,n,()=>{i&&i(),k&&k()}),e)}y=y||"text";let T=await h[lt.findKey(h,y)||"text"](c,e);return!p&&k&&k(),await new Promise((t,n)=>{Xt(t,n,{data:T,headers:Gt.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:E})})}catch(T){if(k&&k(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new ht("Network Error",ht.ERR_NETWORK,e,E),{cause:T.cause||T});throw ht.from(T,T&&T.code,e,E)}}},Pn=new Map,Nn=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,o=[r,i,n];let s,a,l=o.length,c=Pn;for(;l--;)s=o[l],a=c.get(s),void 0===a&&c.set(s,a=l?new Map:An(t)),c=a;return a},On=(Nn(),{http:null,xhr:dn,fetch:{get:Nn}});lt.forEach(On,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Rn=e=>"- ".concat(e),Dn=e=>lt.isFunction(e)||null===e||!1===e,Ln=(e,t)=>{e=lt.isArray(e)?e:[e];const{length:n}=e;let r,i;const o={};for(let s=0;s<n;s++){let n;if(r=e[s],i=r,!Dn(r)&&(i=On[(n=String(r)).toLowerCase()],void 0===i))throw new ht("Unknown adapter '".concat(n,"'"));if(i&&(lt.isFunction(i)||(i=i.get(t))))break;o[n||"#"+s]=i}if(!i){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Rn).join("\n"):" "+Rn(e[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i};function Mn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jt(null,e)}function Fn(e){Mn(e),e.headers=Gt.from(e.headers),e.data=Qt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ln(e.adapter||zt.adapter,e)(e).then(function(t){return Mn(e),t.data=Qt.call(e,e.transformResponse,t),t.headers=Gt.from(t.headers),t},function(t){return $t(t)||(Mn(e),t&&t.response&&(t.response.data=Qt.call(e,e.transformResponse,t.response),t.response.headers=Gt.from(t.response.headers))),Promise.reject(t)})}const jn="1.12.2",Un={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Un[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zn={};Un.transitional=function(e,t,n){function r(e,t){return"[Axios v"+jn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new ht(r(i," has been removed"+(t?" in "+t:"")),ht.ERR_DEPRECATED);return t&&!zn[i]&&(zn[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},Un.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Vn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new ht("option "+o+" must be "+n,ht.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new ht("Unknown option "+o,ht.ERR_BAD_OPTION)}},validators:Un},Bn=Vn.validators;class qn{constructor(e){this.defaults=e||{},this.interceptors={request:new kt,response:new kt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=cn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Vn.assertOptions(n,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),null!=r&&(lt.isFunction(r)?t.paramsSerializer={serialize:r}:Vn.assertOptions(r,{encode:Bn.function,serialize:Bn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Vn.assertOptions(t,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&lt.merge(i.common,i[t.method]);i&&lt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=Gt.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!a){const e=[Fn.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Fn.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Et(an((e=cn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}lt.forEach(["delete","get","head","options"],function(e){qn.prototype[e]=function(t,n){return this.request(cn(n||{},{method:e,url:t,data:(n||{}).data}))}}),lt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(cn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}qn.prototype[e]=t(),qn.prototype[e+"Form"]=t(!0)});const Hn=qn;class Wn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Jt(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Wn(function(t){e=t}),cancel:e}}}const Kn=Wn;const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gn).forEach(e=>{let[t,n]=e;Gn[n]=t});const Qn=Gn;const $n=function e(t){const n=new Hn(t),r=we(Hn.prototype.request,n);return lt.extend(r,Hn.prototype,n,{allOwnKeys:!0}),lt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(cn(t,n))},r}(zt);$n.Axios=Hn,$n.CanceledError=Jt,$n.CancelToken=Kn,$n.isCancel=$t,$n.VERSION=jn,$n.toFormData=yt,$n.AxiosError=ht,$n.Cancel=$n.CanceledError,$n.all=function(e){return Promise.all(e)},$n.spread=function(e){return function(t){return e.apply(null,t)}},$n.isAxiosError=function(e){return lt.isObject(e)&&!0===e.isAxiosError},$n.mergeConfig=cn,$n.AxiosHeaders=Gt,$n.formToJSON=e=>jt(lt.isHTMLForm(e)?new FormData(e):e),$n.getAdapter=Ln,$n.HttpStatusCode=Qn,$n.default=$n;const Yn=$n;var Jn=n(950),Xn=n.t(Jn,2);function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function er(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const tr=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(tD){}new Map;const nr=o.startTransition;Xn.flushSync,o.useId;function rr(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,a)));let l=s.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&nr?nr(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>me(r),[r]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const ir="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,or=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=er(e,tr),{basename:g}=i.useContext(G),y=!1;if("string"===typeof d&&or.test(d)&&(n=d,ir))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(tD){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:r,navigator:o}=i.useContext(G),{hash:s,pathname:a,search:l}=ne(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:F([r,a])),o.createHref({pathname:u,search:l,hash:s})}(d,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=ee(),u=X(),d=ne(e,{relative:a});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,o,n,e,s,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",Zn({},m,{href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))});var ar,lr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ar||(ar={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lr||(lr={}));function cr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ur(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ur(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const dr=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ur(e))&&(r&&(r+=" "),r+=t);return r};const hr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))},fr={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function pr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let s="",a=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[i]=s}return r}var mr=n(579);const gr=i.createContext();function yr(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function vr(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function br(e){if("string"!==typeof e)throw new Error(vr(7));return e.charAt(0).toUpperCase()+e.slice(1)}const wr=br;let Sr=0;const _r=Pt({},o).useId;const Er=function(e){if(void 0!==_r){const t=_r();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect(()=>{null==t&&(Sr+=1,n("mui-".concat(Sr)))},[t]),r}(e)};const kr=function(e){const{controlled:t,default:n,name:r,state:o="value"}=e,{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback(e=>{s||l(e)},[])]};function Ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.useRef(void 0),o=i.useCallback(e=>{const n=t.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{n.forEach(e=>null===e||void 0===e?void 0:e())}},t);return i.useMemo(()=>t.every(e=>null==e)?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=o(e))},t)}const Tr=Ir;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr.apply(null,arguments)}var xr=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(tD){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Ar=Math.abs,Pr=String.fromCharCode,Nr=Object.assign;function Or(e){return e.trim()}function Rr(e,t,n){return e.replace(t,n)}function Dr(e,t){return e.indexOf(t)}function Lr(e,t){return 0|e.charCodeAt(t)}function Mr(e,t,n){return e.slice(t,n)}function Fr(e){return e.length}function jr(e){return e.length}function Ur(e,t){return t.push(e),e}var zr=1,Vr=1,Br=0,qr=0,Hr=0,Wr="";function Kr(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:zr,column:Vr,length:s,return:""}}function Gr(e,t){return Nr(Kr("",null,null,"",null,null,0),e,{length:-e.length},t)}function Qr(){return Hr=qr>0?Lr(Wr,--qr):0,Vr--,10===Hr&&(Vr=1,zr--),Hr}function $r(){return Hr=qr<Br?Lr(Wr,qr++):0,Vr++,10===Hr&&(Vr=1,zr++),Hr}function Yr(){return Lr(Wr,qr)}function Jr(){return qr}function Xr(e,t){return Mr(Wr,e,t)}function Zr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ei(e){return zr=Vr=1,Br=Fr(Wr=e),qr=0,[]}function ti(e){return Wr="",e}function ni(e){return Or(Xr(qr-1,oi(91===e?e+2:40===e?e+1:e)))}function ri(e){for(;(Hr=Yr())&&Hr<33;)$r();return Zr(e)>2||Zr(Hr)>3?"":" "}function ii(e,t){for(;--t&&$r()&&!(Hr<48||Hr>102||Hr>57&&Hr<65||Hr>70&&Hr<97););return Xr(e,Jr()+(t<6&&32==Yr()&&32==$r()))}function oi(e){for(;$r();)switch(Hr){case e:return qr;case 34:case 39:34!==e&&39!==e&&oi(Hr);break;case 40:41===e&&oi(e);break;case 92:$r()}return qr}function si(e,t){for(;$r()&&e+Hr!==57&&(e+Hr!==84||47!==Yr()););return"/*"+Xr(t,qr-1)+"*"+Pr(47===e?e:$r())}function ai(e){for(;!Zr(Yr());)$r();return Xr(e,qr)}var li="-ms-",ci="-moz-",ui="-webkit-",di="comm",hi="rule",fi="decl",pi="@keyframes";function mi(e,t){for(var n="",r=jr(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function gi(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case fi:return e.return=e.return||e.value;case di:return"";case pi:return e.return=e.value+"{"+mi(e.children,r)+"}";case hi:e.value=e.props.join(",")}return Fr(n=mi(e.children,r))?e.return=e.value+"{"+n+"}":""}function yi(e){return ti(vi("",null,null,null,[""],e=ei(e),0,[0],e))}function vi(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,h=0,f=0,p=0,m=1,g=1,y=1,v=0,b="",w=i,S=o,_=r,E=b;g;)switch(p=v,v=$r()){case 40:if(108!=p&&58==Lr(E,d-1)){-1!=Dr(E+=Rr(ni(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:E+=ni(v);break;case 9:case 10:case 13:case 32:E+=ri(p);break;case 92:E+=ii(Jr()-1,7);continue;case 47:switch(Yr()){case 42:case 47:Ur(wi(si($r(),Jr()),t,n),l);break;default:E+="/"}break;case 123*m:a[c++]=Fr(E)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(E=Rr(E,/\f/g,"")),f>0&&Fr(E)-d&&Ur(f>32?Si(E+";",r,n,d-1):Si(Rr(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(Ur(_=bi(E,t,n,c,u,i,a,b,w=[],S=[],d),o),123===v)if(0===u)vi(E,t,_,_,w,o,d,a,S);else switch(99===h&&110===Lr(E,3)?100:h){case 100:case 108:case 109:case 115:vi(e,_,_,r&&Ur(bi(e,_,_,0,0,i,a,b,i,w=[],d),S),i,S,d,a,r?w:S);break;default:vi(E,_,_,_,[""],S,0,a,S)}}c=u=f=0,m=y=1,b=E="",d=s;break;case 58:d=1+Fr(E),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==Qr())continue;switch(E+=Pr(v),v*m){case 38:y=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Fr(E)-1)*y,y=1;break;case 64:45===Yr()&&(E+=ni($r())),h=Yr(),u=d=Fr(b=E+=ai(Jr())),v++;break;case 45:45===p&&2==Fr(E)&&(m=0)}}return o}function bi(e,t,n,r,i,o,s,a,l,c,u){for(var d=i-1,h=0===i?o:[""],f=jr(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=Mr(e,d+1,d=Ar(m=s[p])),b=e;y<f;++y)(b=Or(m>0?h[y]+" "+v:Rr(v,/&\f/g,h[y])))&&(l[g++]=b);return Kr(e,t,n,0===i?hi:a,l,c,u)}function wi(e,t,n){return Kr(e,t,n,di,Pr(Hr),Mr(e,2,-2),0)}function Si(e,t,n,r){return Kr(e,t,n,fi,Mr(e,0,r),Mr(e,r+1,-1),r)}var _i=function(e,t,n){for(var r=0,i=0;r=i,i=Yr(),38===r&&12===i&&(t[n]=1),!Zr(i);)$r();return Xr(e,qr)},Ei=function(e,t){return ti(function(e,t){var n=-1,r=44;do{switch(Zr(r)){case 0:38===r&&12===Yr()&&(t[n]=1),e[n]+=_i(qr-1,t,n);break;case 2:e[n]+=ni(r);break;case 4:if(44===r){e[++n]=58===Yr()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Pr(r)}}while(r=$r());return e}(ei(e),t))},ki=new WeakMap,Ii=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ki.get(n))&&!r){ki.set(e,!0);for(var i=[],o=Ei(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},Ti=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ci(e,t){switch(function(e,t){return 45^Lr(e,0)?(((t<<2^Lr(e,0))<<2^Lr(e,1))<<2^Lr(e,2))<<2^Lr(e,3):0}(e,t)){case 5103:return ui+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ui+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ui+e+ci+e+li+e+e;case 6828:case 4268:return ui+e+li+e+e;case 6165:return ui+e+li+"flex-"+e+e;case 5187:return ui+e+Rr(e,/(\w+).+(:[^]+)/,ui+"box-$1$2"+li+"flex-$1$2")+e;case 5443:return ui+e+li+"flex-item-"+Rr(e,/flex-|-self/,"")+e;case 4675:return ui+e+li+"flex-line-pack"+Rr(e,/align-content|flex-|-self/,"")+e;case 5548:return ui+e+li+Rr(e,"shrink","negative")+e;case 5292:return ui+e+li+Rr(e,"basis","preferred-size")+e;case 6060:return ui+"box-"+Rr(e,"-grow","")+ui+e+li+Rr(e,"grow","positive")+e;case 4554:return ui+Rr(e,/([^-])(transform)/g,"$1"+ui+"$2")+e;case 6187:return Rr(Rr(Rr(e,/(zoom-|grab)/,ui+"$1"),/(image-set)/,ui+"$1"),e,"")+e;case 5495:case 3959:return Rr(e,/(image-set\([^]*)/,ui+"$1$`$1");case 4968:return Rr(Rr(e,/(.+:)(flex-)?(.*)/,ui+"box-pack:$3"+li+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ui+e+e;case 4095:case 3583:case 4068:case 2532:return Rr(e,/(.+)-inline(.+)/,ui+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fr(e)-1-t>6)switch(Lr(e,t+1)){case 109:if(45!==Lr(e,t+4))break;case 102:return Rr(e,/(.+:)(.+)-([^]+)/,"$1"+ui+"$2-$3$1"+ci+(108==Lr(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Dr(e,"stretch")?Ci(Rr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Lr(e,t+1))break;case 6444:switch(Lr(e,Fr(e)-3-(~Dr(e,"!important")&&10))){case 107:return Rr(e,":",":"+ui)+e;case 101:return Rr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ui+(45===Lr(e,14)?"inline-":"")+"box$3$1"+ui+"$2$3$1"+li+"$2box$3")+e}break;case 5936:switch(Lr(e,t+11)){case 114:return ui+e+li+Rr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ui+e+li+Rr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ui+e+li+Rr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ui+e+li+e+e}return e}var xi=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case fi:e.return=Ci(e.value,e.length);break;case pi:return mi([Gr(e,{value:Rr(e.value,"@","@"+ui)})],r);case hi:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mi([Gr(e,{props:[Rr(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return mi([Gr(e,{props:[Rr(t,/:(plac\w+)/,":"+ui+"input-$1")]}),Gr(e,{props:[Rr(t,/:(plac\w+)/,":-moz-$1")]}),Gr(e,{props:[Rr(t,/:(plac\w+)/,li+"input-$1")]})],r)}return""})}}],Ai=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,i,o=e.stylisPlugins||xi,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)});var l,c,u=[gi,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=jr(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([Ii,Ti].concat(o,u));i=function(e,t,n,r){l=n,mi(yi(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new xr({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return h.sheet.hydrate(a),h};var Pi={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ni(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Oi=/[A-Z]|^ms/g,Ri=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Di=function(e){return 45===e.charCodeAt(1)},Li=function(e){return null!=e&&"boolean"!==typeof e},Mi=Ni(function(e){return Di(e)?e:e.replace(Oi,"-$&").toLowerCase()}),Fi=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ri,function(e,t,n){return Ui={name:t,styles:n,next:Ui},t})}return 1===Pi[e]||Di(e)||"number"!==typeof t||0===t?t:t+"px"};function ji(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Ui={name:i.name,styles:i.styles,next:Ui},i.name;var o=n;if(void 0!==o.styles){var s=o.next;if(void 0!==s)for(;void 0!==s;)Ui={name:s.name,styles:s.styles,next:Ui},s=s.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ji(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Li(a)&&(r+=Mi(o)+":"+Fi(o,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=ji(e,t,s);switch(o){case"animation":case"animationName":r+=Mi(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Li(s[c])&&(r+=Mi(o)+":"+Fi(o,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Ui,l=n(e);return Ui=a,ji(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Ui,zi=/label:\s*([^\s;{]+)\s*(;|$)/g;function Vi(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ui=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ji(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=ji(n,t,e[s]),r)i+=o[s]}zi.lastIndex=0;for(var a,l="";null!==(a=zi.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Ui}}var Bi=!!o.useInsertionEffect&&o.useInsertionEffect,qi=Bi||function(e){return e()},Hi=(Bi||i.useLayoutEffect,i.createContext("undefined"!==typeof HTMLElement?Ai({key:"css"}):null)),Wi=(Hi.Provider,function(e){return(0,i.forwardRef)(function(t,n){var r=(0,i.useContext)(Hi);return e(t,r,n)})}),Ki=i.createContext({});var Gi=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Qi=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$i=Ni(function(e){return Qi.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),Yi=function(e){return"theme"!==e},Ji=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?$i:Yi},Xi=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Zi=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Gi(t,n,r),qi(function(){return function(e,t,n){Gi(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}),null},eo=function e(t,n){var r,o,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=Xi(t,n,s),c=l||Ji(a),u=!c("as");return function(){var d=arguments,h=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],f[m])}var g=Wi(function(e,t,n){var r=u&&e.as||a,s="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=i.useContext(Ki)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var m=Vi(h.concat(d),t.registered,f);s+=t.key+"-"+m.name,void 0!==o&&(s+=" "+o);var g=u&&void 0===l?Ji(r):c,y={};for(var v in e)u&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,n&&(y.ref=n),i.createElement(i.Fragment,null,i.createElement(Zi,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,y))});return g.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=a,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Cr({},n,r,{shouldForwardProp:Xi(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function to(e,t){return eo(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){eo[e]=eo(e)});const no=[];function ro(e){return no[0]=e,Vi(no)}var io=n(191);function oo(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function so(e){if(i.isValidElement(e)||(0,io.Hy)(e)||!oo(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=so(e[n])}),t}function ao(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?Pt({},e):e;return oo(e)&&oo(t)&&Object.keys(t).forEach(o=>{i.isValidElement(t[o])||(0,io.Hy)(t[o])?r[o]=t[o]:oo(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&oo(e[o])?r[o]=ao(e[o],t[o],n):n.clone?r[o]=oo(t[o])?so(t[o]):t[o]:r[o]=t[o]}),r}const lo=["values","unit","step"];function co(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=cr(e,lo),o=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>Pt(Pt({},e),{},{[t.key]:t.val}),{})})(t),s=Object.keys(o);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=s.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-r/100).concat(n,")")}return Pt({keys:s,values:o,up:a,down:l,between:c,only:function(e){return s.indexOf(e)+1<s.length?c(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?l(s[t]):c(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}function uo(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},Pt({},t)):t}const ho={borderRadius:4},fo={xs:0,sm:600,md:900,lg:1200,xl:1536},po={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(fo[e],"px)")},mo={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:fo[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function go(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||po;return t.reduce((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r),{})}if("object"===typeof t){const e=r.breakpoints||po;return Object.keys(t).reduce((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:mo,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||fo).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i},{})}return n(t)}function yo(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{}))||{}}function vo(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function bo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function wo(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:bo(e,n)||i,t&&(r=t(r,i,e)),r}const So=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],s=bo(e.theme,r)||{};return go(e,o,e=>{let r=wo(s,i,e);return e===r&&"string"===typeof e&&(r=wo(s,i,"".concat(t).concat("default"===e?"":br(e)),e)),!1===n?r:{[n]:r}})};return o.propTypes={},o.filterProps=[t],o};const _o=function(e,t){return t?ao(e,t,{clone:!1}):e};const Eo={m:"margin",p:"padding"},ko={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Io={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},To=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!Io[e])return[e];e=Io[e]}const[t,n]=e.split(""),r=Eo[t],i=ko[n]||"";return Array.isArray(i)?i.map(e=>r+e):[r+i]}),Co=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xo=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ao=[...Co,...xo];function Po(e,t,n,r){var i;const o=null!==(i=bo(e,t,!0))&&void 0!==i?i:n;return"number"===typeof o||"string"===typeof o?e=>"string"===typeof e?e:"string"===typeof o?o.startsWith("var(")&&0===e?0:o.startsWith("var(")&&1===e?o:"calc(".concat(e," * ").concat(o,")"):o*e:Array.isArray(o)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=o[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof o?o:()=>{}}function No(e){return Po(e,"spacing",8)}function Oo(e,t){return"string"===typeof t||null==t?t:e(t)}function Ro(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce((e,r)=>(e[r]=Oo(t,n),e),{})}(To(n),r);return go(e,e[n],i)}function Do(e,t){const n=No(e.theme);return Object.keys(e).map(r=>Ro(e,t,r,n)).reduce(_o,{})}function Lo(e){return Do(e,Co)}function Mo(e){return Do(e,xo)}function Fo(e){return Do(e,Ao)}Lo.propTypes={},Lo.filterProps=Co,Mo.propTypes={},Mo.filterProps=xo,Fo.propTypes={},Fo.filterProps=Ao;function jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:No({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}const Uo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((t,n)=>r[n]?_o(t,r[n](e)):t,{});return i.propTypes={},i.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),i};function zo(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Vo(e,t){return So({prop:e,themeKey:"borders",transform:t})}const Bo=Vo("border",zo),qo=Vo("borderTop",zo),Ho=Vo("borderRight",zo),Wo=Vo("borderBottom",zo),Ko=Vo("borderLeft",zo),Go=Vo("borderColor"),Qo=Vo("borderTopColor"),$o=Vo("borderRightColor"),Yo=Vo("borderBottomColor"),Jo=Vo("borderLeftColor"),Xo=Vo("outline",zo),Zo=Vo("outlineColor"),es=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Po(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Oo(t,e)});return go(e,e.borderRadius,n)}return null};es.propTypes={},es.filterProps=["borderRadius"];Uo(Bo,qo,Ho,Wo,Ko,Go,Qo,$o,Yo,Jo,es,Xo,Zo);const ts=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Po(e.theme,"spacing",8),n=e=>({gap:Oo(t,e)});return go(e,e.gap,n)}return null};ts.propTypes={},ts.filterProps=["gap"];const ns=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Po(e.theme,"spacing",8),n=e=>({columnGap:Oo(t,e)});return go(e,e.columnGap,n)}return null};ns.propTypes={},ns.filterProps=["columnGap"];const rs=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Po(e.theme,"spacing",8),n=e=>({rowGap:Oo(t,e)});return go(e,e.rowGap,n)}return null};rs.propTypes={},rs.filterProps=["rowGap"];Uo(ts,ns,rs,So({prop:"gridColumn"}),So({prop:"gridRow"}),So({prop:"gridAutoFlow"}),So({prop:"gridAutoColumns"}),So({prop:"gridAutoRows"}),So({prop:"gridTemplateColumns"}),So({prop:"gridTemplateRows"}),So({prop:"gridTemplateAreas"}),So({prop:"gridArea"}));function is(e,t){return"grey"===t?t:e}Uo(So({prop:"color",themeKey:"palette",transform:is}),So({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:is}),So({prop:"backgroundColor",themeKey:"palette",transform:is}));function os(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const ss=So({prop:"width",transform:os}),as=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||fo[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:os(t)}};return go(e,e.maxWidth,t)}return null};as.filterProps=["maxWidth"];const ls=So({prop:"minWidth",transform:os}),cs=So({prop:"height",transform:os}),us=So({prop:"maxHeight",transform:os}),ds=So({prop:"minHeight",transform:os}),hs=(So({prop:"size",cssProperty:"width",transform:os}),So({prop:"size",cssProperty:"height",transform:os}),Uo(ss,as,ls,cs,us,ds,So({prop:"boxSizing"})),{border:{themeKey:"borders",transform:zo},borderTop:{themeKey:"borders",transform:zo},borderRight:{themeKey:"borders",transform:zo},borderBottom:{themeKey:"borders",transform:zo},borderLeft:{themeKey:"borders",transform:zo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:es},color:{themeKey:"palette",transform:is},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:is},backgroundColor:{themeKey:"palette",transform:is},p:{style:Mo},pt:{style:Mo},pr:{style:Mo},pb:{style:Mo},pl:{style:Mo},px:{style:Mo},py:{style:Mo},padding:{style:Mo},paddingTop:{style:Mo},paddingRight:{style:Mo},paddingBottom:{style:Mo},paddingLeft:{style:Mo},paddingX:{style:Mo},paddingY:{style:Mo},paddingInline:{style:Mo},paddingInlineStart:{style:Mo},paddingInlineEnd:{style:Mo},paddingBlock:{style:Mo},paddingBlockStart:{style:Mo},paddingBlockEnd:{style:Mo},m:{style:Lo},mt:{style:Lo},mr:{style:Lo},mb:{style:Lo},ml:{style:Lo},mx:{style:Lo},my:{style:Lo},margin:{style:Lo},marginTop:{style:Lo},marginRight:{style:Lo},marginBottom:{style:Lo},marginLeft:{style:Lo},marginX:{style:Lo},marginY:{style:Lo},marginInline:{style:Lo},marginInlineStart:{style:Lo},marginInlineEnd:{style:Lo},marginBlock:{style:Lo},marginBlockStart:{style:Lo},marginBlockEnd:{style:Lo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ts},rowGap:{style:rs},columnGap:{style:ns},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:os},maxWidth:{style:as},minWidth:{transform:os},height:{transform:os},maxHeight:{transform:os},minHeight:{transform:os},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const fs=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=o;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const u=bo(n,a)||{};if(c)return c(i);return go(i,t,t=>{let n=wo(u,l,t);return t===n&&"string"===typeof t&&(n=wo(u,l,"".concat(e).concat("default"===t?"":br(t)),t)),!1===s?n:{[s]:n}})}return function t(n){var r;const{sx:i,theme:o={},nested:s}=n||{};if(!i)return null;const a=null!==(r=o.unstable_sxConfig)&&void 0!==r?r:hs;function l(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=yo(o.breakpoints),l=Object.keys(i);let c=i;return Object.keys(r).forEach(n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],o);if(null!==i&&void 0!==i)if("object"===typeof i)if(a[n])c=_o(c,e(n,i,o,a));else{const e=go({theme:o},i,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),i=new Set(r);return t.every(e=>i.size===Object.keys(e).length)}(e,i)?c=_o(c,e):c[n]=t({sx:i,theme:o,nested:!0})}else c=_o(c,e(n,i,o,a))}),!s&&o.modularCssLayers?{"@layer sx":uo(o,vo(l,c))}:uo(o,vo(l,c))}return Array.isArray(i)?i.map(l):l(i)}}();fs.filterProps=["sx"];const ps=fs;function ms(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const gs=["breakpoints","palette","spacing","shape"];const ys=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=cr(e,gs),s=co(t),a=jo(r);let l=ao({breakpoints:s,direction:"ltr",components:{},palette:Pt({mode:"light"},n),spacing:a,shape:Pt(Pt({},ho),i)},o);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),Pt(Pt({},e),{},{containerQueries:i})}(l),l.applyStyles=ms;for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce((e,t)=>ao(e,t),l),l.unstable_sxConfig=Pt(Pt({},hs),null===o||void 0===o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return ps({sx:e,theme:this})},l},vs=["variants"];function bs(e){const{variants:t}=e,n=cr(e,vs),r={variants:t,style:ro(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=ro(e.style))}),r}const ws=["variants"],Ss=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_s=ys();function Es(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function ks(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function Is(e){return e?(t,n)=>n[e]:null}function Ts(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>Ts(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?ks(r.style,n):r.style;else{const{variants:e}=r,i=cr(r,ws);t=n?ks(ro(i),n):i}return Cs(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?ks(ro(r.style),n):r.style:n?ks(ro(r),n):r}function Cs(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let s=0;s<t.length;s+=1){const a=t[s];if("function"===typeof a.props){if(null!==n&&void 0!==n||(n=Pt(Pt(Pt({},e),e.ownerState),{},{ownerState:e.ownerState})),!a.props(n))continue}else for(const t in a.props){var o;if(e[t]!==a.props[t]&&(null===(o=e.ownerState)||void 0===o?void 0:o[t])!==a.props[t])continue e}"function"===typeof a.style?(null!==n&&void 0!==n||(n=Pt(Pt(Pt({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(i?ks(ro(a.style(n)),i):a.style(n))):r.push(i?ks(ro(a.style),i):a.style)}return r}function xs(e,t){}function As(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function Ps(e){return hr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Ns(e){if(e.type)return e;if("#"===e.charAt(0))return Ns(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(vr(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(vr(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}const Os=(e,t)=>{try{return(e=>{const t=Ns(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(n){return e}};function Rs(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Ds(e){e=Ns(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),Rs({type:a,values:l})}function Ls(e){let t="hsl"===(e=Ns(e)).type||"hsla"===e.type?Ns(Ds(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Ms(e,t){return e=Ns(e),t=Ps(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Rs(e)}function Fs(e,t,n){try{return Ms(e,t)}catch(r){return e}}function js(e,t){if(e=Ns(e),t=Ps(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Rs(e)}function Us(e,t,n){try{return js(e,t)}catch(r){return e}}function zs(e,t){if(e=Ns(e),t=Ps(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Rs(e)}function Vs(e,t,n){try{return zs(e,t)}catch(r){return e}}function Bs(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Ls(e)>.5?js(e,t):zs(e,t)}(e,t)}catch(r){return e}}const qs={black:"#000",white:"#fff"},Hs={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ws={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ks={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gs={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qs={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$s={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ys={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Js=["mode","contrastThreshold","tonalOffset","colorSpace"];function Xs(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qs.white,default:qs.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Zs=Xs();function ea(){return{text:{primary:qs.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qs.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ta=ea();function na(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=zs(e.main,i):"dark"===t&&(e.dark=js(e.main,o)))}function ra(e,t,n,r,i){const o=i.light||i,s=i.dark||1.5*i;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*o).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*s).toFixed(0),"%)")))}function ia(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:i}=e,o=cr(e,Js),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qs[200],light:Qs[50],dark:Qs[400]}:{main:Qs[700],light:Qs[400],dark:Qs[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ws[200],light:Ws[50],dark:Ws[400]}:{main:Ws[500],light:Ws[300],dark:Ws[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ks[500],light:Ks[300],dark:Ks[700]}:{main:Ks[700],light:Ks[400],dark:Ks[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$s[400],light:$s[300],dark:$s[700]}:{main:$s[700],light:$s[500],dark:$s[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ys[400],light:Ys[300],dark:Ys[700]}:{main:Ys[800],light:Ys[500],dark:Ys[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gs[400],light:Gs[300],dark:Gs[700]}:{main:"#ed6c02",light:Gs[500],dark:Gs[900]}}(t);function h(e){if(i)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=Ls(e),r=Ls(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ta.text.primary)>=n?ta.text.primary:Zs.text.primary;return t}const f=e=>{let{color:t,name:n,mainShade:o=500,lightShade:s=300,darkShade:a=700}=e;if(t=Pt({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error(vr(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error(vr(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return i?(ra(i,t,"light",s,r),ra(i,t,"dark",a,r)):(na(t,"light",s,r),na(t,"dark",a,r)),t.contrastText||(t.contrastText=h(t.main)),t};let p;"light"===t?p=Xs():"dark"===t&&(p=ea());return ao(Pt({common:Pt({},qs),mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:u,name:"success"}),grey:Hs,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},p),o)}function oa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(o):", var(--".concat(e?"".concat(e,"-"):"").concat(o).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function sa(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const aa=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])})};function la(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(i,{[r]:l}),aa(o,e,"var(".concat(r,")"),a),aa(s,e,"var(".concat(r,", ").concat(l,")"),a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):a([...n,i],o,r))})}(e),{css:i,vars:o,varsWithDefaults:s}}const ca=["colorSchemes","components","defaultColorScheme"];const ua=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=y,disableCssColorScheme:r,colorSchemeSelector:i,enableContrastVars:o}=t,{colorSchemes:s={},components:a,defaultColorScheme:l="light"}=e,c=cr(e,ca),{vars:u,css:d,varsWithDefaults:h}=la(c,t);let f=h;const p={},{[l]:m}=s,g=cr(s,[l].map(Ct));if(Object.entries(g||{}).forEach(e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:s}=la(r,t);f=ao(f,s),p[n]={css:o,vars:i}}),m){const{css:e,vars:n,varsWithDefaults:r}=la(m,t);f=ao(f,r),p[l]={css:e,vars:n}}function y(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var o;if(e.defaultColorScheme===t)return":root";const r=(null===(o=s[t])||void 0===o||null===(o=o.palette)||void 0===o?void 0:o.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:f,generateThemeVars:()=>{let e=Pt({},u);return Object.entries(p).forEach(t=>{let[,{vars:n}]=t;e=ao(e,n)}),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:Pt({},n)}:e)}a(n(void 0,Pt({},d)),d);const{[i]:l}=p,c=cr(p,[i].map(Ct));if(l){var u;const{css:e}=l,t=null===(u=s[i])||void 0===u||null===(u=u.palette)||void 0===u?void 0:u.mode,o=Pt(!r&&t?{colorScheme:t}:{},e);a(n(i,Pt({},o)),o)}return Object.entries(c).forEach(e=>{var t;let[i,{css:o}]=e;const l=null===(t=s[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=Pt(!r&&l?{colorScheme:l}:{},o);a(n(i,Pt({},c)),c)}),o&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function da(e,t){return Pt({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const ha=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const fa={textTransform:"uppercase"},pa='"Roboto", "Helvetica", "Arial", sans-serif';function ma(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=pa,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=cr(n,ha);const f=i/14,p=d||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,o)=>{return Pt(Pt(Pt({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===pa?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{}),o),u);var s},g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,fa),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,fa),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ao(Pt({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},g),h,{clone:!1})}function ga(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const ya=["none",ga(0,2,1,-1,0,1,1,0,0,1,3,0),ga(0,3,1,-2,0,2,2,0,0,1,5,0),ga(0,3,3,-2,0,3,4,0,0,1,8,0),ga(0,2,4,-1,0,4,5,0,0,1,10,0),ga(0,3,5,-1,0,5,8,0,0,1,14,0),ga(0,3,5,-1,0,6,10,0,0,1,18,0),ga(0,4,5,-2,0,7,10,1,0,2,16,1),ga(0,5,5,-3,0,8,10,1,0,3,14,2),ga(0,5,6,-3,0,9,12,1,0,3,16,2),ga(0,6,6,-3,0,10,14,1,0,4,18,3),ga(0,6,7,-4,0,11,15,1,0,4,20,3),ga(0,7,8,-4,0,12,17,2,0,5,22,4),ga(0,7,8,-4,0,13,19,2,0,5,24,4),ga(0,7,9,-4,0,14,21,2,0,5,26,4),ga(0,8,9,-5,0,15,22,2,0,6,28,5),ga(0,8,10,-5,0,16,24,2,0,6,30,5),ga(0,8,11,-5,0,17,26,2,0,6,32,5),ga(0,9,11,-5,0,18,28,2,0,7,34,6),ga(0,9,12,-6,0,19,29,2,0,7,36,6),ga(0,10,13,-6,0,20,31,3,0,8,38,7),ga(0,10,13,-6,0,21,33,3,0,8,40,7),ga(0,10,14,-6,0,22,35,3,0,8,42,7),ga(0,11,14,-7,0,23,36,3,0,9,44,8),ga(0,11,15,-7,0,24,38,3,0,9,46,8)],va=["duration","easing","delay"],ba={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wa={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Sa(e){return"".concat(Math.round(e),"ms")}function _a(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Ea(e){const t=Pt(Pt({},ba),e.easing),n=Pt(Pt({},wa),e.duration);return Pt(Pt({getAutoHeightDuration:_a,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:s=0}=r;cr(r,va);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof i?i:Sa(i)," ").concat(o," ").concat("string"===typeof s?s:Sa(s))).join(",")}},e),{},{easing:t,duration:n})}const ka={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ia(e){return oo(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function Ta(){const e=Pt({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[i,o]=n[r];!Ia(o)||i.startsWith("unstable_")?delete t[i]:oo(o)&&(t[i]=Pt({},o),e(t[i]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const Ca=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function xa(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function Aa(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):Ms(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(xa(n),")"):zs(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(xa(n),")"):js(t,n)}})}const Pa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:s={},shape:a,colorSpace:l}=e,c=cr(e,Ca);if(e.vars&&void 0===e.generateThemeVars)throw new Error(vr(20));const u=ia(Pt(Pt({},i),{},{colorSpace:l})),d=ys(e);let h=ao(d,{mixins:da(d.breakpoints,n),palette:u,shadows:ya.slice(),typography:ma(u,s),transitions:Ea(o),zIndex:Pt({},ka)});h=ao(h,c);for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];return h=p.reduce((e,t)=>ao(e,t),h),h.unstable_sxConfig=Pt(Pt({},hs),null===c||void 0===c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return ps({sx:e,theme:this})},h.toRuntimeSource=Ta,Aa(h),h};const Na=["palette","opacity","overlays","colorSpace"],Oa=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=function(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function Ra(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Da(e){return"dark"===e?Oa:[]}function La(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const Ma=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],Fa=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(o="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return Ma(e.cssVarPrefix).forEach(e=>{i[e]=n[e],delete n[e]}),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,["".concat(r,", ").concat(o.replace("%s",t))]:n}:{[r]:Pt(Pt({},n),i)}}if(o&&"media"!==o)return"".concat(r,", ").concat(o.replace("%s",String(t)))}else if(t){if("media"===o)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r},ja=["palette"],Ua=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function za(e,t,n){!e[t]&&n&&(e[t]=n)}function Va(e){return"string"===typeof e&&e.startsWith("hsl")?Ds(e):e}function Ba(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Os(Va(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const qa=e=>{try{return e()}catch(t){}};function Ha(e,t,n,r,i){var o,s,a;if(!n)return;n=!0===n?{}:n;const l="dark"===i?"dark":"light";var c;if(!r)return void(t[i]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:i}=e,o=cr(e,Na),s=ia(Pt(Pt({},t),{},{colorSpace:i}));return Pt({palette:s,opacity:Pt(Pt({},Ra(s.mode)),n),overlays:r||Da(s.mode)},o)}(Pt(Pt({},n),{},{palette:Pt({mode:l},null===(c=n)||void 0===c?void 0:c.palette),colorSpace:e})));const u=Pa(Pt(Pt({},r),{},{palette:Pt({mode:l},null===(o=n)||void 0===o?void 0:o.palette),colorSpace:e})),{palette:d}=u,h=cr(u,ja);return t[i]=Pt(Pt({},n),{},{palette:d,opacity:Pt(Pt({},Ra(l)),null===(s=n)||void 0===s?void 0:s.opacity),overlays:(null===(a=n)||void 0===a?void 0:a.overlays)||Da(l)}),h}function Wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",nativeColor:o=!1,shouldSkipGeneratingVar:s=La,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:l=":root"}=e,c=cr(e,Ua),u=Object.keys(t)[0],d=n||(t.light&&"light"!==u?"light":u),h=function(){return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[d]:f,light:p,dark:m}=t,g=Pt({},cr(t,[d,"light","dark"].map(Ct)));let y,v=f;if(("dark"===d&&!("dark"in t)||"light"===d&&!("light"in t))&&(v=!0),!v)throw new Error(vr(21,d));o&&(y="oklch");const b=Ha(y,g,v,c,d);p&&!g.light&&Ha(y,g,p,void 0,"light"),m&&!g.dark&&Ha(y,g,m,void 0,"dark");let w=Pt(Pt({defaultColorScheme:d},b),{},{cssVarPrefix:i,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:g,font:Pt(Pt({},sa(b.typography)),b.font),spacing:(S=c.spacing,"number"===typeof S?"".concat(S,"px"):"string"===typeof S||"function"===typeof S||Array.isArray(S)?S:"8px")});var S;Object.keys(w.colorSchemes).forEach(e=>{const t=w.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return h(e,t[r][i])};function r(e,t,n){if(y){let r;return e===Fs&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===Us&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===Vs&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(y,", ").concat(t,", ").concat(r,")")}return e(t,n)}var i;if("light"===t.mode&&(za(t.common,"background","#fff"),za(t.common,"onBackground","#000")),"dark"===t.mode&&(za(t.common,"background","#000"),za(t.common,"onBackground","#fff")),i=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{i[e]||(i[e]={})}),"light"===t.mode){za(t.Alert,"errorColor",r(Us,t.error.light,.6)),za(t.Alert,"infoColor",r(Us,t.info.light,.6)),za(t.Alert,"successColor",r(Us,t.success.light,.6)),za(t.Alert,"warningColor",r(Us,t.warning.light,.6)),za(t.Alert,"errorFilledBg",n("palette-error-main")),za(t.Alert,"infoFilledBg",n("palette-info-main")),za(t.Alert,"successFilledBg",n("palette-success-main")),za(t.Alert,"warningFilledBg",n("palette-warning-main")),za(t.Alert,"errorFilledColor",qa(()=>t.getContrastText(t.error.main))),za(t.Alert,"infoFilledColor",qa(()=>t.getContrastText(t.info.main))),za(t.Alert,"successFilledColor",qa(()=>t.getContrastText(t.success.main))),za(t.Alert,"warningFilledColor",qa(()=>t.getContrastText(t.warning.main))),za(t.Alert,"errorStandardBg",r(Vs,t.error.light,.9)),za(t.Alert,"infoStandardBg",r(Vs,t.info.light,.9)),za(t.Alert,"successStandardBg",r(Vs,t.success.light,.9)),za(t.Alert,"warningStandardBg",r(Vs,t.warning.light,.9)),za(t.Alert,"errorIconColor",n("palette-error-main")),za(t.Alert,"infoIconColor",n("palette-info-main")),za(t.Alert,"successIconColor",n("palette-success-main")),za(t.Alert,"warningIconColor",n("palette-warning-main")),za(t.AppBar,"defaultBg",n("palette-grey-100")),za(t.Avatar,"defaultBg",n("palette-grey-400")),za(t.Button,"inheritContainedBg",n("palette-grey-300")),za(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),za(t.Chip,"defaultBorder",n("palette-grey-400")),za(t.Chip,"defaultAvatarColor",n("palette-grey-700")),za(t.Chip,"defaultIconColor",n("palette-grey-700")),za(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),za(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),za(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),za(t.LinearProgress,"primaryBg",r(Vs,t.primary.main,.62)),za(t.LinearProgress,"secondaryBg",r(Vs,t.secondary.main,.62)),za(t.LinearProgress,"errorBg",r(Vs,t.error.main,.62)),za(t.LinearProgress,"infoBg",r(Vs,t.info.main,.62)),za(t.LinearProgress,"successBg",r(Vs,t.success.main,.62)),za(t.LinearProgress,"warningBg",r(Vs,t.warning.main,.62)),za(t.Skeleton,"bg",y?r(Fs,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),za(t.Slider,"primaryTrack",r(Vs,t.primary.main,.62)),za(t.Slider,"secondaryTrack",r(Vs,t.secondary.main,.62)),za(t.Slider,"errorTrack",r(Vs,t.error.main,.62)),za(t.Slider,"infoTrack",r(Vs,t.info.main,.62)),za(t.Slider,"successTrack",r(Vs,t.success.main,.62)),za(t.Slider,"warningTrack",r(Vs,t.warning.main,.62));const e=y?r(Us,t.background.default,.6825):Bs(t.background.default,.8);za(t.SnackbarContent,"bg",e),za(t.SnackbarContent,"color",qa(()=>y?ta.text.primary:t.getContrastText(e))),za(t.SpeedDialAction,"fabHoverBg",Bs(t.background.paper,.15)),za(t.StepConnector,"border",n("palette-grey-400")),za(t.StepContent,"border",n("palette-grey-400")),za(t.Switch,"defaultColor",n("palette-common-white")),za(t.Switch,"defaultDisabledColor",n("palette-grey-100")),za(t.Switch,"primaryDisabledColor",r(Vs,t.primary.main,.62)),za(t.Switch,"secondaryDisabledColor",r(Vs,t.secondary.main,.62)),za(t.Switch,"errorDisabledColor",r(Vs,t.error.main,.62)),za(t.Switch,"infoDisabledColor",r(Vs,t.info.main,.62)),za(t.Switch,"successDisabledColor",r(Vs,t.success.main,.62)),za(t.Switch,"warningDisabledColor",r(Vs,t.warning.main,.62)),za(t.TableCell,"border",r(Vs,r(Fs,t.divider,1),.88)),za(t.Tooltip,"bg",r(Fs,t.grey[700],.92))}if("dark"===t.mode){za(t.Alert,"errorColor",r(Vs,t.error.light,.6)),za(t.Alert,"infoColor",r(Vs,t.info.light,.6)),za(t.Alert,"successColor",r(Vs,t.success.light,.6)),za(t.Alert,"warningColor",r(Vs,t.warning.light,.6)),za(t.Alert,"errorFilledBg",n("palette-error-dark")),za(t.Alert,"infoFilledBg",n("palette-info-dark")),za(t.Alert,"successFilledBg",n("palette-success-dark")),za(t.Alert,"warningFilledBg",n("palette-warning-dark")),za(t.Alert,"errorFilledColor",qa(()=>t.getContrastText(t.error.dark))),za(t.Alert,"infoFilledColor",qa(()=>t.getContrastText(t.info.dark))),za(t.Alert,"successFilledColor",qa(()=>t.getContrastText(t.success.dark))),za(t.Alert,"warningFilledColor",qa(()=>t.getContrastText(t.warning.dark))),za(t.Alert,"errorStandardBg",r(Us,t.error.light,.9)),za(t.Alert,"infoStandardBg",r(Us,t.info.light,.9)),za(t.Alert,"successStandardBg",r(Us,t.success.light,.9)),za(t.Alert,"warningStandardBg",r(Us,t.warning.light,.9)),za(t.Alert,"errorIconColor",n("palette-error-main")),za(t.Alert,"infoIconColor",n("palette-info-main")),za(t.Alert,"successIconColor",n("palette-success-main")),za(t.Alert,"warningIconColor",n("palette-warning-main")),za(t.AppBar,"defaultBg",n("palette-grey-900")),za(t.AppBar,"darkBg",n("palette-background-paper")),za(t.AppBar,"darkColor",n("palette-text-primary")),za(t.Avatar,"defaultBg",n("palette-grey-600")),za(t.Button,"inheritContainedBg",n("palette-grey-800")),za(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),za(t.Chip,"defaultBorder",n("palette-grey-700")),za(t.Chip,"defaultAvatarColor",n("palette-grey-300")),za(t.Chip,"defaultIconColor",n("palette-grey-300")),za(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),za(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),za(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),za(t.LinearProgress,"primaryBg",r(Us,t.primary.main,.5)),za(t.LinearProgress,"secondaryBg",r(Us,t.secondary.main,.5)),za(t.LinearProgress,"errorBg",r(Us,t.error.main,.5)),za(t.LinearProgress,"infoBg",r(Us,t.info.main,.5)),za(t.LinearProgress,"successBg",r(Us,t.success.main,.5)),za(t.LinearProgress,"warningBg",r(Us,t.warning.main,.5)),za(t.Skeleton,"bg",y?r(Fs,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),za(t.Slider,"primaryTrack",r(Us,t.primary.main,.5)),za(t.Slider,"secondaryTrack",r(Us,t.secondary.main,.5)),za(t.Slider,"errorTrack",r(Us,t.error.main,.5)),za(t.Slider,"infoTrack",r(Us,t.info.main,.5)),za(t.Slider,"successTrack",r(Us,t.success.main,.5)),za(t.Slider,"warningTrack",r(Us,t.warning.main,.5));const e=y?r(Vs,t.background.default,.985):Bs(t.background.default,.98);za(t.SnackbarContent,"bg",e),za(t.SnackbarContent,"color",qa(()=>y?Zs.text.primary:t.getContrastText(e))),za(t.SpeedDialAction,"fabHoverBg",Bs(t.background.paper,.15)),za(t.StepConnector,"border",n("palette-grey-600")),za(t.StepContent,"border",n("palette-grey-600")),za(t.Switch,"defaultColor",n("palette-grey-300")),za(t.Switch,"defaultDisabledColor",n("palette-grey-600")),za(t.Switch,"primaryDisabledColor",r(Us,t.primary.main,.55)),za(t.Switch,"secondaryDisabledColor",r(Us,t.secondary.main,.55)),za(t.Switch,"errorDisabledColor",r(Us,t.error.main,.55)),za(t.Switch,"infoDisabledColor",r(Us,t.info.main,.55)),za(t.Switch,"successDisabledColor",r(Us,t.success.main,.55)),za(t.Switch,"warningDisabledColor",r(Us,t.warning.main,.55)),za(t.TableCell,"border",r(Us,r(Fs,t.divider,1),.68)),za(t.Tooltip,"bg",r(Fs,t.grey[700],.92))}Ba(t.background,"default"),Ba(t.background,"paper"),Ba(t.common,"background"),Ba(t.common,"onBackground"),Ba(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&za(t[e],"mainChannel",Os(Va(n.main))),n.light&&za(t[e],"lightChannel",Os(Va(n.light))),n.dark&&za(t[e],"darkChannel",Os(Va(n.dark))),n.contrastText&&za(t[e],"contrastTextChannel",Os(Va(n.contrastText))),"text"===e&&(Ba(t[e],"primary"),Ba(t[e],"secondary")),"action"===e&&(n.active&&Ba(t[e],"active"),n.selected&&Ba(t[e],"selected")))})});for(var _=arguments.length,E=new Array(_>1?_-1:0),k=1;k<_;k++)E[k-1]=arguments[k];w=E.reduce((e,t)=>ao(e,t),w);const I={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:Fa(w),enableContrastVars:o},{vars:T,generateThemeVars:C,generateStyleSheets:x}=ua(w,I);return w.vars=T,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach(e=>{let[t,n]=e;w[t]=n}),w.generateThemeVars=C,w.generateStyleSheets=x,w.generateSpacing=function(){return jo(c.spacing,No(this))},w.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(a),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=s,w.unstable_sxConfig=Pt(Pt({},hs),null===c||void 0===c?void 0:c.unstable_sxConfig),w.unstable_sx=function(e){return ps({sx:e,theme:this})},w.toRuntimeSource=Ta,w}const Ka=["palette","cssVariables","colorSchemes","defaultColorScheme"];function Ga(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=Pt(Pt({},!0!==n&&n),{},{palette:ia(Pt(Pt({},!0===n?{}:n.palette),{},{mode:t}))}))}const Qa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,o=cr(e,Ka),s=i||"light",a=null===r||void 0===r?void 0:r[s],l=Pt(Pt({},r),t?{[s]:Pt(Pt({},"boolean"!==typeof a&&a),{},{palette:t})}:void 0);for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return Pa(e,...u);let n=t;"palette"in e||l[s]&&(!0!==l[s]?n=l[s].palette:"dark"===s&&(n={mode:"dark"}));const r=Pa(Pt(Pt({},e),{},{palette:n}),...u);return r.defaultColorScheme=s,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=Pt(Pt({},!0!==l.light&&l.light),{},{palette:r.palette}),Ga(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=Pt(Pt({},!0!==l.dark&&l.dark),{},{palette:r.palette}),Ga(r,"light",l.light)),r}return t||"light"in l||"light"!==s||(l.light=!0),Wa(Pt(Pt({},o),{},{colorSchemes:l,defaultColorScheme:s},"boolean"!==typeof n&&n),...u)}();const $a=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ya=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=_s,rootShouldForwardProp:r=Es,slotShouldForwardProp:i=Es}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==ps));const{name:n,slot:s,skipVariantsResolver:a,skipSx:l,overridesResolver:c=Is(As(s))}=t,u=cr(t,Ss),d=n&&n.startsWith("Mui")||s?"components":"custom",h=void 0!==a?a:s&&"Root"!==s&&"root"!==s||!1,f=l||!1;let p=Es;"Root"===s||"root"===s?p=r:s?p=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const m=to(e,Pt({shouldForwardProp:p,label:xs(n,s)},u)),g=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Ts(t,e,t.theme.modularCssLayers?d:void 0)};if(oo(e)){const t=bs(e);return function(e){return t.variants?Ts(e,t,e.theme.modularCssLayers?d:void 0):e.theme.modularCssLayers?ks(t.style,d):t.style}}return e},y=function(){const t=[];for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=i.map(g),l=[];if(t.push(o),n&&c&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Ts(e,r[n],e.theme.modularCssLayers?"theme":void 0);return c(e,i)}),n&&!h&&l.push(function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Cs(e,i,[],e.theme.modularCssLayers?"theme":void 0):null}),f||l.push(ps),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...a,...l],d=m(...u);return e.muiName&&(d.muiName=e.muiName),d};return m.withConfig&&(y.withConfig=m.withConfig),y}}({themeId:"$$material",defaultTheme:Qa,rootShouldForwardProp:e=>$a(e)&&"classes"!==e}),Ja=Ya,Xa={theme:void 0};const Za=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(Xa.theme=r.theme,i=bs(e(Xa)),t=i,n=r.theme),i}};function el(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Pt({},t);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=i;if("components"===o||"slots"===o)r[o]=Pt(Pt({},e[o]),r[o]);else if("componentsProps"===o||"slotProps"===o){const i=e[o],s=t[o];if(s)if(i){r[o]=Pt({},s);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const t=e;r[o][t]=el(i[t],s[t],n)}}else r[o]=s;else r[o]=i||{}}else"className"===o&&n&&t.className?r.className=dr(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===o&&n&&t.style?r.style=Pt(Pt({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[o]&&(r[o]=e[o])}return r}const tl=i.createContext(void 0);function nl(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?el(i.defaultProps,r,t.components.mergeClassNameAndStyle):i.styleOverrides||i.variants?r:el(i,r,t.components.mergeClassNameAndStyle)}({props:t,name:n,theme:{components:i.useContext(tl)}})}function rl(e){return nl(e)}const il=e=>e,ol=(()=>{let e=il;return{configure(t){e=t},generate:t=>e(t),reset(){e=il}}})(),sl={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function al(e,t){const n=sl[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(ol.generate(e),"-").concat(t)}function ll(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=al(e,t,n)}),r}function cl(e){return al("MuiSvgIcon",e)}ll("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ul=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dl=Ja("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(wr(n.color))],t["fontSize".concat(wr(n.fontSize))]]}})(Za(e=>{var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=g.vars)&&void 0!==i?i:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(o=g.typography)||void 0===o||null===(s=o.pxToRem)||void 0===s?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(d=g.vars)&&void 0!==d?d:g).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(h=(null!==(f=g.vars)&&void 0!==f?f:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(p=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),hl=i.forwardRef(function(e,t){const n=rl({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,f=cr(n,ul),p=i.isValidElement(r)&&"svg"===r.type,m=Pt(Pt({},n),{},{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p}),g={};u||(g.viewBox=h);const y=(e=>{const{color:t,fontSize:n,classes:r}=e;return pr({root:["root","inherit"!==t&&"color".concat(wr(t)),"fontSize".concat(wr(n))]},cl,r)})(m);return(0,mr.jsxs)(dl,Pt(Pt(Pt(Pt({as:a,className:dr(y.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},g),f),p&&r.props),{},{ownerState:m,children:[p?r.props.children:r,d?(0,mr.jsx)("title",{children:d}):null]}))});hl.muiName="SvgIcon";const fl=hl;function pl(e,t){function n(t,n){return(0,mr.jsx)(fl,Pt(Pt({"data-testid":void 0,ref:n},t),{},{children:e}))}return n.muiName=fl.muiName,i.memo(i.forwardRef(n))}const ml=pl((0,mr.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),gl=pl((0,mr.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function yl(e){return al("MuiRating",e)}const vl=ll("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);const bl=function(e){return"string"===typeof e};const wl=function(e,t,n){return void 0===e||bl(e)?t:Pt(Pt({},t),{},{ownerState:Pt(Pt({},t.ownerState),n)})};const Sl=function(e,t,n){return"function"===typeof e?e(t,n):e};const _l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const El=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const kl=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=dr(null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=Pt(Pt(Pt({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),s=Pt(Pt(Pt({},n),i),r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=_l(Pt(Pt({},i),r)),a=El(r),l=El(i),c=t(s),u=dr(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,o,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),d=Pt(Pt(Pt(Pt({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),h=Pt(Pt(Pt(Pt({},c),n),l),a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}},Il=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],Tl=["component","slots","slotProps"],Cl=["component"];function xl(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1}=t,l=cr(t,Il),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=o,h=cr(o,Tl),f=u[e]||r,p=Sl(d[e],i),m=kl(Pt(Pt({className:n},l),{},{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:p})),{props:{component:g},internalRef:y}=m,v=cr(m.props,Cl),b=Ir(y,null===p||void 0===p?void 0:p.ref,t.ref),w="root"===e?g||c:g;return[f,wl(f,Pt(Pt(Pt(Pt(Pt(Pt({},"root"===e&&!c&&!u[e]&&s),"root"!==e&&!u[e]&&s),v),w&&!a&&{as:w}),w&&a&&{component:w}),{},{ref:b}),i)]}const Al=["value"],Pl=["component","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value","slots","slotProps"];function Nl(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const Ol=Ja("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(vl.visuallyHidden)]:t.visuallyHidden},t.root,t["size".concat(wr(n.size))],n.readOnly&&t.readOnly]}})(Za(e=>{let{theme:t}=e;return{display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",["&.".concat(vl.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(vl.focusVisible," .").concat(vl.iconActive)]:{outline:"1px solid #999"},["& .".concat(vl.visuallyHidden)]:fr,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:e=>{let{ownerState:t}=e;return t.readOnly},style:{pointerEvents:"none"}}]}})),Rl=Ja("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})({cursor:"inherit",variants:[{props:e=>{let{ownerState:t}=e;return t.emptyValueFocused},style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Dl=Ja("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(Za(e=>{let{theme:t}=e;return{display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return t.iconActive},style:{transform:"scale(1.2)"}},{props:e=>{let{ownerState:t}=e;return t.iconEmpty},style:{color:(t.vars||t).palette.action.disabled}}]}})),Ll=Ja("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>$a(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})({position:"relative",variants:[{props:e=>{let{iconActive:t}=e;return t},style:{transform:"scale(1.2)"}}]});function Ml(e){const{value:t}=e,n=cr(e,Al);return(0,mr.jsx)("span",Pt({},n))}function Fl(e){const{classes:t,disabled:n,emptyIcon:r,focus:o,getLabelText:s,highlightSelectedOnly:a,hover:l,icon:c,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:p,onBlur:m,onChange:g,onClick:y,onFocus:v,readOnly:b,ownerState:w,ratingValue:S,ratingValueRounded:_,slots:E={},slotProps:k={}}=e,I=a?h===S:h<=S,T=h<=l,C=h<=o,x=h===_,A="".concat(p,"-").concat(Er()),P={slots:E,slotProps:k},[N,O]=xl("icon",{elementType:Dl,className:dr(t.icon,I?t.iconFilled:t.iconEmpty,T&&t.iconHover,C&&t.iconFocus,d&&t.iconActive),externalForwardedProps:P,ownerState:Pt(Pt({},w),{},{iconEmpty:!I,iconFilled:I,iconHover:T,iconFocus:C,iconActive:d}),additionalProps:{value:h},internalForwardedProps:{as:u}}),[R,D]=xl("label",{elementType:Rl,externalForwardedProps:P,ownerState:Pt(Pt({},w),{},{emptyValueFocused:void 0}),additionalProps:{style:null===f||void 0===f?void 0:f.style,htmlFor:A}}),L=(0,mr.jsx)(N,Pt(Pt({},O),{},{children:r&&!I?r:c}));return b?(0,mr.jsx)("span",Pt(Pt({},f),{},{children:L})):(0,mr.jsxs)(i.Fragment,{children:[(0,mr.jsxs)(R,Pt(Pt({},D),{},{children:[L,(0,mr.jsx)("span",{className:t.visuallyHidden,children:s(h)})]})),(0,mr.jsx)("input",{className:t.visuallyHidden,onFocus:v,onBlur:m,onChange:g,onClick:y,disabled:n,value:h,id:A,type:"radio",name:p,checked:x})]})}const jl=(0,mr.jsx)(ml,{fontSize:"inherit"}),Ul=(0,mr.jsx)(gl,{fontSize:"inherit"});function zl(e){return"".concat(e||"0"," Star").concat(1!==e?"s":"")}const Vl=i.forwardRef(function(e,t){const n=rl({name:"MuiRating",props:e}),{component:r="span",className:o,defaultValue:s=null,disabled:a=!1,emptyIcon:l=Ul,emptyLabelText:c="Empty",getLabelText:u=zl,highlightSelectedOnly:d=!1,icon:h=jl,IconContainerComponent:f=Ml,max:p=5,name:m,onChange:g,onChangeActive:y,onMouseLeave:v,onMouseMove:b,precision:w=1,readOnly:S=!1,size:_="medium",value:E,slots:k={},slotProps:I={}}=n,T=cr(n,Pl),C=Er(m),[x,A]=kr({controlled:E,default:s,name:"Rating"}),P=Nl(x,w),N=(()=>{const e=i.useContext(gr);return null!==e&&void 0!==e&&e})(),[{hover:O,focus:R},D]=i.useState({hover:-1,focus:-1});let L=P;-1!==O&&(L=O),-1!==R&&(L=R);const[M,F]=i.useState(!1),j=i.useRef(),U=Tr(j,t),z=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==O&&(t=O),A(t),g&&g(e,t)},V=e=>{0===e.clientX&&0===e.clientY||(D({hover:-1,focus:-1}),A(null),g&&parseFloat(e.target.value)===P&&g(e,null))},B=e=>{yr(e.target)&&F(!0);const t=parseFloat(e.target.value);D(e=>({hover:e.hover,focus:t}))},q=e=>{if(-1!==O)return;yr(e.target)||F(!1);D(e=>({hover:e.hover,focus:-1}))},[H,W]=i.useState(!1),K=Pt(Pt({},n),{},{component:r,defaultValue:s,disabled:a,emptyIcon:l,emptyLabelText:c,emptyValueFocused:H,focusVisible:M,getLabelText:u,icon:h,IconContainerComponent:f,max:p,precision:w,readOnly:S,size:_}),G=(e=>{const{classes:t,size:n,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:s}=e;return pr({root:["root","size".concat(wr(n)),i&&"disabled",s&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},yl,t)})(K),Q={slots:k,slotProps:I},[$,Y]=xl("root",{ref:U,className:dr(G.root,o),elementType:Ol,externalForwardedProps:Pt(Pt(Pt({},Q),T),{},{component:r}),getSlotProps:e=>Pt(Pt({},e),{},{onMouseMove:t=>{var n;(e=>{b&&b(e);const t=j.current,{right:n,left:r,width:i}=t.getBoundingClientRect();let o;o=N?(n-e.clientX)/i:(e.clientX-r)/i;let s=Nl(p*o+w/2,w);s=hr(s,w,p),D(e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s}),F(!1),y&&O!==s&&y(e,s)})(t),null===(n=e.onMouseMove)||void 0===n||n.call(e,t)},onMouseLeave:t=>{var n;(e=>{v&&v(e),D({hover:-1,focus:-1}),y&&-1!==O&&y(e,-1)})(t),null===(n=e.onMouseLeave)||void 0===n||n.call(e,t)}}),ownerState:K,additionalProps:{role:S?"img":null,"aria-label":S?u(L):null}}),[J,X]=xl("label",{className:dr(G.label,G.labelEmptyValue),elementType:Rl,externalForwardedProps:Q,ownerState:K}),[Z,ee]=xl("decimal",{className:G.decimal,elementType:Ll,externalForwardedProps:Q,ownerState:K});return(0,mr.jsxs)($,Pt(Pt({},Y),{},{children:[Array.from(new Array(p)).map((e,t)=>{const n=t+1,r={classes:G,disabled:a,emptyIcon:l,focus:R,getLabelText:u,highlightSelectedOnly:d,hover:O,icon:h,IconContainerComponent:f,name:C,onBlur:q,onChange:z,onClick:V,onFocus:B,ratingValue:L,ratingValueRounded:P,readOnly:S,ownerState:K,slots:k,slotProps:I},o=n===Math.ceil(L)&&(-1!==O||-1!==R);if(w<1){const e=Array.from(new Array(1/w));return(0,i.createElement)(Z,Pt(Pt({},ee),{},{key:n,className:dr(ee.className,o&&G.iconActive),iconActive:o}),e.map((t,i)=>{const o=Nl(n-1+(i+1)*w,w);return(0,mr.jsx)(Fl,Pt(Pt({},r),{},{isActive:!1,itemValue:o,labelProps:{style:e.length-1===i?{}:{width:o===L?"".concat((i+1)*w*100,"%"):"0%",overflow:"hidden",position:"absolute"}}}),o)}))}return(0,mr.jsx)(Fl,Pt(Pt({},r),{},{isActive:o,itemValue:n}),n)}),!S&&!a&&(0,mr.jsxs)(J,Pt(Pt({},X),{},{children:[(0,mr.jsx)("input",{className:G.visuallyHidden,value:"",id:"".concat(C,"-empty"),type:"radio",name:C,checked:null==P,onFocus:()=>W(!0),onBlur:()=>W(!1),onChange:z}),(0,mr.jsx)("span",{className:G.visuallyHidden,children:c})]}))]}))}),Bl=Vl;var ql=n(328),Hl=n.n(ql);const Wl=e=>{let{amount:t}=e;const n=Hl()(t).format("$0,0.00");return(0,mr.jsx)("div",{children:n})},Kl={products_container:"Product_products_container__G1y-V",card_container:"Product_card_container__yKL-9",product_flexed:"Product_product_flexed__K23Pz",rating:"Product_rating__57P9y",description:"Product_description__kG85G",button:"Product_button__s8JpS"},Gl="ADD_TO_BASKET",Ql="REMOVE_FROM_BASKET",$l="SET_USER",Yl="EMPTY_BASKET",Jl={basket:[],user:null},Xl=(e,t)=>{switch(t.type){case Gl:const n=e.basket.find(e=>e.id===t.item.id);return Pt(Pt({},e),{},n?{basket:e.basket.map(e=>e.id===t.item.id?Pt(Pt({},e),{},{amount:e.amount+1}):e)}:{basket:[...e.basket,Pt(Pt({},t.item),{},{amount:1})]});case Ql:const r=e.basket.findIndex(e=>e.id===t.id),i=[...e.basket];return r>=0&&(i[r].amount>1?i[r]=Pt(Pt({},i[r]),{},{amount:i[r].amount-1}):i.splice(r,1)),Pt(Pt({},e),{},{basket:i});case Yl:return Pt(Pt({},e),{},{basket:[]});case $l:return Pt(Pt({},e),{},{user:t.user});default:return e}},Zl=(0,i.createContext)(),ec=e=>{let{children:t}=e;const[n,r]=(0,i.useReducer)(Xl,Jl);return(0,mr.jsx)(Zl.Provider,{value:[n,r],children:t})};const tc=function(e){let{product:t,flex:n=!1,renderDesc:r=!1,renderAdd:o=!0}=e;const[s,a]=(0,i.useContext)(Zl),{basket:l=[]}=s;if(!t)return null;const{id:c,image:u="",title:d="No Title",rating:h={},price:f=0,description:p="No description"}=t,m=l.some(e=>e.id===c);return(0,mr.jsxs)("div",{className:"".concat(Kl.card_container," ").concat(n?Kl.product_flexed:""),children:[(0,mr.jsxs)("div",{className:Kl.image_container,children:[(0,mr.jsx)(sr,{to:"/products/".concat(c),children:(0,mr.jsx)("img",{src:u,alt:d})}),o&&!m&&(0,mr.jsx)("button",{className:Kl.button,onClick:()=>{a({type:Gl,item:t})},children:"Add to Cart"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{children:d}),(0,mr.jsxs)("div",{className:Kl.rating,children:[(0,mr.jsx)(Bl,{value:h.rate||0,precision:.1,readOnly:!0}),(0,mr.jsx)("small",{children:h.count||0})]}),r&&(0,mr.jsx)("p",{className:Kl.description,children:p})]}),(0,mr.jsx)("div",{children:(0,mr.jsx)(Wl,{amount:f})})]})};const nc=function(){const[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{Yn.get("https://fakestoreapi.com/products").then(e=>{console.log(e),t(e.data)}).catch(e=>{console.log(e)})},[]),(0,mr.jsx)("section",{className:Kl.products_container,children:e.map(e=>(0,mr.jsx)(tc,{renderAdd:!0,product:e},e.id))})};var rc=n(577);const ic=[n.p+"static/media/10001.2f5cc63b7e4512dd2789.jpg",n.p+"static/media/10002.225aaef918f59e5de14a.jpg",n.p+"static/media/10003.16272162b96e28f935c4.jpg",n.p+"static/media/10004.805821d23a3f63566f17.jpg",n.p+"static/media/10005.4d36865f92d63b2519a7.jpg"],oc="Carousel_hero__img__CiPHo",sc=()=>(0,mr.jsxs)("div",{children:[(0,mr.jsx)(rc.FN,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:ic.map(e=>(0,mr.jsx)("img",{src:e,alt:"con"}))}),(0,mr.jsx)("div",{className:oc})]}),ac=[{title:"Get your game on ...",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_t.png"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_t.png"},{title:"9.9 Super Shopping Day",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71YXzeOuslL._AC_UY879_t.png"},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_t.png"}],lc="Catagory_Category__GuQxa",cc="Catagory_category__container__LBVQO",uc=e=>{let{data:t}=e;return(0,mr.jsx)("div",{className:lc,children:(0,mr.jsxs)(sr,{to:"/Category/".concat(t.name),children:[(0,mr.jsx)("span",{children:(0,mr.jsx)("h2",{children:null===t||void 0===t?void 0:t.title})}),(0,mr.jsx)("img",{src:null===t||void 0===t?void 0:t.imgLink,alt:(null===t||void 0===t?void 0:t.title)||"Category image"}),(0,mr.jsx)("p",{children:"Shop now"})]})})},dc=()=>(0,mr.jsx)("section",{className:cc,children:ac.map((e,t)=>(0,mr.jsx)(uc,{data:e},t))}),hc="Header_header_container__mnEDp",fc="Header_fixed__Q-PkT",pc="Header_logo_container__TF2AQ",mc="Header_delivery__WO-X1",gc="Header_search__wdquw",yc="Header_language_selector__QZQOp",vc="Header_account_container__Z17b2",bc="Header_returns_container__5N8AL",wc="Header_cart_container__yLf5d",Sc="Header_cart_count__jN2Gy",_c="Header_cart_text__LLaXJ";var Ec={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kc=i.createContext&&i.createContext(Ec),Ic=["attr","size","title"];function Tc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(this,arguments)}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach(function(t){Pc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nc(e){return e&&e.map((e,t)=>i.createElement(e.tag,Ac({key:t},e.attr),Nc(e.child)))}function Oc(e){return t=>i.createElement(Rc,Cc({attr:Ac({},e.attr)},t),Nc(e.child))}function Rc(e){var t=t=>{var n,{attr:r,size:o,title:s}=e,a=Tc(e,Ic),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Ac(Ac({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&i.createElement("title",null,s),e.children)};return void 0!==kc?i.createElement(kc.Consumer,null,e=>t(e)):t(Ec)}function Dc(e){return Oc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}const Lc="Lowerheade_lower_header__vcjj6",Mc="Lowerheade_menu__aNy6K",Fc="Lowerheade_menu_item__e9TU3";const jc=function(){return(0,mr.jsx)("div",{className:Lc,children:(0,mr.jsxs)("ul",{className:Mc,children:[(0,mr.jsxs)("li",{className:Fc,children:[(0,mr.jsx)(Dc,{size:18}),(0,mr.jsx)("span",{children:"All"})]}),(0,mr.jsx)("li",{className:Fc,children:"Today's Deals"}),(0,mr.jsx)("li",{className:Fc,children:"Customer Service"}),(0,mr.jsx)("li",{className:Fc,children:"Registry"}),(0,mr.jsx)("li",{className:Fc,children:"Gift Cards"}),(0,mr.jsx)("li",{className:Fc,children:"Sell"})]})})};function Uc(e){return Oc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(e)}function zc(e){return Oc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(e)}function Vc(e){return Oc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(e)}const Bc=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bc(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Hc;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Hc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wc=function(e){return function(e){const t=Bc(e);return qc.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Kc=function(e){try{return qc.decodeString(e,!0)}catch(tD){console.error("base64Decode failed: ",tD)}return null};function Gc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Qc(n)&&(e[n]=Gc(e[n],t[n]));return e}function Qc(e){return"__proto__"!==e}function $c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Yc=()=>{try{return $c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(tD){return}const t=e&&Kc(e[1]);return t&&JSON.parse(t)})()}catch(tD){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(tD))}},Jc=()=>{var e;return null===(e=Yc())||void 0===e?void 0:e.config};class Xc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Zc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function eu(e){return(await fetch(e,{credentials:"include"})).ok}const tu={};let nu=!1;function ru(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Zc(window.location.host)||tu[e]===t||tu[e]||nu)return;function n(e){return"__firebase__banner__".concat(e)}tu[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{nu=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function iu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ou(){var e;const t=null===(e=Yc())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(tD){return!1}}function su(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function au(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function cu(){const e=iu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function uu(){return!ou()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function du(){return!ou()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hu(){try{return"object"===typeof indexedDB}catch(tD){return!1}}class fu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(mu,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new fu(n,o,t)}}const mu=/\{\$([^}]+)}/g;function gu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(vu(n)&&vu(o)){if(!yu(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vu(e){return null!==e&&"object"===typeof e}function bu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Su(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function _u(e,t){const n=new Eu(e,t);return n.subscribe.bind(n)}class Eu{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ku),void 0===r.error&&(r.error=ku),void 0===r.complete&&(r.complete=ku);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(tD){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(tD){"undefined"!==typeof console&&console.error&&console.error(tD)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ku(){}function Iu(e){return e&&e._delegate?e._delegate:e}class Tu{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Cu="[DEFAULT]";class xu{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xc;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(tD){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(tD){if(r)return null;throw tD}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Cu})}catch(tD){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(tD){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Au(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cu;return this.component?this.component.multipleInstances?e:Cu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Au(e){return e===Cu?void 0:e}class Pu{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nu=[];var Ou;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ou||(Ou={}));const Ru={debug:Ou.DEBUG,verbose:Ou.VERBOSE,info:Ou.INFO,warn:Ou.WARN,error:Ou.ERROR,silent:Ou.SILENT},Du=Ou.INFO,Lu={[Ou.DEBUG]:"log",[Ou.VERBOSE]:"log",[Ou.INFO]:"info",[Ou.WARN]:"warn",[Ou.ERROR]:"error"},Mu=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Lu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Fu{constructor(e){this.name=e,this._logLevel=Du,this._logHandler=Mu,this._userLogHandler=null,Nu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ou))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ru[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ou.DEBUG,...t),this._logHandler(this,Ou.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ou.VERBOSE,...t),this._logHandler(this,Ou.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ou.INFO,...t),this._logHandler(this,Ou.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ou.WARN,...t),this._logHandler(this,Ou.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ou.ERROR,...t),this._logHandler(this,Ou.ERROR,...t)}}let ju,Uu;const zu=new WeakMap,Vu=new WeakMap,Bu=new WeakMap,qu=new WeakMap,Hu=new WeakMap;let Wu={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ku(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Uu||(Uu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($u(this),n),Qu(zu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qu(e.apply($u(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call($u(this),t,...r);return Bu.set(o,t.sort?t.sort():[t]),Qu(o)}}function Gu(e){return"function"===typeof e?Ku(e):(e instanceof IDBTransaction&&function(e){if(Vu.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Vu.set(e,t)}(e),t=e,(ju||(ju=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Wu):e);var t}function Qu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Qu(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&zu.set(t,e)}).catch(()=>{}),Hu.set(t,e),t}(e);if(qu.has(e))return qu.get(e);const t=Gu(e);return t!==e&&(qu.set(e,t),Hu.set(t,e)),t}const $u=e=>Hu.get(e);const Yu=["get","getKey","getAll","getAllKeys","count"],Ju=["put","add","delete","clear"],Xu=new Map;function Zu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Xu.get(t))return Xu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ju.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Yu.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Xu.set(t,o),o}Wu=(e=>Pt(Pt({},e),{},{get:(t,n,r)=>Zu(t,n)||e.get(t,n,r),has:(t,n)=>!!Zu(t,n)||e.has(t,n)}))(Wu);class ed{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const td="@firebase/app",nd="0.14.3",rd=new Fu("@firebase/app"),id="@firebase/app-compat",od="@firebase/analytics-compat",sd="@firebase/analytics",ad="@firebase/app-check-compat",ld="@firebase/app-check",cd="@firebase/auth",ud="@firebase/auth-compat",dd="@firebase/database",hd="@firebase/data-connect",fd="@firebase/database-compat",pd="@firebase/functions",md="@firebase/functions-compat",gd="@firebase/installations",yd="@firebase/installations-compat",vd="@firebase/messaging",bd="@firebase/messaging-compat",wd="@firebase/performance",Sd="@firebase/performance-compat",_d="@firebase/remote-config",Ed="@firebase/remote-config-compat",kd="@firebase/storage",Id="@firebase/storage-compat",Td="@firebase/firestore",Cd="@firebase/ai",xd="@firebase/firestore-compat",Ad="firebase",Pd="[DEFAULT]",Nd={[td]:"fire-core",[id]:"fire-core-compat",[sd]:"fire-analytics",[od]:"fire-analytics-compat",[ld]:"fire-app-check",[ad]:"fire-app-check-compat",[cd]:"fire-auth",[ud]:"fire-auth-compat",[dd]:"fire-rtdb",[hd]:"fire-data-connect",[fd]:"fire-rtdb-compat",[pd]:"fire-fn",[md]:"fire-fn-compat",[gd]:"fire-iid",[yd]:"fire-iid-compat",[vd]:"fire-fcm",[bd]:"fire-fcm-compat",[wd]:"fire-perf",[Sd]:"fire-perf-compat",[_d]:"fire-rc",[Ed]:"fire-rc-compat",[kd]:"fire-gcs",[Id]:"fire-gcs-compat",[Td]:"fire-fst",[xd]:"fire-fst-compat",[Cd]:"fire-vertex","fire-js":"fire-js",[Ad]:"fire-js-all"},Od=new Map,Rd=new Map,Dd=new Map;function Ld(e,t){try{e.container.addComponent(t)}catch(tD){rd.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),tD)}}function Md(e,t){e.container.addOrOverwriteComponent(t)}function Fd(e){const t=e.name;if(Dd.has(t))return rd.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dd.set(t,e);for(const n of Od.values())Ld(n,e);for(const n of Rd.values())Ld(n,e);return!0}function jd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ud(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pd;jd(e,t).clearInstance(n)}function zd(e){return void 0!==e.options}function Vd(e){return!zd(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function Bd(e){return null!==e&&void 0!==e&&void 0!==e.settings}function qd(){Dd.clear()}const Hd=new pu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Wd{constructor(e,t,n){this._isDeleted=!1,this._options=Pt({},e),this._config=Pt({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hd.create("app-deleted",{appName:this._name})}}function Kd(e,t){const n=Kc(e.split(".")[1]);if(null===n)return void console.error("FirebaseServerApp ".concat(t," is invalid: second part could not be parsed."));if(void 0===JSON.parse(n).exp)return void console.error("FirebaseServerApp ".concat(t," is invalid: expiration claim could not be parsed"));1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error("FirebaseServerApp ".concat(t," is invalid: the token has expired."))}class Gd extends Wd{constructor(e,t,n,r){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Pt({automaticDataCollectionEnabled:i},t),this._serverConfig.authIdToken&&Kd(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Kd(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,eh(td,nd,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Zd(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Hd.create("server-app-deleted")}}const Qd="12.3.0";function $d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Pt({name:Pd,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Hd.create("bad-app-name",{appName:String(i)});if(n||(n=Jc()),!n)throw Hd.create("no-options");const o=Od.get(i);if(o){if(yu(n,o.options)&&yu(r,o.config))return o;throw Hd.create("duplicate-app",{appName:i})}const s=new Pu(i);for(const l of Dd.values())s.addComponent(l);const a=new Wd(n,r,s);return Od.set(i,a),a}function Yd(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(("undefined"!==typeof window||su())&&!su())throw Hd.create("invalid-server-app-environment");let r=n||{};if(e&&(zd(e)?t=e.options:Vd(e)?r=e:t=e),void 0===r.automaticDataCollectionEnabled&&(r.automaticDataCollectionEnabled=!0),t||(t=Jc()),!t)throw Hd.create("no-options");const i=Pt(Pt({},r),t);void 0!==i.releaseOnDeref&&delete i.releaseOnDeref;if(void 0!==r.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Hd.create("finalization-registry-not-supported",{});const o=""+(s=JSON.stringify(i),[...s].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var s;const a=Rd.get(o);if(a)return a.incRefCount(r.releaseOnDeref),a;const l=new Pu(o);for(const u of Dd.values())l.addComponent(u);const c=new Gd(t,r,o,l);return Rd.set(o,c),c}function Jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pd;const t=Od.get(e);if(!t&&e===Pd&&Jc())return $d();if(!t)throw Hd.create("no-app",{appName:e});return t}function Xd(){return Array.from(Od.values())}async function Zd(e){let t=!1;const n=e.name;if(Od.has(n))t=!0,Od.delete(n);else if(Rd.has(n)){e.decRefCount()<=0&&(Rd.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function eh(e,t,n){var r;let i=null!==(r=Nd[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rd.warn(e.join(" "))}Fd(new Tu("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}function th(e,t){if(null!==e&&"function"!==typeof e)throw Hd.create("invalid-log-argument");!function(e,t){for(const n of Nu){let r=null;t&&t.level&&(r=Ru[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map(e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Ou[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function nh(e){var t;t=e,Nu.forEach(e=>{e.setLogLevel(t)})}const rh="firebase-heartbeat-store";let ih=null;function oh(){return ih||(ih=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Qu(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Qu(s.result),e.oldVersion,e.newVersion,Qu(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(rh)}catch(tD){console.warn(tD)}}}).catch(e=>{throw Hd.create("idb-open",{originalErrorMessage:e.message})})),ih}async function sh(e,t){try{const n=(await oh()).transaction(rh,"readwrite"),r=n.objectStore(rh);await r.put(t,ah(e)),await n.done}catch(tD){if(tD instanceof fu)rd.warn(tD.message);else{const t=Hd.create("idb-set",{originalErrorMessage:null===tD||void 0===tD?void 0:tD.message});rd.warn(t.message)}}}function ah(e){return"".concat(e.name,"!").concat(e.options.appId)}class lh{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uh(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ch();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(tD){rd.warn(tD)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ch(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),dh(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(tD){return rd.warn(tD),""}}}function ch(){return(new Date).toISOString().substring(0,10)}class uh{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!hu()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await oh()).transaction(rh),n=await t.objectStore(rh).get(ah(e));return await t.done,n}catch(tD){if(tD instanceof fu)rd.warn(tD.message);else{const t=Hd.create("idb-get",{originalErrorMessage:null===tD||void 0===tD?void 0:tD.message});rd.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return sh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return sh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function dh(e){return Wc(JSON.stringify({version:2,heartbeats:e})).length}var hh;hh="",Fd(new Tu("platform-logger",e=>new ed(e),"PRIVATE")),Fd(new Tu("heartbeat",e=>new lh(e),"PRIVATE")),eh(td,nd,hh),eh(td,nd,"esm2020"),eh("fire-js","");class fh{constructor(e,t){this._delegate=e,this.firebase=t,Ld(e,new Tu("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Zd(this._delegate)))}_getService(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pd;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pd;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ld(this._delegate,e)}_addOrOverwriteComponent(e){Md(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ph=new pu("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const mh=function e(){const n=function(e){const n={},r={__esModule:!0,initializeApp:function(t){const i=$d(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(gu(n,i.name))return n[i.name];const o=new e(i,r);return n[i.name]=o,o},app:i,registerVersion:eh,setLogLevel:nh,onLog:th,apps:null,SDK_VERSION:Qd,INTERNAL:{registerComponent:function(t){const n=t.name,o=n.replace("-compat","");if(Fd(t)&&"PUBLIC"===t.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw ph.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==t.serviceProps&&Gc(s,t.serviceProps),r[o]=s,e.prototype[o]=function(){const e=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!gu(n,e=e||Pd))throw ph.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map(e=>n[e])}}),i.App=e,r}(fh);return n.INTERNAL=Pt(Pt({},n.INTERNAL),{},{createFirebaseNamespace:e,extendNamespace:function(e){Gc(n,e)},createSubscribe:_u,ErrorFactory:pu,deepExtend:Gc}),n}(),gh=new Fu("@firebase/app-compat");try{const e=$c();if(void 0!==e.firebase){gh.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&gh.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(nD){}const yh=mh;!function(e){eh("@firebase/app-compat","0.5.3",e)}();yh.registerVersion("firebase","12.3.0","app-compat");var vh,bh,wh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sh={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||c.l(e)>0;)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,bh=Sh.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},vh=Sh.Integer=r}).apply("undefined"!==typeof wh?wh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var _h,Eh,kh,Ih,Th,Ch,xh,Ah,Ph="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nh={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ph&&Ph];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(_)}};function _(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function E(){this.u=this.u,this.C=this.C}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},k.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,k),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var x="closure_listenable_"+(1e6*Math.random()|0),A=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function N(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function O(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(N(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function j(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}M.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=j(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new P(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),z={};function V(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=Y(n),e&&e[x]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[U]=l=new M(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)I||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=Y(n),e&&e[x]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=Y(n),e&&e[x]?(e=e.i,(o=String(t).toString())in e.g&&((n=j(t=e.g[o],n,r,i))>-1&&(N(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=j(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[x])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(F(n,e),0==n.h&&(n.src=null,t[U]=null)):N(e)}}}function K(e){return e in z?z[e]:z[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[U])instanceof M?e:null}var $="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[$]||(e[$]=function(t){return e.handleEvent(t)}),e[$])}function J(){E.call(this),this.i=new M(this),this.M=this,this.G=null}function X(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var i=t;L(t=new k(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&F(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,E),J.prototype[x]=!0,J.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)N(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){E.call(this),this.h=e,this.g={}}u(ne,E);var re=[];function ie(e){O(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){k.call(this,"d")}function he(){k.call(this,"c")}u(de,k),u(he,k);var fe={},pe=null;function me(){return pe=pe||new J}function ge(e){k.call(this,fe.Ia,e)}function ye(e){const t=me();X(t,new ge(t))}function ve(e,t){k.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();X(t,new ve(t,e))}function we(e,t){k.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Ee(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,k),fe.STAT_EVENT="statevent",u(ve,k),fe.Ja="timingevent",u(we,k),_e.prototype.ua=function(){this.g=!1},_e.prototype.info=function(){};var ke,Ie={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function xe(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},ke=new Ce;var Oe={},Re={};function De(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),je(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ne,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=V(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function je(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function ze(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){ze(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Yt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&($e(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Ye(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(ze(a),je(a)),r.g=s}else $t(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==jt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=jt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ye(),ze(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==jt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),Ve(this);break e}Ee(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(t==Oe){this.m=4,be(15),Ee(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ee(this.i,this.l,t,null),qe(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(a),a.P=!0,be(11))}}else Ee(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ve(this)}else Ee(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,je(this)))}else(function(e){const t={};e=(e.g&&jt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ve(this)}}}catch(ff){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ve(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $e(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Xe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(xe(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Et(){this.g=new ae}function kt(e){this.i=e.Sb||null,this.h=e.ab||!1}function It(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,xt(e)}function xt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return O(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"===typeof e?null!=n&&xe(n):it(e,t,n))}function Nt(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=xe(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+xe(n[t])),e.push(r)}}return this.i=e.join("&")},u(kt,le),kt.prototype.g=function(){return new It(this.i,this.h)},u(It,J),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,xt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):xt(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Nt,J);var Ot=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Ft(e)}function Lt(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==jt(e))setTimeout(e.Ca.bind(e),0);else if(X(e,"readystatechange"),4==jt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Xe)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Ot.test(t?t.toLowerCase():"")}n=r}if(n)X(e,"complete"),X(e,"success");else{e.o=6;try{var s=jt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Lt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||X(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function jt(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new _e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zt("baseRetryDelayMs",5e3,e),this.Za=zt("retryDelaySeedMs",1e4,e),this.Ta=zt("forwardChannelMaxRetries",2,e),this.va=zt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new Et,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),je(t)}rn(e)}function qt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),$e(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&O(e.H,function(e,n){it(t,n,e)}),e.l&&O({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(Rh){throw e.push(o+"type="+encodeURIComponent("_badmap")),Rh}}catch(Rh){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function $t(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Xt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;X(r=me(),new we(r,n)),Wt(e)}else $t(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new _e;if(o.Image){const r=new Image;r.onload=c(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=c(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(_t,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Nt(new kt({ab:n})):new Nt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){J.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Nt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,X(this,"complete"),X(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return jt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=R(o),L(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+xe(At(o))+"&"+t:this.u&&Pt(n,this.u,o)),$e(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Xt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Xt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){X(this.g,"a")},hn.prototype.qa=function(e){X(this.g,new un(e))},hn.prototype.pa=function(e){X(this.g,new dn)},hn.prototype.oa=function(){X(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ah=Nh.createWebChannelTransport=function(){return new ln},xh=Nh.getStatEventTarget=function(){return me()},Ch=Nh.Event=fe,Th=Nh.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Ih=Nh.ErrorCode=Ie,Te.COMPLETE="complete",kh=Nh.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Eh=Nh.WebChannel=ce,Nh.FetchXmlHttpFactory=kt,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,_h=Nh.XhrIo=Nt}).apply("undefined"!==typeof Ph?Ph:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Oh="@firebase/firestore",Rh="4.9.2";class Dh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dh.UNAUTHENTICATED=new Dh(null),Dh.GOOGLE_CREDENTIALS=new Dh("google-credentials-uid"),Dh.FIRST_PARTY=new Dh("first-party-uid"),Dh.MOCK_USER=new Dh("mock-user");let Lh="12.3.0";const Mh=new Fu("@firebase/firestore");function Fh(){return Mh.logLevel}function jh(e){if(Mh.logLevel<=Ou.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vh);Mh.debug("Firestore (".concat(Lh,"): ").concat(e),...i)}}function Uh(e){if(Mh.logLevel<=Ou.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vh);Mh.error("Firestore (".concat(Lh,"): ").concat(e),...i)}}function zh(e){if(Mh.logLevel<=Ou.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vh);Mh.warn("Firestore (".concat(Lh,"): ").concat(e),...i)}}function Vh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Bh(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,qh(e,r,n)}function qh(e,t,n){let r="FIRESTORE (".concat(Lh,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Uh(r),new Error(r)}function Hh(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||qh(t,i,r)}function Wh(e,t){return e}const Kh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gh extends fu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Qh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $h{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Yh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dh.UNAUTHENTICATED))}shutdown(){}}class Jh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xh{constructor(e){this.t=e,this.currentUser=Dh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hh(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Qh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qh,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{jh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(jh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qh)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(jh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Hh("string"==typeof t.accessToken,31837,{l:t}),new $h(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hh(null===e||"string"==typeof e,2055,{h:e}),new Dh(e)}}class Zh{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Dh.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ef{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Zh(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dh.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nf{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hh(void 0===this.o,3512);const n=e=>{null!=e.error&&jh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,jh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{jh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):jh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Hh("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new tf(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class of{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=rf(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function sf(e,t){return e<t?-1:e>t?1:0}function af(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return uf(n)===uf(i)?sf(n,i):uf(n)?1:-1}return sf(e.length,t.length)}const lf=55296,cf=57343;function uf(e){const t=e.charCodeAt(0);return t>=lf&&t<=cf}function df(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function hf(e){return e+"\0"}const ff="__name__";class pf{constructor(e,t,n){void 0===t?t=0:t>e.length&&Bh(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Bh(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===pf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pf?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=pf.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return sf(e.length,t.length)}static compareSegments(e,t){const n=pf.isNumericId(e),r=pf.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?pf.extractNumericId(e).compare(pf.extractNumericId(t)):af(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vh.fromString(e.substring(4,e.length-2))}}class mf extends pf{construct(e,t,n){return new mf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new mf(e)}static emptyPath(){return new mf([])}}const gf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yf extends pf{construct(e,t,n){return new yf(e,t,n)}static isValidIdentifier(e){return gf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yf.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ff}static keyField(){return new yf([ff])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gh(Kh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gh(Kh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Gh(Kh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yf(t)}static emptyPath(){return new yf([])}}class vf{constructor(e){this.path=e}static fromPath(e){return new vf(mf.fromString(e))}static fromName(e){return new vf(mf.fromString(e).popFirst(5))}static empty(){return new vf(mf.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vf(new mf(e.slice()))}}function bf(e,t,n){if(!n)throw new Gh(Kh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wf(e,t,n,r){if(!0===t&&!0===r)throw new Gh(Kh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Sf(e){if(!vf.isDocumentKey(e))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _f(e){if(vf.isDocumentKey(e))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ef(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function kf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Bh(12329,{type:typeof e})}function If(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gh(Kh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(e);throw new Gh(Kh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Tf(e,t){if(t<=0)throw new Gh(Kh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Cf(e,t){const n={typeString:e};return t&&(n.value=t),n}function xf(e,t){if(!Ef(e))throw new Gh(Kh.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new Gh(Kh.INVALID_ARGUMENT,n);return!0}const Af=-62135596800,Pf=1e6;class Nf{static now(){return Nf.fromMillis(Date.now())}static fromDate(e){return Nf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Pf);return new Nf(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gh(Kh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gh(Kh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Af)throw new Gh(Kh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gh(Kh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pf}_compareTo(e){return this.seconds===e.seconds?sf(this.nanoseconds,e.nanoseconds):sf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xf(e,Nf._jsonSchema))return new Nf(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Af;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nf._jsonSchemaVersion="firestore/timestamp/1.0",Nf._jsonSchema={type:Cf("string",Nf._jsonSchemaVersion),seconds:Cf("number"),nanoseconds:Cf("number")};class Of{static fromTimestamp(e){return new Of(e)}static min(){return new Of(new Nf(0,0))}static max(){return new Of(new Nf(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rf=-1;class Df{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Lf(e){return e.fields.find(e=>2===e.kind)}function Mf(e){return e.fields.filter(e=>2!==e.kind)}Df.UNKNOWN_ID=-1;class Ff{constructor(e,t){this.fieldPath=e,this.kind=t}}class jf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jf(0,Vf.min())}}function Uf(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Of.fromTimestamp(1e9===r?new Nf(n+1,0):new Nf(n,r));return new Vf(i,vf.empty(),t)}function zf(e){return new Vf(e.readTime,e.key,Rf)}class Vf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vf(Of.min(),vf.empty(),Rf)}static max(){return new Vf(Of.max(),vf.empty(),Rf)}}function Bf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=vf.comparator(e.documentKey,t.documentKey),0!==n?n:sf(e.largestBatchId,t.largestBatchId))}const qf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Wf(e){if(e.code!==Kh.FAILED_PRECONDITION||e.message!==qf)throw e;jh("LocalStore","Unexpectedly lost primary lease")}class Kf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bh(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Kf((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Kf?t:Kf.resolve(t)}catch(e){return Kf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Kf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Kf.reject(t)}static resolve(e){return new Kf((t,n)=>{t(e)})}static reject(e){return new Kf((t,n)=>{n(e)})}static waitFor(e){return new Kf((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Kf.resolve(!1);for(const n of e)t=t.next(e=>e?Kf.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Kf((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Kf((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}const Gf="SimpleDb";class Qf{static open(e,t,n,r){try{return new Qf(t,e.transaction(r,n))}catch(e){throw new Xf(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Qh,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Xf(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=rp(t.target.error);this.S.reject(new Xf(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(jh(Gf,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ep(t)}}class $f{static delete(e){return jh(Gf,"Removing database:",e),tp($c().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!hu())return!1;if($f.F())return!0;const e=iu(),t=$f.M(e),n=0<t&&t<10,r=Yf(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===$f.M(iu())&&Uh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(jh(Gf,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Xf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Gh(Kh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Gh(Kh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Xf(e,r))},r.onupgradeneeded=e=>{jh(Gf,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{jh(Gf,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.L(e);const t=Qf.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),Kf.reject(e))).toPromise();return o.catch(()=>{}),await t.D,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(jh(Gf,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Yf(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Jf{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return tp(this.U.delete())}}class Xf extends Gh{constructor(e,t){super(Kh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Zf(e){return"IndexedDbTransactionError"===e.name}class ep{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(jh(Gf,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(jh(Gf,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tp(n)}add(e){return jh(Gf,"ADD",this.store.name,e,e),tp(this.store.add(e))}get(e){return tp(this.store.get(e)).next(t=>(void 0===t&&(t=null),jh(Gf,"GET",this.store.name,e,t),t))}delete(e){return jh(Gf,"DELETE",this.store.name,e),tp(this.store.delete(e))}count(){return jh(Gf,"COUNT",this.store.name),tp(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Kf((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Kf((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){jh(Gf,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}te(e){const t=this.cursor({});return new Kf((n,r)=>{t.onerror=e=>{const t=rp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new Kf((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Jf(i),s=t(i.primaryKey,i.value,o);if(s instanceof Kf){const e=s.catch(e=>(o.done(),Kf.reject(e)));n.push(e)}o.isDone?r():null===o.G?i.continue():i.continue(o.G)}}).next(()=>Kf.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tp(e){return new Kf((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=rp(e.target.error);n(t)}})}let np=!1;function rp(e){const t=$f.M(iu());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return np||(np=!0,setTimeout(()=>{throw e},0)),e}}return e}const ip="IndexBackfiller";class op{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){jh(ip,"Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();jh(ip,"Documents written: ".concat(e))}catch(e){Zf(e)?jh(ip,"Ignoring IndexedDB error during index backfill: ",e):await Wf(e)}await this.re(6e4)})}}class sp{constructor(e,t){this.localStore=e,this.persistence=t}async ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let r=t,i=!0;return Kf.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return jh(ip,"Processing collection: ".concat(t)),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(jh(ip,"Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=zf(t);Bf(r,n)>0&&(n=r)}),new Vf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ap{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ap.ce=-1;const lp=-1;function cp(e){return null==e}function up(e){return 0===e&&1/e==-1/0}function dp(e){return"number"==typeof e&&Number.isInteger(e)&&!up(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const hp="\x01";function fp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mp(t)),t=pp(e.get(n),t);return mp(t)}function pp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case hp:n+="\x01\x11";break;default:n+=t}}return n}function mp(e){return e+hp+"\x01"}function gp(e){const t=e.length;if(Hh(t>=2,64408,{path:e}),2===t)return Hh(e.charAt(0)===hp&&"\x01"===e.charAt(1),56145,{path:e}),mf.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf(hp,o);switch((t<0||t>n)&&Bh(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Bh(61167,{path:e})}o=t+2}return new mf(r)}const yp="remoteDocuments",vp="owner",bp="owner",wp="mutationQueues",Sp="mutations",_p="batchId",Ep="userMutationsIndex",kp=["userId","batchId"];function Ip(e,t){return[e,fp(t)]}function Tp(e,t,n){return[e,fp(t),n]}const Cp={},xp="documentMutations",Ap="remoteDocumentsV14",Pp=["prefixPath","collectionGroup","readTime","documentId"],Np="documentKeyIndex",Op=["prefixPath","collectionGroup","documentId"],Rp="collectionGroupIndex",Dp=["collectionGroup","readTime","prefixPath","documentId"],Lp="remoteDocumentGlobal",Mp="remoteDocumentGlobalKey",Fp="targets",jp="queryTargetsIndex",Up=["canonicalId","targetId"],zp="targetDocuments",Vp=["targetId","path"],Bp="documentTargetsIndex",qp=["path","targetId"],Hp="targetGlobalKey",Wp="targetGlobal",Kp="collectionParents",Gp=["collectionId","parent"],Qp="clientMetadata",$p="bundles",Yp="namedQueries",Jp="indexConfiguration",Xp="collectionGroupIndex",Zp="indexState",em=["indexId","uid"],tm="sequenceNumberIndex",nm=["uid","sequenceNumber"],rm="indexEntries",im=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],om="documentKeyIndex",sm=["indexId","uid","orderedDocumentKey"],am="documentOverlays",lm=["userId","collectionPath","documentId"],cm="collectionPathOverlayIndex",um=["userId","collectionPath","largestBatchId"],dm="collectionGroupOverlayIndex",hm=["userId","collectionGroup","largestBatchId"],fm="globals",pm=[wp,Sp,xp,yp,Fp,vp,Wp,zp,Qp,Lp,Kp,$p,Yp],mm=[...pm,am],gm=[wp,Sp,xp,Ap,Fp,vp,Wp,zp,Qp,Lp,Kp,$p,Yp,am],ym=gm,vm=[...ym,Jp,Zp,rm],bm=vm,wm=[...vm,fm],Sm=wm;class _m extends Hf{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Em(e,t){const n=Wh(e);return $f.O(n.le,t)}function km(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Im(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Cm{constructor(e,t){this.comparator=e,this.root=t||Am.EMPTY}insert(e,t){return new Cm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Am.BLACK,null,null))}remove(e){return new Cm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Am.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xm(this.root,e,this.comparator,!0)}}class xm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Am{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Am.RED,this.left=null!=r?r:Am.EMPTY,this.right=null!=i?i:Am.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Am(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Am.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Am.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Am.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Am.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bh(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bh(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bh(27949);return e+(this.isRed()?0:1)}}Am.EMPTY=null,Am.RED=!0,Am.BLACK=!1,Am.EMPTY=new class{constructor(){this.size=0}get key(){throw Bh(57766)}get value(){throw Bh(16141)}get color(){throw Bh(16727)}get left(){throw Bh(29726)}get right(){throw Bh(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Am(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pm{constructor(e){this.comparator=e,this.data=new Cm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nm(this.data.getIterator())}getIteratorFrom(e){return new Nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Pm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pm(this.comparator);return t.data=e,t}}class Nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Om(e){return e.hasNext()?e.getNext():void 0}class Rm{constructor(e){this.fields=e,e.sort(yf.comparator)}static empty(){return new Rm([])}unionWith(e){let t=new Pm(yf.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Rm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return df(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Dm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Dm("Invalid base64 string: "+e):e}}(e);return new Lm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lm.EMPTY_BYTE_STRING=new Lm("");const Mm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fm(e){if(Hh(!!e,39018),"string"==typeof e){let t=0;const n=Mm.exec(e);if(Hh(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:jm(e.seconds),nanos:jm(e.nanos)}}function jm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Um(e){return"string"==typeof e?Lm.fromBase64String(e):Lm.fromUint8Array(e)}const zm="server_timestamp",Vm="__type__",Bm="__previous_value__",qm="__local_write_time__";function Hm(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Vm])||void 0===t?void 0:t.stringValue)===zm}function Wm(e){const t=e.mapValue.fields[Bm];return Hm(t)?Wm(t):t}function Km(e){const t=Fm(e.mapValue.fields[qm].timestampValue);return new Nf(t.seconds,t.nanos)}class Gm{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const Qm="(default)";class $m{constructor(e,t){this.projectId=e,this.database=t||Qm}static empty(){return new $m("","")}get isDefaultDatabase(){return this.database===Qm}isEqual(e){return e instanceof $m&&e.projectId===this.projectId&&e.database===this.database}}const Ym="__type__",Jm="__max__",Xm={mapValue:{fields:{__type__:{stringValue:Jm}}}},Zm="__vector__",eg="value",tg={nullValue:"NULL_VALUE"};function ng(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hm(e)?4:bg(e)?9007199254740991:yg(e)?10:11:Bh(28295,{value:e})}function rg(e,t){if(e===t)return!0;const n=ng(e);if(n!==ng(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Km(e).isEqual(Km(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fm(e.timestampValue),r=Fm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Um(e.bytesValue).isEqual(Um(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jm(e.geoPointValue.latitude)===jm(t.geoPointValue.latitude)&&jm(e.geoPointValue.longitude)===jm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jm(e.integerValue)===jm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=jm(e.doubleValue),r=jm(t.doubleValue);return n===r?up(n)===up(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return df(e.arrayValue.values||[],t.arrayValue.values||[],rg);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(km(n)!==km(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rg(n[i],r[i])))return!1;return!0}(e,t);default:return Bh(52216,{left:e})}}function ig(e,t){return void 0!==(e.values||[]).find(e=>rg(e,t))}function og(e,t){if(e===t)return 0;const n=ng(e),r=ng(t);if(n!==r)return sf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=jm(e.integerValue||e.doubleValue),r=jm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sg(e.timestampValue,t.timestampValue);case 4:return sg(Km(e),Km(t));case 5:return af(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Um(e),r=Um(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=sf(n[i],r[i]);if(0!==e)return e}return sf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sf(jm(e.latitude),jm(t.latitude));return 0!==n?n:sf(jm(e.longitude),jm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ag(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const s=e.fields||{},a=t.fields||{},l=null===(n=s[eg])||void 0===n?void 0:n.arrayValue,c=null===(r=a[eg])||void 0===r?void 0:r.arrayValue,u=sf((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:ag(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Xm.mapValue&&t===Xm.mapValue)return 0;if(e===Xm.mapValue)return 1;if(t===Xm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=af(r[s],o[s]);if(0!==e)return e;const t=og(n[r[s]],i[o[s]]);if(0!==t)return t}return sf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Bh(23264,{he:n})}}function sg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sf(e,t);const n=Fm(e),r=Fm(t),i=sf(n.seconds,r.seconds);return 0!==i?i:sf(n.nanos,r.nanos)}function ag(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=og(n[i],r[i]);if(e)return e}return sf(n.length,r.length)}function lg(e){return cg(e)}function cg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Um(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return vf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=cg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(cg(e.fields[i]));return n+"}"}(e.mapValue):Bh(61005,{value:e})}function ug(e){switch(ng(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wm(e);return t?16+ug(t):16;case 5:return 2*e.stringValue.length;case 6:return Um(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ug(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Im(e.fields,(e,n)=>{t+=e.length+ug(n)}),t}(e.mapValue);default:throw Bh(13486,{value:e})}}function dg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function hg(e){return!!e&&"integerValue"in e}function fg(e){return!!e&&"arrayValue"in e}function pg(e){return!!e&&"nullValue"in e}function mg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gg(e){return!!e&&"mapValue"in e}function yg(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ym])||void 0===t?void 0:t.stringValue)===Zm}function vg(e){if(e.geoPointValue)return{geoPointValue:Pt({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Pt({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Im(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=vg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vg(e.arrayValue.values[n]);return t}return Pt({},e)}function bg(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Jm}const wg={mapValue:{fields:{[Ym]:{stringValue:Zm},[eg]:{arrayValue:{}}}}};function Sg(e){return"nullValue"in e?tg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dg($m.empty(),vf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?yg(e)?wg:{mapValue:{}}:Bh(35942,{value:e})}function _g(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dg($m.empty(),vf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?wg:"mapValue"in e?yg(e)?{mapValue:{}}:Xm:Bh(61959,{value:e})}function Eg(e,t){const n=og(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kg(e,t){const n=og(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ig{constructor(e){this.value=e}static empty(){return new Ig({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vg(t)}setAll(e){let t=yf.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=vg(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Im(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ig(vg(this.value))}}function Tg(e){const t=[];return Im(e.fields,(e,n)=>{const r=new yf([e]);if(gg(n)){const e=Tg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Rm(t)}class Cg{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Cg(e,0,Of.min(),Of.min(),Of.min(),Ig.empty(),0)}static newFoundDocument(e,t,n,r){return new Cg(e,1,t,Of.min(),n,r,0)}static newNoDocument(e,t){return new Cg(e,2,t,Of.min(),Of.min(),Ig.empty(),0)}static newUnknownDocument(e,t){return new Cg(e,3,t,Of.min(),Of.min(),Ig.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Of.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ig.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ig.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Of.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class xg{constructor(e,t){this.position=e,this.inclusive=t}}function Ag(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?vf.comparator(vf.fromName(s.referenceValue),n.key):og(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Pg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rg(e.position[n],t.position[n]))return!1;return!0}class Ng{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Og(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rg{}class Dg extends Rg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Hg(e,t,n):"array-contains"===t?new Qg(e,n):"in"===t?new $g(e,n):"not-in"===t?new Yg(e,n):"array-contains-any"===t?new Jg(e,n):new Dg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Wg(e,n):new Kg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(og(t,this.value)):null!==t&&ng(this.value)===ng(t)&&this.matchesComparison(og(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bh(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lg extends Rg{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Lg(e,t)}matches(e){return Mg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mg(e){return"and"===e.op}function Fg(e){return"or"===e.op}function jg(e){return Ug(e)&&Mg(e)}function Ug(e){for(const t of e.filters)if(t instanceof Lg)return!1;return!0}function zg(e){if(e instanceof Dg)return e.field.canonicalString()+e.op.toString()+lg(e.value);if(jg(e))return e.filters.map(e=>zg(e)).join(",");{const t=e.filters.map(e=>zg(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vg(e,t){return e instanceof Dg?function(e,t){return t instanceof Dg&&e.op===t.op&&e.field.isEqual(t.field)&&rg(e.value,t.value)}(e,t):e instanceof Lg?function(e,t){return t instanceof Lg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Vg(n,t.filters[r]),!0)}(e,t):void Bh(19439)}function Bg(e,t){const n=e.filters.concat(t);return Lg.create(n,e.op)}function qg(e){return e instanceof Dg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(lg(e.value))}(e):e instanceof Lg?function(e){return e.op.toString()+" {"+e.getFilters().map(qg).join(" ,")+"}"}(e):"Filter"}class Hg extends Dg{constructor(e,t,n){super(e,t,n),this.key=vf.fromName(n.referenceValue)}matches(e){const t=vf.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wg extends Dg{constructor(e,t){super(e,"in",t),this.keys=Gg("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kg extends Dg{constructor(e,t){super(e,"not-in",t),this.keys=Gg("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>vf.fromName(e.referenceValue))}class Qg extends Dg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&ig(t.arrayValue,this.value)}}class $g extends Dg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ig(this.value.arrayValue,t)}}class Yg extends Dg{constructor(e,t){super(e,"not-in",t)}matches(e){if(ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ig(this.value.arrayValue,t)}}class Jg extends Dg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ig(this.value.arrayValue,e))}}class Xg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Zg(e){return new Xg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ey(e){const t=Wh(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>zg(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),cp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>lg(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>lg(e)).join(",")),t.Te=e}return t.Te}function ty(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Og(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pg(e.startAt,t.startAt)&&Pg(e.endAt,t.endAt)}function ny(e){return vf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ry(e,t){return e.filters.filter(e=>e instanceof Dg&&e.field.isEqual(t))}function iy(e,t,n){let r=tg,i=!0;for(const o of ry(e,t)){let e=tg,t=!0;switch(o.op){case"<":case"<=":e=Sg(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=tg}Eg({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Eg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function oy(e,t,n){let r=Xm,i=!0;for(const o of ry(e,t)){let e=Xm,t=!0;switch(o.op){case">=":case">":e=_g(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Xm}kg({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];kg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class sy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ay(e,t,n,r,i,o,s,a){return new sy(e,t,n,r,i,o,s,a)}function ly(e){return new sy(e)}function cy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uy(e){return null!==e.collectionGroup}function dy(e){const t=Wh(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Pm(yf.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ng(r,n))}),e.has(yf.keyField().canonicalString())||t.Ie.push(new Ng(yf.keyField(),n))}return t.Ie}function hy(e){const t=Wh(e);return t.Ee||(t.Ee=fy(t,dy(e))),t.Ee}function fy(e,t){if("F"===e.limitType)return Zg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ng(e.field,t)});const n=e.endAt?new xg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xg(e.startAt.position,e.startAt.inclusive):null;return Zg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function py(e,t){const n=e.filters.concat([t]);return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function my(e,t,n){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gy(e,t){return ty(hy(e),hy(t))&&e.limitType===t.limitType}function yy(e){return"".concat(ey(hy(e)),"|lt:").concat(e.limitType)}function vy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>qg(e)).join(", "),"]")),cp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>lg(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>lg(e)).join(",")),"Target(".concat(t,")")}(hy(e)),"; limitType=").concat(e.limitType,")")}function by(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of dy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ag(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dy(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ag(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dy(e),t))}(e,t)}function wy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sy(e){return(t,n)=>{let r=!1;for(const i of dy(e)){const e=_y(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _y(e,t,n){const r=e.field.isKeyField()?vf.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?og(r,i):Bh(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bh(19790,{direction:e.dir})}}class Ey{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Im(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Tm(this.inner)}size(){return this.innerSize}}const ky=new Cm(vf.comparator);function Iy(){return ky}const Ty=new Cm(vf.comparator);function Cy(){let e=Ty;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function xy(e){let t=Ty;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ay(){return Ny()}function Py(){return Ny()}function Ny(){return new Ey(e=>e.toString(),(e,t)=>e.isEqual(t))}const Oy=new Cm(vf.comparator),Ry=new Pm(vf.comparator);function Dy(){let e=Ry;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Ly=new Pm(sf);function My(){return Ly}function Fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(t)?"-0":t}}function jy(e){return{integerValue:""+e}}function Uy(e,t){return dp(t)?jy(t):Fy(e,t)}class zy{constructor(){this._=void 0}}function Vy(e,t,n){return e instanceof Hy?function(e,t){const n={fields:{[Vm]:{stringValue:zm},[qm]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hm(t)&&(t=Wm(t)),t&&(n.fields[Bm]=t),{mapValue:n}}(n,t):e instanceof Wy?Ky(e,t):e instanceof Gy?Qy(e,t):function(e,t){const n=qy(e,t),r=Yy(n)+Yy(e.Ae);return hg(n)&&hg(e.Ae)?jy(r):Fy(e.serializer,r)}(e,t)}function By(e,t,n){return e instanceof Wy?Ky(e,t):e instanceof Gy?Qy(e,t):n}function qy(e,t){return e instanceof $y?function(e){return hg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Hy extends zy{}class Wy extends zy{constructor(e){super(),this.elements=e}}function Ky(e,t){const n=Jy(t);for(const r of e.elements)n.some(e=>rg(e,r))||n.push(r);return{arrayValue:{values:n}}}class Gy extends zy{constructor(e){super(),this.elements=e}}function Qy(e,t){let n=Jy(t);for(const r of e.elements)n=n.filter(e=>!rg(e,r));return{arrayValue:{values:n}}}class $y extends zy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yy(e){return jm(e.integerValue||e.doubleValue)}function Jy(e){return fg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Xy{constructor(e,t){this.field=e,this.transform=t}}class Zy{constructor(e,t){this.version=e,this.transformResults=t}}class ev{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ev}static exists(e){return new ev(void 0,e)}static updateTime(e){return new ev(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nv{}function rv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fv(e.key,ev.none()):new lv(e.key,e.data,ev.none());{const n=e.data,r=Ig.empty();let i=new Pm(yf.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new cv(e.key,r,new Rm(i.toArray()),ev.none())}}function iv(e,t,n){e instanceof lv?function(e,t,n){const r=e.value.clone(),i=dv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cv?function(e,t,n){if(!tv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=dv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(uv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ov(e,t,n,r){return e instanceof lv?function(e,t,n,r){if(!tv(e.precondition,t))return n;const i=e.value.clone(),o=hv(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cv?function(e,t,n,r){if(!tv(e.precondition,t))return n;const i=hv(e.fieldTransforms,r,t),o=t.data;return o.setAll(uv(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return tv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=qy(r.transform,e||null);null!=i&&(null===n&&(n=Ig.empty()),n.set(r.field,i))}return n||null}function av(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&df(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Wy&&t instanceof Wy||e instanceof Gy&&t instanceof Gy?df(e.elements,t.elements,rg):e instanceof $y&&t instanceof $y?rg(e.Ae,t.Ae):e instanceof Hy&&t instanceof Hy}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lv extends nv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cv extends nv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function uv(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function dv(e,t,n){const r=new Map;Hh(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,By(s,a,n[i]))}return r}function hv(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Vy(e,o,t))}return r}class fv extends nv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pv extends nv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&iv(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ov(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ov(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Py();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=rv(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Of.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dy())}isEqual(e){return this.batchId===e.batchId&&df(this.mutations,e.mutations,(e,t)=>av(e,t))&&df(this.baseMutations,e.baseMutations,(e,t)=>av(e,t))}}class gv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Hh(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Oy;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new gv(e,t,n,r)}}class yv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vv{constructor(e,t){this.count=e,this.unchangedNames=t}}var bv,wv;function Sv(e){switch(e){case Kh.OK:return Bh(64938);case Kh.CANCELLED:case Kh.UNKNOWN:case Kh.DEADLINE_EXCEEDED:case Kh.RESOURCE_EXHAUSTED:case Kh.INTERNAL:case Kh.UNAVAILABLE:case Kh.UNAUTHENTICATED:return!1;case Kh.INVALID_ARGUMENT:case Kh.NOT_FOUND:case Kh.ALREADY_EXISTS:case Kh.PERMISSION_DENIED:case Kh.FAILED_PRECONDITION:case Kh.ABORTED:case Kh.OUT_OF_RANGE:case Kh.UNIMPLEMENTED:case Kh.DATA_LOSS:return!0;default:return Bh(15467,{code:e})}}function _v(e){if(void 0===e)return Uh("GRPC error has no .code"),Kh.UNKNOWN;switch(e){case bv.OK:return Kh.OK;case bv.CANCELLED:return Kh.CANCELLED;case bv.UNKNOWN:return Kh.UNKNOWN;case bv.DEADLINE_EXCEEDED:return Kh.DEADLINE_EXCEEDED;case bv.RESOURCE_EXHAUSTED:return Kh.RESOURCE_EXHAUSTED;case bv.INTERNAL:return Kh.INTERNAL;case bv.UNAVAILABLE:return Kh.UNAVAILABLE;case bv.UNAUTHENTICATED:return Kh.UNAUTHENTICATED;case bv.INVALID_ARGUMENT:return Kh.INVALID_ARGUMENT;case bv.NOT_FOUND:return Kh.NOT_FOUND;case bv.ALREADY_EXISTS:return Kh.ALREADY_EXISTS;case bv.PERMISSION_DENIED:return Kh.PERMISSION_DENIED;case bv.FAILED_PRECONDITION:return Kh.FAILED_PRECONDITION;case bv.ABORTED:return Kh.ABORTED;case bv.OUT_OF_RANGE:return Kh.OUT_OF_RANGE;case bv.UNIMPLEMENTED:return Kh.UNIMPLEMENTED;case bv.DATA_LOSS:return Kh.DATA_LOSS;default:return Bh(39323,{code:e})}}(wv=bv||(bv={}))[wv.OK=0]="OK",wv[wv.CANCELLED=1]="CANCELLED",wv[wv.UNKNOWN=2]="UNKNOWN",wv[wv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wv[wv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wv[wv.NOT_FOUND=5]="NOT_FOUND",wv[wv.ALREADY_EXISTS=6]="ALREADY_EXISTS",wv[wv.PERMISSION_DENIED=7]="PERMISSION_DENIED",wv[wv.UNAUTHENTICATED=16]="UNAUTHENTICATED",wv[wv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wv[wv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wv[wv.ABORTED=10]="ABORTED",wv[wv.OUT_OF_RANGE=11]="OUT_OF_RANGE",wv[wv.UNIMPLEMENTED=12]="UNIMPLEMENTED",wv[wv.INTERNAL=13]="INTERNAL",wv[wv.UNAVAILABLE=14]="UNAVAILABLE",wv[wv.DATA_LOSS=15]="DATA_LOSS";let Ev=null;function kv(){return new TextEncoder}const Iv=new vh([4294967295,4294967295],0);function Tv(e){const t=kv().encode(e),n=new bh;return n.update(t),new Uint8Array(n.digest())}function Cv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new vh([n,r],0),new vh([i,o],0)]}class xv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Av("Invalid padding: ".concat(t));if(n<0)throw new Av("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Av("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Av("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=vh.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(vh.fromNumber(n)));return 1===r.compare(Iv)&&(r=new vh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Tv(e),[n,r]=Cv(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xv(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=Tv(e),[n,r]=Cv(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Av extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Nv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pv(Of.min(),r,new Cm(sf),Iy(),Dy())}}class Nv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Nv(n,t,Dy(),Dy(),Dy())}}class Ov{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Rv{constructor(e,t){this.targetId=e,this.Ce=t}}class Dv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Lv{constructor(){this.ve=0,this.Fe=jv(),this.Me=Lm.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dy(),t=Dy(),n=Dy();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bh(38017,{changeType:i})}}),new Nv(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=jv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hh(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mv{constructor(e){this.Ge=e,this.ze=new Map,this.je=Iy(),this.Je=Fv(),this.He=Fv(),this.Ye=new Cm(sf)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Bh(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(ny(o))if(0===n){const e=new vf(o.path);this.et(t,e,Cg.newNoDocument(e,Of.min()))}else Hh(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Ev)||void 0===i||i.lt(function(e,t,n,r,i,o,s,a,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Um(n).toUint8Array()}catch(e){if(e instanceof Dm)return zh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new xv(o,r,i)}catch(e){return zh(e instanceof Av?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ny(i.target)){const t=new vf(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Cg.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Dy();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Pv(e,t,this.Ye,this.je,n);return this.je=Iy(),this.Je=Fv(),this.He=Fv(),this.Ye=new Cm(sf),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Lv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pm(sf),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pm(sf),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||jh("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Fv(){return new Cm(vf.comparator)}function jv(){return new Cm(vf.comparator)}const Uv={asc:"ASCENDING",desc:"DESCENDING"},zv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vv={and:"AND",or:"OR"};class Bv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qv(e,t){return e.useProto3Json||cp(t)?t:{value:t}}function Hv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Kv(e,t){return Hv(e,t.toTimestamp())}function Gv(e){return Hh(!!e,49232),Of.fromTimestamp(function(e){const t=Fm(e);return new Nf(t.seconds,t.nanos)}(e))}function Qv(e,t){return $v(e,t).canonicalString()}function $v(e,t){const n=function(e){return new mf(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Yv(e){const t=mf.fromString(e);return Hh(vb(t),10190,{key:t.toString()}),t}function Jv(e,t){return Qv(e.databaseId,t.path)}function Xv(e,t){const n=Yv(t);if(n.get(1)!==e.databaseId.projectId)throw new Gh(Kh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gh(Kh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vf(nb(n))}function Zv(e,t){return Qv(e.databaseId,t)}function eb(e){const t=Yv(e);return 4===t.length?mf.emptyPath():nb(t)}function tb(e){return new mf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nb(e){return Hh(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function rb(e,t,n){return{name:Jv(e,t),fields:n.value.mapValue.fields}}function ib(e,t,n){const r=Xv(e,t.name),i=Gv(t.updateTime),o=t.createTime?Gv(t.createTime):Of.min(),s=new Ig({mapValue:{fields:t.fields}}),a=Cg.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ob(e,t){let n;if(t instanceof lv)n={update:rb(e,t.key,t.value)};else if(t instanceof fv)n={delete:Jv(e,t.key)};else if(t instanceof cv)n={update:rb(e,t.key,t.data),updateMask:yb(t.fieldMask)};else{if(!(t instanceof pv))return Bh(16599,{Vt:t.type});n={verify:Jv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Hy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $y)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Bh(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bh(27497)}(e,t.precondition)),n}function sb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ev.updateTime(Gv(e.updateTime)):void 0!==e.exists?ev.exists(e.exists):ev.none()}(t.currentDocument):ev.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)Hh("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new Hy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Wy(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Gy(e)}else"increment"in t?n=new $y(e,t.increment):Bh(16584,{proto:t});const r=yf.fromServerFormat(t.fieldPath);return new Xy(r,n)}(e,t)):[];if(t.update){t.update.name;const i=Xv(e,t.update.name),o=new Ig({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Rm(t.map(e=>yf.fromServerFormat(e)))}(t.updateMask);return new cv(i,o,e,n,r)}return new lv(i,o,n,r)}if(t.delete){const r=Xv(e,t.delete);return new fv(r,n)}if(t.verify){const r=Xv(e,t.verify);return new pv(r,n)}return Bh(1463,{proto:t})}function ab(e,t){return{documents:[Zv(e,t.path)]}}function lb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zv(e,i);const o=function(e){if(0!==e.length)return gb(Lg.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:pb(e.field),direction:db(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qv(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function cb(e){let t=eb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hh(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=ub(e);return t instanceof Lg&&jg(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ng(mb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,cp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new xg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new xg(n,t)}(n.endAt)),ay(t,i,s,o,a,"F",l,c)}function ub(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=mb(e.unaryFilter.field);return Dg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=mb(e.unaryFilter.field);return Dg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=mb(e.unaryFilter.field);return Dg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=mb(e.unaryFilter.field);return Dg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bh(61313);default:return Bh(60726)}}(e):void 0!==e.fieldFilter?function(e){return Dg.create(mb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bh(58110);default:return Bh(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lg.create(e.compositeFilter.filters.map(e=>ub(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bh(1026)}}(e.compositeFilter.op))}(e):Bh(30097,{filter:e})}function db(e){return Uv[e]}function hb(e){return zv[e]}function fb(e){return Vv[e]}function pb(e){return{fieldPath:e.canonicalString()}}function mb(e){return yf.fromServerFormat(e.fieldPath)}function gb(e){return e instanceof Dg?function(e){if("=="===e.op){if(mg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NAN"}};if(pg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NOT_NAN"}};if(pg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pb(e.field),op:hb(e.op),value:e.value}}}(e):e instanceof Lg?function(e){const t=e.getFilters().map(e=>gb(e));return 1===t.length?t[0]:{compositeFilter:{op:fb(e.op),filters:t}}}(e):Bh(54877,{filter:e})}function yb(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class bb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Of.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Of.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new bb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wb{constructor(e){this.yt=e}}function Sb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_b(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Jv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hv(e,t.version.toTimestamp()),createTime:Hv(e,t.createTime.toTimestamp())}}(e.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Eb(t.version)};else{if(!t.isUnknownDocument())return Bh(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:Eb(t.version)}}return r}function _b(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Eb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kb(e){const t=new Nf(e.seconds,e.nanoseconds);return Of.fromTimestamp(t)}function Ib(e,t){const n=(t.baseMutations||[]).map(t=>sb(e.yt,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map(t=>sb(e.yt,t)),i=Nf.fromMillis(t.localWriteTimeMs);return new mv(t.batchId,i,n,r)}function Tb(e){const t=kb(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?kb(e.lastLimboFreeSnapshotVersion):Of.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return Hh(1===t,1966,{count:t}),hy(ly(eb(e.documents[0])))}(e.query):function(e){return hy(cb(e))}(e.query),new bb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Lm.fromBase64String(e.resumeToken))}function Cb(e,t){const n=Eb(t.snapshotVersion),r=Eb(t.lastLimboFreeSnapshotVersion);let i;i=ny(t.target)?ab(e.yt,t.target):lb(e.yt,t.target).ft;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ey(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function xb(e){const t=cb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?my(t,t.limit,"L"):t}function Ab(e,t){return new yv(t.largestBatchId,sb(e.yt,t.overlayMutation))}function Pb(e,t){const n=t.path.lastSegment();return[e,fp(t.path.popLast()),n]}function Nb(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Eb(r.readTime),documentKey:fp(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ob{getBundleMetadata(e,t){return Rb(e).get(t).next(e=>{if(e)return function(e){return{id:e.bundleId,createTime:kb(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return Rb(e).put(function(e){return{bundleId:e.id,createTime:Eb(Gv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Db(e).get(t).next(e=>{if(e)return function(e){return{name:e.name,query:xb(e.bundledQuery),readTime:kb(e.readTime)}}(e)})}saveNamedQuery(e,t){return Db(e).put(function(e){return{name:e.name,readTime:Eb(Gv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Rb(e){return Em(e,$p)}function Db(e){return Em(e,Yp)}class Lb{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Lb(e,n)}getOverlay(e,t){return Mb(e).get(Pb(this.userId,t)).next(e=>e?Ab(this.serializer,e):null)}getOverlays(e,t){const n=Ay();return Kf.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new yv(t,i);r.push(this.St(e,o))}),Kf.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(fp(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Mb(e).Z(cm,r))}),Kf.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ay(),i=fp(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Mb(e).J(cm,o).next(e=>{for(const t of e){const e=Ab(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Ay();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mb(e).ee({index:dm,range:s},(e,t,n)=>{const s=Ab(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>i)}St(e,t){return Mb(e).put(function(e,t,n){const[r,i,o]=Pb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ob(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function Mb(e){return Em(e,am)}class Fb{bt(e){return Em(e,fm)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null===e||void 0===e?void 0:e.value;return t?Lm.fromUint8Array(t):Lm.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class jb{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(jm(e.integerValue));else if("doubleValue"in e){const n=jm(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),up(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Fm(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Um(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?bg(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):yg(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Bh(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=eg,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(jm(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),vf.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}jb.Kt=new jb;const Ub=255;function zb(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function Vb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=zb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Bb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=Vb(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}nn(e){const t=this.en(e),n=Vb(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}rn(){this.sn(Ub),this.sn(255)}_n(){this.an(Ub),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===Ub?(this.sn(Ub),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===Ub?(this.an(Ub),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class qb{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Hb{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Wb{constructor(){this.cn=new Bb,this.ln=new qb(this.cn),this.hn=new Hb(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Kb{constructor(e,t,n,r){this.Tn=e,this.In=t,this.En=n,this.dn=r}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Kb(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:$b(this.En),directionalValue:$b(this.dn),orderedDocumentKey:$b(t),documentKey:n.path.toArray()}}Vn(e,t,n){const r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function Gb(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=Qb(e.En,t.En),0!==n?n:(n=Qb(e.dn,t.dn),0!==n?n:vf.comparator(e.In,t.In)))}function Qb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function $b(e){return du()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function Yb(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class Jb{constructor(e){this.mn=new Pm((e,t)=>yf.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(Hh(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Lf(e);if(void 0!==t&&!this.wn(t))return!1;const n=Mf(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.wn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.Sn(e,t)||!this.bn(this.fn[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.fn.length||!this.bn(this.fn[o++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new Pm(yf.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ff(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ff(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ff(n.field,"asc"===n.dir?0:1)));return new Df(Df.UNKNOWN_ID,this.collectionId,t,jf.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Xb(e){if(Hh(e instanceof Dg||e instanceof Lg,20012),e instanceof Dg){if(e instanceof $g){var t;const n=(null===(t=e.value.arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(t=>Dg.create(e.field,"==",t)))||[];return Lg.create(n,"or")}return e}const n=e.filters.map(e=>Xb(e));return Lg.create(n,e.op)}function Zb(e){if(0===e.getFilters().length)return[];const t=rw(Xb(e));return Hh(nw(t),7391),ew(t)||tw(t)?[t]:t.getFilters()}function ew(e){return e instanceof Dg}function tw(e){return e instanceof Lg&&jg(e)}function nw(e){return ew(e)||tw(e)||function(e){if(e instanceof Lg&&Fg(e)){for(const t of e.getFilters())if(!ew(t)&&!tw(t))return!1;return!0}return!1}(e)}function rw(e){if(Hh(e instanceof Dg||e instanceof Lg,34018),e instanceof Dg)return e;if(1===e.filters.length)return rw(e.filters[0]);const t=e.filters.map(e=>rw(e));let n=Lg.create(t,e.op);return n=sw(n),nw(n)?n:(Hh(n instanceof Lg,64498),Hh(Mg(n),40251),Hh(n.filters.length>1,57927),n.filters.reduce((e,t)=>iw(e,t)))}function iw(e,t){let n;return Hh(e instanceof Dg||e instanceof Lg,38388),Hh(t instanceof Dg||t instanceof Lg,25473),n=e instanceof Dg?t instanceof Dg?function(e,t){return Lg.create([e,t],"and")}(e,t):ow(e,t):t instanceof Dg?ow(t,e):function(e,t){if(Hh(e.filters.length>0&&t.filters.length>0,48005),Mg(e)&&Mg(t))return Bg(e,t.getFilters());const n=Fg(e)?e:t,r=Fg(e)?t:e,i=n.filters.map(e=>iw(e,r));return Lg.create(i,"or")}(e,t),sw(n)}function ow(e,t){if(Mg(t))return Bg(t,e.getFilters());{const n=t.filters.map(t=>iw(e,t));return Lg.create(n,"or")}}function sw(e){if(Hh(e instanceof Dg||e instanceof Lg,11850),e instanceof Dg)return e;const t=e.getFilters();if(1===t.length)return sw(t[0]);if(Ug(e))return e;const n=t.map(e=>sw(e)),r=[];return n.forEach(t=>{t instanceof Dg?r.push(t):t instanceof Lg&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:Lg.create(r,e.op)}class aw{constructor(){this.Cn=new lw}addToCollectionParentIndex(e,t){return this.Cn.add(t),Kf.resolve()}getCollectionParents(e,t){return Kf.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Kf.resolve()}deleteFieldIndex(e,t){return Kf.resolve()}deleteAllFieldIndexes(e){return Kf.resolve()}createTargetIndexes(e,t){return Kf.resolve()}getDocumentsMatchingTarget(e,t){return Kf.resolve(null)}getIndexType(e,t){return Kf.resolve(0)}getFieldIndexes(e,t){return Kf.resolve([])}getNextCollectionGroupToUpdate(e){return Kf.resolve(null)}getMinOffset(e,t){return Kf.resolve(Vf.min())}getMinOffsetFromCollectionGroup(e,t){return Kf.resolve(Vf.min())}updateCollectionGroup(e,t,n){return Kf.resolve()}updateIndexEntries(e,t){return Kf.resolve()}}class lw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pm(mf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pm(mf.comparator)).toArray()}}const cw="IndexedDbIndexManager",uw=new Uint8Array(0);class dw{constructor(e,t){this.databaseId=t,this.vn=new lw,this.Fn=new Ey(e=>ey(e),(e,t)=>ty(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const i={collectionId:n,parent:fp(r)};return hw(e).put(i)}return Kf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[hf(t),""],!1,!0);return hw(e).J(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(gp(r.parent))}return n})}addFieldIndex(e,t){const n=pw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=mw(e);return i.next(e=>{n.put(Nb(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=pw(e),r=mw(e),i=fw(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=pw(e),n=fw(e),r=mw(e);return t.Z().next(()=>n.Z()).next(()=>r.Z())}createTargetIndexes(e,t){return Kf.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new Jb(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=fw(e);let r=!0;const i=new Map;return Kf.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Dy();const r=[];return Kf.forEach(i,(i,o)=>{jh(cw,"Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map(e=>"".concat(e.fieldPath,":").concat(e.kind)).join(","))}(i)," to execute ").concat(ey(t)));const s=function(e,t){const n=Lf(t);if(void 0===n)return null;for(const r of ry(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Mf(t))for(const t of ry(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Mf(t)){const t=0===i.kind?iy(e,i.fieldPath,e.startAt):oy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xg(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Mf(t)){const t=0===i.kind?oy(e,i.fieldPath,e.endAt):iy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xg(n,r)}(o,i),u=this.On(i,o,l),d=this.On(i,o,c),h=this.Nn(i,o,a),f=this.Bn(i.indexId,s,u,l.inclusive,d,c.inclusive,h);return Kf.forEach(f,i=>n.Y(i,t.limit).next(t=>{t.forEach(t=>{const n=vf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Kf.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:Zb(Lg.create(e.filters,"and")).map(t=>Zg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Ln(t[u/l]):uw,d=this.kn(e,a,n[u%l],r),h=this.qn(e,a,i[u%l],o),f=s.map(t=>this.kn(e,a,t,!0));c.push(...this.createRange(d,h,f))}return c}kn(e,t,n,r){const i=new Kb(e,vf.empty(),t,n);return r?i:i.An()}qn(e,t,n,r){const i=new Kb(e,vf.empty(),t,n);return r?i.An():i}xn(e,t){const n=new Jb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.yn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;const r=this.Mn(t);return Kf.forEach(r,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new Pm(yf.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n)}Qn(e,t){const n=new Wb;for(const r of Mf(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Pn(r.kind);jb.Kt.Dt(e,i)}return n.un()}Ln(e){const t=new Wb;return jb.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new Wb;return jb.Kt.Dt(dg(this.databaseId,t),n.Pn(function(e){const t=Mf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let r=[];r.push(new Wb);let i=0;for(const o of Mf(e)){const e=n[i++];for(const n of r)if(this.Un(t,o.fieldPath)&&fg(e))r=this.Kn(r,o,e);else{const t=n.Pn(o.kind);jb.Kt.Dt(e,t)}}return this.Wn(r)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Wb;n.seed(e.un()),jb.Kt.Dt(o,n.Pn(t.kind)),i.push(n)}return i}Un(e,t){return!!e.filters.find(e=>e instanceof Dg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=pw(e),r=mw(e);return(t?n.J(Xp,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return Kf.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new jf(t.sequenceNumber,new Vf(kb(t.readTime),new vf(gp(t.documentKey)),t.largestBatchId)):jf.empty(),r=e.fields.map(e=>{let[t,n]=e;return new Ff(yf.fromServerFormat(t),n)});return new Df(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sf(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=pw(e),i=mw(e);return this.Gn(e).next(e=>r.J(Xp,IDBKeyRange.bound(t,t)).next(t=>Kf.forEach(t,t=>i.put(Nb(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Kf.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Kf.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Kf.forEach(i,n=>this.zn(e,t,n).next(t=>{const i=this.jn(r,n);return t.isEqual(i)?Kf.resolve():this.Jn(e,r,n,t,i)}))))})}Hn(e,t,n,r){return fw(e).put(r.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,r){return fw(e).delete(r.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const r=fw(e);let i=new Pm(Gb);return r.ee({index:om,range:IDBKeyRange.only([n.indexId,this.uid,$b(this.$n(n,t))])},(e,r)=>{i=i.add(new Kb(n.indexId,t,Yb(r.arrayValue),Yb(r.directionalValue)))}).next(()=>i)}jn(e,t){let n=new Pm(Gb);const r=this.Qn(t,e);if(null==r)return n;const i=Lf(t);if(null!=i){const o=e.data.field(i.fieldPath);if(fg(o))for(const i of o.arrayValue.values||[])n=n.add(new Kb(t.indexId,e.key,this.Ln(i),r))}else n=n.add(new Kb(t.indexId,e.key,uw,r));return n}Jn(e,t,n,r,i){jh(cw,"Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Om(o),l=Om(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Om(s)):t?(i(a),a=Om(o)):(a=Om(o),l=Om(s))}}(r,i,Gb,r=>{o.push(this.Hn(e,t,n,r))},r=>{o.push(this.Yn(e,t,n,r))}),Kf.waitFor(o)}Gn(e){let t=1;return mw(e).ee({index:tm,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Gb(e,t)).filter((e,t,n)=>!t||0!==Gb(e,n[t-1]));const r=[];r.push(e);for(const o of n){const n=Gb(o,e),i=Gb(o,t);if(0===n)r[0]=e.An();else if(n>0&&i<0)r.push(o),r.push(o.An());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Zn(r[o],r[o+1]))return[];const e=r[o].Vn(this.uid,uw,vf.empty()),t=r[o+1].Vn(this.uid,uw,vf.empty());i.push(IDBKeyRange.bound(e,t))}return i}Zn(e,t){return Gb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gw)}getMinOffset(e,t){return Kf.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||Bh(44426))).next(gw)}}function hw(e){return Em(e,Kp)}function fw(e){return Em(e,rm)}function pw(e){return Em(e,Jp)}function mw(e){return Em(e,Zp)}function gw(e){Hh(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Bf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Vf(t.readTime,t.documentKey,n)}const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vw=41943040;class bw{static withCacheSize(e){return new bw(e,bw.DEFAULT_COLLECTION_PERCENTILE,bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function ww(e,t,n){const r=e.store(Sp),i=e.store(xp),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:s},(e,t,n)=>(a++,n.delete()));o.push(l.next(()=>{Hh(1===a,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=Tp(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Kf.waitFor(o).next(()=>c)}function Sw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bh(14731);t=e.noDocument}return JSON.stringify(t).length}bw.DEFAULT_COLLECTION_PERCENTILE=10,bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bw.DEFAULT=new bw(vw,bw.DEFAULT_COLLECTION_PERCENTILE,bw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bw.DISABLED=new bw(-1,0,0);class _w{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Xn={}}static wt(e,t,n,r){Hh(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new _w(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kw(e).ee({index:Ep,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Iw(e),o=kw(e);return o.add({}).next(s=>{Hh("number"==typeof s,49019);const a=new mv(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>ob(e.yt,t)),i=n.mutations.map(t=>ob(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Pm((e,t)=>sf(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Tp(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Cp))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[s]=a.keys()}),Kf.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return kw(e).get(t).next(e=>e?(Hh(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Ib(this.serializer,e)):null)}er(e,t){return this.Xn[t]?Kf.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return kw(e).ee({index:Ep,range:r},(e,t,r)=>{t.userId===this.userId&&(Hh(t.batchId>=n,47524,{tr:n}),i=Ib(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=lp;return kw(e).ee({index:Ep,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,lp],[this.userId,Number.POSITIVE_INFINITY]);return kw(e).J(Ep,t).next(e=>e.map(e=>Ib(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ip(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Iw(e).ee({range:r},(n,r,o)=>{const[s,a,l]=n,c=gp(a);if(s===this.userId&&t.path.isEqual(c))return kw(e).get(l).next(e=>{if(!e)throw Bh(61480,{nr:n,batchId:l});Hh(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Ib(this.serializer,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pm(sf);const r=[];return t.forEach(t=>{const i=Ip(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Iw(e).ee({range:o},(e,r,i)=>{const[o,s,a]=e,l=gp(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(s)}),Kf.waitFor(r).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ip(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Pm(sf);return Iw(e).ee({range:o},(e,t,i)=>{const[o,a,l]=e,c=gp(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()}).next(()=>this.rr(e,s))}rr(e,t){const n=[],r=[];return t.forEach(t=>{r.push(kw(e).get(t).next(e=>{if(null===e)throw Bh(35274,{batchId:t});Hh(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Ib(this.serializer,e))}))}),Kf.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ww(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),Kf.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Kf.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Iw(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=gp(e[1]);r.push(t)}else n.done()}).next(()=>{Hh(0===r.length,56720,{sr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return Ew(e,this.userId,t)}_r(e){return Tw(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:lp,lastStreamToken:""})}}function Ew(e,t,n){const r=Ip(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Iw(e).ee({range:o,X:!0},(e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()}).next(()=>s)}function kw(e){return Em(e,Sp)}function Iw(e){return Em(e,xp)}function Tw(e){return Em(e,wp)}class Cw{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cw(0)}static cr(){return new Cw(-1)}}class xw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new Cw(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>Of.fromTimestamp(new Nf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.hr(e,r)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Aw(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(Hh(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Aw(e).ee((o,s)=>{const a=Tb(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Kf.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Aw(e).ee((e,n)=>{const r=Tb(n);t(r)})}lr(e){return Pw(e).get(Hp).next(e=>(Hh(null!==e,2888),e))}hr(e,t){return Pw(e).put(Hp,t)}Pr(e,t){return Aw(e).put(Cb(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=ey(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Aw(e).ee({range:r,index:jp},(e,n,r)=>{const o=Tb(n);ty(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Nw(e);return t.forEach(t=>{const o=fp(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),Kf.waitFor(r)}removeMatchingKeys(e,t,n){const r=Nw(e);return Kf.forEach(t,t=>{const i=fp(t.path);return Kf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Nw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nw(e);let i=Dy();return r.ee({range:n,X:!0},(e,t,n)=>{const r=gp(e[1]),o=new vf(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=fp(t.path),r=IDBKeyRange.bound([n],[hf(n)],!1,!0);let i=0;return Nw(e).ee({index:Bp,X:!0,range:r},(e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}At(e,t){return Aw(e).get(t).next(e=>e?Tb(e):null)}}function Aw(e){return Em(e,Fp)}function Pw(e){return Em(e,Wp)}function Nw(e){return Em(e,zp)}const Ow="LruGarbageCollector",Rw=1048576;function Dw(e,t){let[n,r]=e,[i,o]=t;const s=sf(n,i);return 0===s?sf(r,o):s}class Lw{constructor(e){this.Ir=e,this.buffer=new Pm(Dw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Dw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){jh(Ow,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zf(e)?jh(Ow,"Ignoring IndexedDB error during garbage collection: ",e):await Wf(e)}await this.Vr(3e5)})}}class Fw{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Kf.resolve(ap.ce);const n=new Lw(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(jh("LruGarbageCollector","Garbage collection skipped; disabled"),Kf.resolve(yw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(jh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),yw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(jh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Fh()<=Ou.DEBUG&&jh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Kf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function jw(e,t){return new Fw(e,t)}class Uw{constructor(e,t){this.db=e,this.garbageCollector=jw(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return zw(e,n)}removeReference(e,t,n){return zw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zw(e,t)}br(e,t){return function(e,t){let n=!1;return Tw(e).te(r=>Ew(e,r,t).next(e=>(e&&(n=!0),Kf.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(o,s)=>{if(s<=t){const t=this.br(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Of.min()),Nw(e).delete(function(e){return[0,fp(e.path)]}(o))))});r.push(t)}}).next(()=>Kf.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zw(e,t)}Sr(e,t){const n=Nw(e);let r,i=ap.ce;return n.ee({index:Bp},(e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==ap.ce&&t(new vf(gp(r)),i),i=l,r=a):i=ap.ce}).next(()=>{i!==ap.ce&&t(new vf(gp(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zw(e,t){return Nw(e).put(function(e,t){return{targetId:0,path:fp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Vw{constructor(){this.changes=new Ey(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Kf.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Kw(e).put(n)}removeEntry(e,t,n){return Kw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_b(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=Cg.newInvalidDocument(t);return Kw(e).ee({index:Np,range:IDBKeyRange.only(Gw(t))},(e,r)=>{n=this.Cr(t,r)}).next(()=>n)}vr(e,t){let n={size:0,document:Cg.newInvalidDocument(t)};return Kw(e).ee({index:Np,range:IDBKeyRange.only(Gw(t))},(e,r)=>{n={document:this.Cr(t,r),size:Sw(r)}}).next(()=>n)}getEntries(e,t){let n=Iy();return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r)}).next(()=>n)}Mr(e,t){let n=Iy(),r=new Cm(vf.comparator);return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i),r=r.insert(e,Sw(t))}).next(()=>({documents:n,Or:r}))}Fr(e,t,n){if(t.isEmpty())return Kf.resolve();let r=new Pm($w);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Gw(r.first()),Gw(r.last())),o=r.getIterator();let s=o.getNext();return Kw(e).ee({index:Np,range:i},(e,t,r)=>{const i=vf.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&$w(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.j(Gw(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),_b(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kw(e).J(IDBKeyRange.bound(s,a,!0)).next(e=>{null===i||void 0===i||i.incrementDocumentReadCount(e.length);let n=Iy();for(const i of e){const e=this.Cr(vf.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(by(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=Iy();const o=Qw(t,n),s=Qw(t,Vf.max());return Kw(e).ee({index:Rp,range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.Cr(vf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Hw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Ww(e).get(Mp).next(e=>(Hh(!!e,20021),e))}Dr(e,t){return Ww(e).put(Mp,t)}Cr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=ib(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=vf.fromSegments(t.noDocument.path),r=kb(t.noDocument.readTime);n=Cg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bh(56709);{const e=vf.fromSegments(t.unknownDocument.path),r=kb(t.unknownDocument.version);n=Cg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Nf(e[0],e[1]);return Of.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Of.min()))return e}return Cg.newInvalidDocument(e)}}function qw(e){return new Bw(e)}class Hw extends Vw{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Ey(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Pm((e,t)=>sf(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const s=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Sb(this.Nr.serializer,o);r=r.add(i.path.popLast());const l=Sw(a);n+=l-s.size,t.push(this.Nr.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Sb(this.Nr.serializer,o.convertToNoDocument(Of.min()));t.push(this.Nr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),Kf.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(e=>{let{documents:t,Or:n}=e;return n.forEach((e,n)=>{this.Br.set(e,{size:n,readTime:t.get(e).readTime})}),t})}}function Ww(e){return Em(e,Lp)}function Kw(e){return Em(e,Ap)}function Gw(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Qw(e,t){const n=t.documentKey.path.toArray();return[e,_b(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $w(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=sf(n[o],r[o]),i)return i;return i=sf(n.length,r.length),i||(i=sf(n[n.length-2],r[r.length-2]),i||sf(n[n.length-1],r[r.length-1]))}class Yw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ov(n.mutation,e,Rm.empty(),Nf.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Dy()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dy();const r=Ay();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Cy();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ay();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Dy()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Iy();const o=Ny(),s=Ny();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof cv)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),ov(s.mutation,t,s.mutation.getFieldMask(),Nf.now())):o.set(t.key,Rm.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Yw(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Ny();let r=new Cm((e,t)=>e-t),i=Dy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Rm.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Dy()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Py();l.forEach(e=>{if(!i.has(e)){const r=rv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Kf.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return vf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Kf.resolve(Ay());let s=Rf,a=i;return o.next(t=>Kf.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Kf.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Dy())).next(e=>({batchId:s,changes:xy(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vf(t)).next(e=>{let t=Cy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Cy();return this.indexManager.getCollectionParents(e,i).next(s=>Kf.forEach(s,s=>{const a=function(e,t){return new sy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cg.newInvalidDocument(r)))});let n=Cy();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&ov(o.mutation,r,Rm.empty(),Nf.now()),by(t,r)&&(n=n.insert(e,r))}),n})}}class Xw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Kf.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gv(e.createTime)}}(t)),Kf.resolve()}getNamedQuery(e,t){return Kf.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:xb(e.bundledQuery),readTime:Gv(e.readTime)}}(t)),Kf.resolve()}}class Zw{constructor(){this.overlays=new Cm(vf.comparator),this.qr=new Map}getOverlay(e,t){return Kf.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ay();return Kf.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Kf.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Kf.resolve()}getOverlaysForCollection(e,t,n){const r=Ay(),i=t.length+1,o=new vf(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Kf.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Cm((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ay(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ay(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Kf.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new yv(t,n));let i=this.qr.get(t);void 0===i&&(i=Dy(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class eS{constructor(){this.sessionToken=Lm.EMPTY_BYTE_STRING}getSessionToken(e){return Kf.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Kf.resolve()}}class tS{constructor(){this.Qr=new Pm(nS.$r),this.Ur=new Pm(nS.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new nS(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new nS(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new vf(new mf([])),n=new nS(t,e),r=new nS(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new vf(new mf([])),n=new nS(t,e),r=new nS(t,e+1);let i=Dy();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new nS(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nS{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return vf.comparator(e.key,t.key)||sf(e.Yr,t.Yr)}static Kr(e,t){return sf(e.Yr,t.Yr)||vf.comparator(e.key,t.key)}}class rS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pm(nS.$r)}checkEmpty(e){return Kf.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mv(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new nS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Kf.resolve(o)}lookupMutationBatch(e,t){return Kf.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Kf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Kf.resolve(0===this.mutationQueue.length?lp:this.tr-1)}getAllMutationBatches(e){return Kf.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nS(t,0),r=new nS(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Kf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pm(sf);return t.forEach(e=>{const t=new nS(e,0),r=new nS(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Kf.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;vf.isDocumentKey(i)||(i=i.child(""));const o=new nS(new vf(i),0);let s=new Pm(sf);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Kf.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Hh(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Kf.forEach(t.mutations,r=>{const i=new nS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new nS(t,0),r=this.Zr.firstAfterOrEqual(n);return Kf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Kf.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iS{constructor(e){this.ri=e,this.docs=new Cm(vf.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Kf.resolve(n?n.document.mutableCopy():Cg.newInvalidDocument(t))}getEntries(e,t){let n=Iy();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cg.newInvalidDocument(e))}),Kf.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Iy();const o=t.path,s=new vf(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Bf(zf(s),n)<=0||(r.has(s.key)||by(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Kf.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Bh(9500)}ii(e,t){return Kf.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new oS(this)}getSize(e){return Kf.resolve(this.size)}}class oS extends Vw{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Kf.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class sS{constructor(e){this.persistence=e,this.si=new Ey(e=>ey(e),ty),this.lastRemoteSnapshotVersion=Of.min(),this.highestTargetId=0,this.oi=0,this._i=new tS,this.targetCount=0,this.ai=Cw.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Kf.resolve()}getLastRemoteSnapshotVersion(e){return Kf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Kf.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Kf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Kf.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cw(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Kf.resolve()}updateTargetData(e,t){return this.Pr(t),Kf.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Kf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Kf.waitFor(i).next(()=>r)}getTargetCount(e){return Kf.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Kf.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Kf.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Kf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Kf.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Kf.resolve(n)}containsKey(e,t){return Kf.resolve(this._i.containsKey(t))}}class aS{constructor(e,t){this.ui={},this.overlays={},this.ci=new ap(0),this.li=!1,this.li=!0,this.hi=new eS,this.referenceDelegate=e(this),this.Pi=new sS(this),this.indexManager=new aw,this.remoteDocumentCache=function(e){return new iS(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new wb(t),this.Ii=new Xw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new rS(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){jh("MemoryPersistence","Starting transaction:",e);const r=new lS(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Kf.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class lS extends Hf{constructor(e){super(),this.currentSequenceNumber=e}}class cS{constructor(e){this.persistence=e,this.Ri=new tS,this.Vi=null}static mi(e){return new cS(e)}get fi(){if(this.Vi)return this.Vi;throw Bh(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Kf.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Kf.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Kf.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kf.forEach(this.fi,n=>{const r=vf.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Of.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Kf.or([()=>Kf.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class uS{constructor(e,t){this.persistence=e,this.pi=new Ey(e=>fp(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=jw(this,t)}static mi(e,t){return new uS(e,t)}Ei(){}di(e){return Kf.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Kf.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Kf.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Of.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Kf.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Kf.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Kf.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Kf.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ug(e.data.value)),t}br(e,t,n){return Kf.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Kf.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dS{constructor(e){this.serializer=e}k(e,t,n,r){const i=new Qf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(vp)}(e),function(e){e.createObjectStore(wp,{keyPath:"userId"});e.createObjectStore(Sp,{keyPath:_p,autoIncrement:!0}).createIndex(Ep,kp,{unique:!0}),e.createObjectStore(xp)}(e),hS(e),function(e){e.createObjectStore(yp)}(e));let o=Kf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(zp),e.deleteObjectStore(Fp),e.deleteObjectStore(Wp)}(e),hS(e)),o=o.next(()=>function(e){const t=e.store(Wp),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Of.min().toTimestamp(),targetCount:0};return t.put(Hp,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store(Sp).J().next(n=>{e.deleteObjectStore(Sp),e.createObjectStore(Sp,{keyPath:_p,autoIncrement:!0}).createIndex(Ep,kp,{unique:!0});const r=t.store(Sp),i=n.map(e=>r.put(e));return Kf.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore(Qp,{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.yi(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore(Lp)}(e),this.wi(i)))),n<7&&r>=7&&(o=o.next(()=>this.Si(i))),n<8&&r>=8&&(o=o.next(()=>this.bi(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.Di(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore($p,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Yp,{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore(am,{keyPath:lm});t.createIndex(cm,um,{unique:!1}),t.createIndex(dm,hm,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore(Ap,{keyPath:Pp});t.createIndex(Np,Op),t.createIndex(Rp,Dp)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(yp))),n<14&&r>=14&&(o=o.next(()=>this.Fi(e,i))),n<15&&r>=15&&(o=o.next(()=>function(e){e.createObjectStore(Jp,{keyPath:"indexId",autoIncrement:!0}).createIndex(Xp,"collectionGroup",{unique:!1});e.createObjectStore(Zp,{keyPath:em}).createIndex(tm,nm,{unique:!1});e.createObjectStore(rm,{keyPath:im}).createIndex(om,sm,{unique:!1})}(e))),n<16&&r>=16&&(o=o.next(()=>{t.objectStore(Zp).clear()}).next(()=>{t.objectStore(rm).clear()})),n<17&&r>=17&&(o=o.next(()=>{!function(e){e.createObjectStore(fm,{keyPath:"name"})}(e)})),n<18&&r>=18&&du()&&(o=o.next(()=>{t.objectStore(Zp).clear()}).next(()=>{t.objectStore(rm).clear()})),o}wi(e){let t=0;return e.store(yp).ee((e,n)=>{t+=Sw(n)}).next(()=>{const n={byteSize:t};return e.store(Lp).put(Mp,n)})}yi(e){const t=e.store(wp),n=e.store(Sp);return t.J().next(t=>Kf.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,lp],[t.userId,t.lastAcknowledgedBatchId]);return n.J(Ep,r).next(n=>Kf.forEach(n,n=>{Hh(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=Ib(this.serializer,n);return ww(e,t.userId,r).next(()=>{})}))}))}Si(e){const t=e.store(zp),n=e.store(yp);return e.store(Wp).get(Hp).next(e=>{const r=[];return n.ee((n,i)=>{const o=new mf(n),s=function(e){return[0,fp(e)]}(o);r.push(t.get(s).next(n=>n?Kf.resolve():(n=>t.put({targetId:0,path:fp(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>Kf.waitFor(r))})}bi(e,t){e.createObjectStore(Kp,{keyPath:Gp});const n=t.store(Kp),r=new lw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:fp(r)})}};return t.store(yp).ee({X:!0},(e,t)=>{const n=new mf(e);return i(n.popLast())}).next(()=>t.store(xp).ee({X:!0},(e,t)=>{let[n,r,o]=e;const s=gp(r);return i(s.popLast())}))}Di(e){const t=e.store(Fp);return t.ee((e,n)=>{const r=Tb(n),i=Cb(this.serializer,r);return t.put(i)})}Ci(e,t){const n=t.store(yp),r=[];return n.ee((e,n)=>{const i=t.store(Ap),o=function(e){return e.document?new vf(mf.fromString(e.document.name).popFirst(5)):e.noDocument?vf.fromSegments(e.noDocument.path):e.unknownDocument?vf.fromSegments(e.unknownDocument.path):Bh(36783)}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))}).next(()=>Kf.waitFor(r))}Fi(e,t){const n=t.store(Sp),r=qw(this.serializer),i=new aS(cS.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Dy();Ib(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Kf.forEach(n,(e,n)=>{const o=new Dh(n),s=Lb.wt(this.serializer,o),a=i.getIndexManager(o),l=_w.wt(o,this.serializer,a,i.referenceDelegate);return new Jw(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new _m(t,ap.ce),e).next()})})}}function hS(e){e.createObjectStore(zp,{keyPath:Vp}).createIndex(Bp,qp,{unique:!0}),e.createObjectStore(Fp,{keyPath:"targetId"}).createIndex(jp,Up,{unique:!0}),e.createObjectStore(Wp)}const fS="IndexedDbPersistence",pS=18e5,mS=5e3,gS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yS="main";class vS{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:18;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=i,this.window=o,this.document=s,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!vS.v())throw new Gh(Kh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uw(this,r),this.$i=t+yS,this.serializer=new wb(a),this.Ui=new $f(this.$i,this.Ni,new dS(this.serializer)),this.hi=new Fb,this.Pi=new xw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qw(this.serializer),this.Ii=new Ob,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&Uh(fS,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gh(Kh.FAILED_PRECONDITION,gS);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new ap(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Zf(e))return jh(fS,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return jh(fS,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return bS(e).get(bp).next(e=>Kf.resolve(this.es(e)))}ts(e){return wS(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,pS)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Em(e,Qp);return t.J().next(e=>{const n=this.ss(e,pS),r=e.filter(e=>-1===n.indexOf(e));return Kf.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Kf.resolve(!0):bS(e).get(bp).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,mS)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Gh(Kh.FAILED_PRECONDITION,gS);return!1}}return!(!this.networkEnabled||!this.inForeground)||wS(e).J().next(e=>void 0===this.ss(e,mS).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&jh(fS,"Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vp,Qp],e=>{const t=new _m(e,ap.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>wS(e).J().next(e=>this.ss(e,pS).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return _w.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dw(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Lb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){jh(fS,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 18===e?Sm:17===e?wm:16===e?bm:15===e?vm:14===e?ym:13===e?gm:12===e?mm:11===e?pm:void Bh(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,r,i,r=>(o=new _m(r,this.ci?this.ci.next():ap.ce),"readwrite-primary"===t?this.Hi(o).next(e=>!!e||this.Yi(o)).next(t=>{if(!t)throw Uh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Gh(Kh.FAILED_PRECONDITION,qf);return n(o)}).next(e=>this.Xi(o).next(()=>e)):this.Is(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}Is(e){return bS(e).get(bp).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,mS)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gh(Kh.FAILED_PRECONDITION,gS)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bS(e).put(bp,t)}static v(){return $f.v()}Zi(e){const t=bS(e);return t.get(bp).next(e=>this.es(e)?(jh(fS,"Releasing primary lease."),t.delete(bp)):Kf.resolve())}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Uh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;uu()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{var t;const n=null!==(null===(t=this.Ki)||void 0===t?void 0:t.getItem(this._s(e)));return jh(fS,"Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uh(fS,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(tD){Uh("Failed to set zombie client id.",tD)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(tD){}}_s(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function bS(e){return Em(e,vp)}function wS(e){return Em(e,Qp)}function SS(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class _S{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Dy(),r=Dy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _S(e,t.fromCache,n,r)}}class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=uu()?8:Yf(iu())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ES;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Fh()<=Ou.DEBUG&&jh("QueryEngine","SDK will not create cache indexes for query:",vy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Kf.resolve()):(Fh()<=Ou.DEBUG&&jh("QueryEngine","Query:",vy(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Fh()<=Ou.DEBUG&&jh("QueryEngine","The SDK decides to create cache indexes for query:",vy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hy(t))):Kf.resolve())}ys(e,t){if(cy(t))return Kf.resolve(null);let n=hy(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=my(t,null,"F"),n=hy(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Dy(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,my(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return cy(t)||r.isEqual(Of.min())?Kf.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Kf.resolve(null):(Fh()<=Ou.DEBUG&&jh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vy(t)),this.vs(e,o,t,Uf(r,Rf)).next(e=>e))})}Ds(e,t){let n=new Pm(Sy(e));return t.forEach((t,r)=>{by(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Fh()<=Ou.DEBUG&&jh("QueryEngine","Using full collection scan to execute query:",vy(t)),this.ps.getDocumentsMatchingQuery(e,t,Vf.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const IS="LocalStore";class TS{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Cm(sf),this.xs=new Ey(e=>ey(e),ty),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function CS(e,t,n,r){return new TS(e,t,n,r)}async function xS(e,t){const n=Wh(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Dy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function AS(e){const t=Wh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function PS(e,t,n){let r=Dy(),i=Dy();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Iy();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Of.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):jh(IS,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function NS(e,t){const n=Wh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function OS(e,t){const n=Wh(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Kf.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new bb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function RS(e,t,n){const r=Wh(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Zf(e))throw e;jh(IS,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function DS(e,t,n){const r=Wh(e);let i=Of.min(),o=Dy();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Wh(e),i=r.xs.get(n);return void 0!==i?Kf.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,hy(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Of.min(),n?o:Dy())).next(e=>(FS(r,wy(t),e),{documents:e,Qs:o})))}function LS(e,t){const n=Wh(e),r=Wh(n.Pi),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.At(e,t).next(e=>e?e.target:null))}function MS(e,t){const n=Wh(e),r=n.Os.get(t)||Of.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Ns.getAllFromCollectionGroup(e,t,Uf(r,Rf),Number.MAX_SAFE_INTEGER)).then(e=>(FS(n,t,e),e))}function FS(e,t,n){let r=e.Os.get(t)||Of.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}async function jS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dy();const r=await OS(e,hy(xb(t.bundledQuery))),i=Wh(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const o=Gv(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ii.saveNamedQuery(e,t);const s=r.withResumeToken(Lm.EMPTY_BYTE_STRING,o);return i.Ms=i.Ms.insert(s.targetId,s),i.Pi.updateTargetData(e,s).next(()=>i.Pi.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Pi.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ii.saveNamedQuery(e,t))})}const US="firestore_clients";function zS(e,t){return"".concat(US,"_").concat(e,"_").concat(t)}const VS="firestore_mutations";function BS(e,t,n){let r="".concat(VS,"_").concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}const qS="firestore_targets";function HS(e,t){return"".concat(qS,"_").concat(e,"_").concat(t)}const WS="SharedClientState";class KS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ws(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Gh(r.error.code,r.error.message))),o?new KS(e,t,r.state,i):(Uh(WS,"Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class GS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Gh(n.error.code,n.error.message))),i?new GS(e,n.state,r):(Uh(WS,"Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class QS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=My();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=dp(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new QS(e,i):(Uh(WS,"Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class $S{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $S(t.clientId,t.onlineState):(Uh(WS,"Failed to parse online state: ".concat(e)),null)}}class YS{constructor(){this.activeTargetIds=My()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JS{constructor(e,t,n,r,i){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Cm(sf),this.started=!1,this.Xs=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.eo=zS(this.persistenceKey,this.Js),this.no=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new YS),this.ro=new RegExp("^".concat(US,"_").concat(o,"_([^_]*)$")),this.io=new RegExp("^".concat(VS,"_").concat(o,"_(\\d+)(?:_(.*))?$")),this.so=new RegExp("^".concat(qS,"_").concat(o,"_(\\d+)$")),this.oo=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._o=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const e=this.getItem(zS(this.persistenceKey,n));if(e){const t=QS.Ws(n,e);t&&(this.Zs=this.Zs.insert(t.clientId,t))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const e=this.uo(t);e&&this.co(e)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(HS(this.persistenceKey,e));if(t){const r=GS.Ws(e,t);r&&(n=r.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(HS(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Po(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return jh(WS,"READ",e,t),t}setItem(e,t){jh(WS,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){jh(WS,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(jh(WS,"EVENT",t.key,t.newValue),t.key===this.eo)return void Uh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.ro.test(t.key)){if(null==t.newValue){const e=this.Ro(t.key);return this.Vo(e,null)}{const e=this.mo(t.key,t.newValue);if(e)return this.Vo(e.clientId,e)}}else if(this.io.test(t.key)){if(null!==t.newValue){const e=this.fo(t.key,t.newValue);if(e)return this.po(e)}}else if(this.so.test(t.key)){if(null!==t.newValue){const e=this.yo(t.key,t.newValue);if(e)return this.wo(e)}}else if(t.key===this.oo){if(null!==t.newValue){const e=this.uo(t.newValue);if(e)return this.co(e)}}else if(t.key===this.no){const e=function(e){let t=ap.ce;if(null!=e)try{const n=JSON.parse(e);Hh("number"==typeof n,30636,{So:e}),t=n}catch(e){Uh(WS,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ap.ce&&this.sequenceNumberHandler(e)}else if(t.key===this._o){const e=this.bo(t.newValue);await Promise.all(e.map(e=>this.syncEngine.Do(e)))}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const r=new KS(this.currentUser,e,t,n),i=BS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Gs())}Po(e){const t=BS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const r=HS(this.persistenceKey,e),i=new GS(e,t,n);this.setItem(r,i.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return QS.Ws(n,t)}fo(e,t){const n=this.io.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return KS.Ws(new Dh(i),r,t)}yo(e,t){const n=this.so.exec(e),r=Number(n[1]);return GS.Ws(r,t)}uo(e){return $S.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);jh(WS,"Ignoring mutation for non-active user ".concat(e.user.uid))}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),r=this.lo(this.Zs),i=this.lo(n),o=[],s=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.Fo(o,s).then(()=>{this.Zs=n})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=My();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class XS{constructor(){this.Mo=new YS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZS{Oo(e){}shutdown(){}}const e_="ConnectivityMonitor";class t_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){jh(e_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){jh(e_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let n_=null;function r_(){return null===n_?n_=268435456+Math.round(2147483648*Math.random()):n_++,"0x"+n_.toString(16)}const i_="RestConnection",o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s_{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Qm?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=r_(),s=this.zo(e,t.toUriEncodedString());jh(i_,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),c=Zc(l);return this.Jo(e,s,a,n,c).then(t=>(jh(i_,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw zh(i_,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=o_[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class a_{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const l_="WebChannelConnection";class c_ extends s_{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=r_();return new Promise((i,s)=>{const a=new _h;a.setWithCredentials(!0),a.listenOnce(kh.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ih.NO_ERROR:const n=a.getResponseJson();jh(l_,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case Ih.TIMEOUT:jh(l_,"RPC '".concat(e,"' ").concat(o," timed out")),s(new Gh(Kh.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const r=a.getStatus();if(jh(l_,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kh).indexOf(t)>=0?t:Kh.UNKNOWN}(n.status);s(new Gh(e,n.message))}else s(new Gh(Kh.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Gh(Kh.UNAVAILABLE,"Connection failed."));break;default:Bh(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{jh(l_,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);jh(l_,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=r_(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ah(),s=xh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");jh(l_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new a_({Yo:t=>{h?jh(l_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(jh(l_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),jh(l_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Eh.EventType.OPEN,()=>{h||(jh(l_,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Eh.EventType.CLOSE,()=>{h||(h=!0,jh(l_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Eh.EventType.ERROR,t=>{h||(h=!0,zh(l_,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Gh(Kh.UNAVAILABLE,"The operation could not be completed")))}),p(u,Eh.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];Hh(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){jh(l_,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=bv[e];if(void 0!==t)return _v(t)}(t),i=s.message;void 0===n&&(n=Kh.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new Gh(n,i)),u.close()}else jh(l_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,Ch.STAT_EVENT,t=>{t.stat===Th.PROXY?jh(l_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Th.NOPROXY&&jh(l_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function u_(){return"undefined"!=typeof window?window:null}function d_(){return"undefined"!=typeof document?document:null}function h_(e){return new Bv(e,!0)}class f_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&jh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const p_="PersistentStream";class m_{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f_(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Kh.RESOURCE_EXHAUSTED?(Uh(t.toString()),Uh("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Kh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Gh(Kh.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return jh(p_,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(jh(p_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g_ extends m_{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bh(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Hh(void 0===t||"string"==typeof t,58123),Lm.fromBase64String(t||"")):(Hh(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Lm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Kh.UNKNOWN:_v(e.code);return new Gh(t,e.message||"")}(s);n=new Dv(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xv(e,r.document.name),o=Gv(r.document.updateTime),s=r.document.createTime?Gv(r.document.createTime):Of.min(),a=new Ig({mapValue:{fields:r.document.fields}}),l=Cg.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ov(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Xv(e,r.document),o=r.readTime?Gv(r.readTime):Of.min(),s=Cg.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ov([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Xv(e,r.document),o=r.removedTargetIds||[];n=new Ov([],o,i,null)}else{if(!("filter"in t))return Bh(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new vv(r,i),s=e.targetId;n=new Rv(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Of.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Of.min():t.readTime?Gv(t.readTime):Of.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=tb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ny(r)?{documents:ab(e,r)}:{query:lb(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Wv(e,t.resumeToken);const r=qv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Of.min())>0){n.readTime=Hv(e,t.snapshotVersion.toTimestamp());const r=qv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bh(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=tb(this.serializer),t.removeTarget=e,this.q_(t)}}class y_ extends m_{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hh(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hh(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Hh(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Hh(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Gv(e.updateTime):Gv(t);return n.isEqual(Of.min())&&(n=Gv(t)),new Zy(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Gv(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=tb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ob(this.serializer,e))};this.q_(t)}}class v_{}class b_ extends v_{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Gh(Kh.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,$v(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gh(Kh.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,$v(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kh.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gh(Kh.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Uh(t),this.aa=!1):jh("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const S_="RemoteStore";class __{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{N_(this)&&(jh(S_,"Restarting streams for network reachability change."),await async function(e){const t=Wh(e);t.Ea.add(4),await k_(t),t.Ra.set("Unknown"),t.Ea.delete(4),await E_(t)}(this))})}),this.Ra=new w_(n,r)}}async function E_(e){if(N_(e))for(const t of e.da)await t(!0)}async function k_(e){for(const t of e.da)await t(!1)}function I_(e,t){const n=Wh(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),P_(n)?A_(n):Y_(n).O_()&&C_(n,t))}function T_(e,t){const n=Wh(e),r=Y_(n);n.Ia.delete(t),r.O_()&&x_(n,t),0===n.Ia.size&&(r.O_()?r.L_():N_(n)&&n.Ra.set("Unknown"))}function C_(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Of.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Y_(e).Y_(t)}function x_(e,t){e.Va.Ue(t),Y_(e).Z_(t)}function A_(e){e.Va=new Mv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Y_(e).start(),e.Ra.ua()}function P_(e){return N_(e)&&!Y_(e).x_()&&e.Ia.size>0}function N_(e){return 0===Wh(e).Ea.size}function O_(e){e.Va=void 0}async function R_(e){e.Ra.set("Online")}async function D_(e){e.Ia.forEach((t,n)=>{C_(e,t)})}async function L_(e,t){O_(e),P_(e)?(e.Ra.ha(t),A_(e)):e.Ra.set("Unknown")}async function M_(e,t,n){if(e.Ra.set("Online"),t instanceof Dv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){jh(S_,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await F_(e,n)}else if(t instanceof Ov?e.Va.Ze(t):t instanceof Rv?e.Va.st(t):e.Va.tt(t),!n.isEqual(Of.min()))try{const t=await AS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Lm.EMPTY_BYTE_STRING,r.snapshotVersion)),x_(e,t);const i=new bb(r.target,t,n,r.sequenceNumber);C_(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){jh(S_,"Failed to raise snapshot:",t),await F_(e,t)}}async function F_(e,t,n){if(!Zf(t))throw t;e.Ea.add(1),await k_(e),e.Ra.set("Offline"),n||(n=()=>AS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{jh(S_,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await E_(e)})}function j_(e,t){return t().catch(n=>F_(e,n,t))}async function U_(e){const t=Wh(e),n=J_(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:lp;for(;z_(t);)try{const e=await NS(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,V_(t,e)}catch(e){await F_(t,e)}B_(t)&&q_(t)}function z_(e){return N_(e)&&e.Ta.length<10}function V_(e,t){e.Ta.push(t);const n=J_(e);n.O_()&&n.X_&&n.ea(t.mutations)}function B_(e){return N_(e)&&!J_(e).x_()&&e.Ta.length>0}function q_(e){J_(e).start()}async function H_(e){J_(e).ra()}async function W_(e){const t=J_(e);for(const n of e.Ta)t.ea(n.mutations)}async function K_(e,t,n){const r=e.Ta.shift(),i=gv.from(r,t,n);await j_(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await U_(e)}async function G_(e,t){t&&J_(e).X_&&await async function(e,t){if(function(e){return Sv(e)&&e!==Kh.ABORTED}(t.code)){const n=e.Ta.shift();J_(e).B_(),await j_(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await U_(e)}}(e,t),B_(e)&&q_(e)}async function Q_(e,t){const n=Wh(e);n.asyncQueue.verifyOperationInProgress(),jh(S_,"RemoteStore received new credentials");const r=N_(n);n.Ea.add(3),await k_(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await E_(n)}async function $_(e,t){const n=Wh(e);t?(n.Ea.delete(2),await E_(n)):t||(n.Ea.add(2),await k_(n),n.Ra.set("Unknown"))}function Y_(e){return e.ma||(e.ma=function(e,t,n){const r=Wh(e);return r.sa(),new g_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:R_.bind(null,e),t_:D_.bind(null,e),r_:L_.bind(null,e),H_:M_.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),P_(e)?A_(e):e.Ra.set("Unknown")):(await e.ma.stop(),O_(e))})),e.ma}function J_(e){return e.fa||(e.fa=function(e,t,n){const r=Wh(e);return r.sa(),new y_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:H_.bind(null,e),r_:G_.bind(null,e),ta:W_.bind(null,e),na:K_.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await U_(e)):(await e.fa.stop(),e.Ta.length>0&&(jh(S_,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class X_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new X_(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gh(Kh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(e,t){if(Uh("AsyncQueue","".concat(t,": ").concat(e)),Zf(e))return new Gh(Kh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class eE{static emptySet(e){return new eE(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||vf.comparator(t.key,n.key):(e,t)=>vf.comparator(e.key,t.key),this.keyedMap=Cy(),this.sortedSet=new Cm(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new eE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tE{constructor(){this.ga=new Cm(vf.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bh(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class nE{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new nE(e,t,eE.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rE{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class iE{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Wh(e),r=n.queries;n.queries=oE(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Gh(Kh.ABORTED,"Firestore shutting down"))}}function oE(){return new Ey(e=>yy(e),gy)}async function sE(e,t){const n=Wh(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new rE,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Z_(e,"Initialization of query '".concat(vy(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&uE(n)}async function aE(e,t){const n=Wh(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lE(e,t){const n=Wh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&uE(n)}function cE(e,t,n){const r=Wh(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function uE(e){e.Ca.forEach(e=>{e.next()})}var dE,hE;(hE=dE||(dE={})).Ma="default",hE.Cache="cache";class fE{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=nE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dE.Cache}}class pE{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class mE{constructor(e){this.serializer=e}$s(e){return Xv(this.serializer,e)}Us(e){return e.metadata.exists?ib(this.serializer,e.document,!1):Cg.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Gv(e)}}class gE{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=yE(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const n=mf.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Pt({},this.progress)):null}za(e){const t=new Map,n=new mE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.$s(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Dy()).add(e);t.set(n,r)}}return t}async ja(e){const t=await async function(e,t,n,r){const i=Wh(e);let o=Dy(),s=Iy();for(const c of n){const e=t.$s(c.metadata.name);c.document&&(o=o.add(e));const n=t.Us(c);n.setReadTime(t.Ks(c.metadata.readTime)),s=s.insert(e,n)}const a=i.Ns.newChangeBuffer({trackRemovals:!0}),l=await OS(i,function(e){return hy(ly(mf.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>PS(e,a,s).next(t=>(a.apply(e),t)).next(t=>i.Pi.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.Pi.addMatchingKeys(e,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.ks,t.qs)).next(()=>t.ks)))}(e,new mE(this.serializer),this.Wa,this.Ua.id),n=this.za(this.documents);for(const r of this.Ka)await jS(e,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function yE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class vE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class wE{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dy(),this.mutatedKeys=Dy(),this.eu=Sy(e),this.tu=new eE(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new tE,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=by(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bh(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new nE(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dy(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new bE(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new vE(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Dy();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nE.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const SE="SyncEngine";class _E{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class EE{constructor(e){this.key=e,this.hu=!1}}class kE{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ey(e=>yy(e),gy),this.Iu=new Map,this.Eu=new Set,this.du=new Cm(vf.comparator),this.Au=new Map,this.Ru=new tS,this.Vu={},this.mu=new Map,this.fu=Cw.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function IE(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ek(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await CE(r,t,n,!0),i}async function TE(e,t){const n=ek(e);await CE(n,t,!0,!1)}async function CE(e,t,n,r){const i=await OS(e.localStore,hy(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await xE(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&I_(e.remoteStore,i),a}async function xE(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await DS(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return zE(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await DS(e.localStore,t,!0),s=new wE(t,o.Qs),a=s.ru(o.documents),l=Nv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);zE(e,n,c.au);const u=new _E(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function AE(e,t,n){const r=Wh(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!gy(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await RS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T_(r.remoteStore,i.targetId),jE(r,i.targetId)}).catch(Wf)):(jE(r,i.targetId),await RS(r.localStore,i.targetId,!0))}async function PE(e,t){const n=Wh(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T_(n.remoteStore,r.targetId))}async function NE(e,t){const n=Wh(e);try{const e=await function(e,t){const n=Wh(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Lm.EMPTY_BYTE_STRING,Of.min()).withLastLimboFreeSnapshotVersion(Of.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.Pi.updateTargetData(e,c))});let a=Iy(),l=Dy();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(PS(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Of.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Kf.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Hh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Hh(r.hu,14607):e.removedDocuments.size>0&&(Hh(r.hu,42227),r.hu=!1))}),await qE(n,e,t)}catch(e){await Wf(e)}}function OE(e,t,n){const r=Wh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Wh(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&uE(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RE(e,t,n){const r=Wh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Cm(vf.comparator);e=e.insert(o,Cg.newNoDocument(o,Of.min()));const n=Dy().add(o),i=new Pv(Of.min(),new Map,new Cm(sf),e,n);await NE(r,i),r.du=r.du.remove(o),r.Au.delete(t),BE(r)}else await RS(r.localStore,t,!1).then(()=>jE(r,t,n)).catch(Wf)}async function DE(e,t){const n=Wh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Kf.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Hh(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Dy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);FE(n,r,null),ME(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qE(n,e)}catch(e){await Wf(e)}}async function LE(e,t,n){const r=Wh(e);try{const e=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Hh(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);FE(r,t,n),ME(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qE(r,e)}catch(n){await Wf(n)}}function ME(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function FE(e,t,n){const r=Wh(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function jE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||UE(e,t)})}function UE(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(T_(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),BE(e))}function zE(e,t,n){for(const r of n)r instanceof vE?(e.Ru.addReference(r.key,t),VE(e,r)):r instanceof bE?(jh(SE,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||UE(e,r.key)):Bh(19791,{wu:r})}function VE(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(jh(SE,"New document in limbo: "+n),e.Eu.add(r),BE(e))}function BE(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vf(mf.fromString(t)),r=e.fu.next();e.Au.set(r,new EE(n)),e.du=e.du.insert(n,r),I_(e.remoteStore,new bb(hy(ly(n.path)),r,"TargetPurposeLimboResolution",ap.ce))}}async function qE(e,t,n){const r=Wh(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=_S.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=Wh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Kf.forEach(t,t=>Kf.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Kf.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Zf(e))throw e;jh(IS,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function HE(e,t){const n=Wh(e);if(!n.currentUser.isEqual(t)){jh(SE,"User change. New user:",t.toKey());const e=await xS(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Gh(Kh.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await qE(n,e.Ls)}}function WE(e,t){const n=Wh(e),r=n.Au.get(t);if(r&&r.hu)return Dy().add(r.key);{let e=Dy();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}async function KE(e,t){const n=Wh(e),r=await DS(n.localStore,t.query,!0),i=t.view.cu(r);return n.isPrimaryClient&&zE(n,t.targetId,i.au),i}async function GE(e,t){const n=Wh(e);return MS(n.localStore,t).then(e=>qE(n,e))}async function QE(e,t,n,r){const i=Wh(e),o=await function(e,t){const n=Wh(e),r=Wh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.er(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):Kf.resolve(null)))}(i.localStore,t);null!==o?("pending"===n?await U_(i.remoteStore):"acknowledged"===n||"rejected"===n?(FE(i,t,r||null),ME(i,t),function(e,t){Wh(Wh(e).mutationQueue).ir(t)}(i.localStore,t)):Bh(6720,"Unknown batchState",{Su:n}),await qE(i,o)):jh(SE,"Cannot apply mutation batch with id: "+t)}async function $E(e,t,n){const r=Wh(e),i=[],o=[];for(const s of t){let e;const t=r.Iu.get(s);if(t&&0!==t.length){e=await OS(r.localStore,hy(t[0]));for(const e of t){const t=r.Tu.get(e),n=await KE(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await LS(r.localStore,s);e=await OS(r.localStore,t),await xE(r,YE(t),s,!1,e.resumeToken)}i.push(e)}return r.Pu.H_(o),i}function YE(e){return ay(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function JE(e){return function(e){return Wh(Wh(e).persistence).Ts()}(Wh(e).localStore)}async function XE(e,t,n,r){const i=Wh(e);if(i.gu)return void jh(SE,"Ignoring unexpected query state notification.");const o=i.Iu.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await MS(i.localStore,wy(o[0])),r=Pv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Lm.EMPTY_BYTE_STRING);await qE(i,e,r);break}case"rejected":await RS(i.localStore,t,!0),jE(i,t,r);break;default:Bh(64155,n)}}async function ZE(e,t,n){const r=ek(e);if(r.gu){for(const e of t){if(r.Iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){jh(SE,"Adding an already active target "+e);continue}const t=await LS(r.localStore,e),n=await OS(r.localStore,t);await xE(r,YE(t),n.targetId,!1,n.resumeToken),I_(r.remoteStore,n)}for(const e of n)r.Iu.has(e)&&await RS(r.localStore,e,!1).then(()=>{T_(r.remoteStore,e),jE(r,e)}).catch(Wf)}}function ek(e){const t=Wh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RE.bind(null,t),t.Pu.H_=lE.bind(null,t.eventManager),t.Pu.yu=cE.bind(null,t.eventManager),t}function tk(e){const t=Wh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LE.bind(null,t),t}class nk{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=h_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CS(this.persistence,new kS,e.initialUser,this.serializer)}Cu(e){return new aS(cS.mi,this.serializer)}Du(e){return new XS}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nk.provider={build:()=>new nk};class rk extends nk{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hh(this.persistence.referenceDelegate instanceof uS,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Mw(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?bw.withCacheSize(this.cacheSizeBytes):bw.DEFAULT;return new aS(e=>uS.mi(e,t),this.serializer)}}class ik extends nk{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await tk(this.xu.syncEngine),await U_(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return CS(this.persistence,new kS,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Mw(n,e.asyncQueue,t)}Mu(e,t){const n=new sp(t,this.persistence);return new op(e.asyncQueue,n)}Cu(e){const t=SS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bw.withCacheSize(this.cacheSizeBytes):bw.DEFAULT;return new vS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,u_(),d_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new XS}}class ok extends ik{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof JS&&(this.sharedClientState.syncEngine={Co:QE.bind(null,t),vo:XE.bind(null,t),Fo:ZE.bind(null,t),Ts:JE.bind(null,t),Do:GE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async e=>{await async function(e,t){const n=Wh(e);if(ek(n),tk(n),!0===t&&!0!==n.gu){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await $E(n,e.toArray());n.gu=!0,await $_(n.remoteStore,!0);for(const r of t)I_(n.remoteStore,r)}else if(!1===t&&!1!==n.gu){const e=[];let t=Promise.resolve();n.Iu.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(jE(n,i),RS(n.localStore,i,!0))),T_(n.remoteStore,i)}),await t,await $E(n,e),function(e){const t=Wh(e);t.Au.forEach((e,n)=>{T_(t.remoteStore,n)}),t.Ru.Jr(),t.Au=new Map,t.du=new Cm(vf.comparator)}(n),n.gu=!1,await $_(n.remoteStore,!1)}}(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){const t=u_();if(!JS.v(t))throw new Gh(Kh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=SS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class sk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>OE(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=HE.bind(null,this.syncEngine),await $_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iE}createDatastore(e){const t=h_(e.databaseInfo.databaseId),n=function(e){return new c_(e)}(e.databaseInfo);return function(e,t,n,r){return new b_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new __(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>OE(this.syncEngine,e,0),t_.v()?new t_:new ZS)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new kE(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Wh(e);jh(S_,"RemoteStore shutting down."),t.Ea.add(5),await k_(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}sk.provider={build:()=>new sk};class lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Uh("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class ck{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Qh,this.buffer=new Uint8Array,this.Lu=new TextDecoder("utf-8"),this.ku().then(e=>{e&&e.$a()?this.metadata.resolve(e.Qa.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null===e||void 0===e?void 0:e.Qa))))},e=>this.metadata.reject(e))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(null===e)return null;const t=this.Lu.decode(e),n=Number(t);isNaN(n)&&this.Qu("length string (".concat(t,") is not valid number"));const r=await this.$u(n);return new pE(JSON.parse(r),e.length+n)}Uu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(0===this.buffer.length)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class uk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Gh(Kh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Wh(e),r={documents:t.map(e=>Jv(n.serializer,e))},i=await n.Ho("BatchGetDocuments",n.serializer.databaseId,mf.emptyPath(),r,t.length),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Hh(!!t.found,43571),t.found.name,t.found.updateTime;const n=Xv(e,t.found.name),r=Gv(t.found.updateTime),i=t.found.createTime?Gv(t.found.createTime):Of.min(),o=new Ig({mapValue:{fields:t.found.fields}});return Cg.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Hh(!!t.missing,3894),Hh(!!t.readTime,22933);const n=Xv(e,t.missing),r=Gv(t.readTime);return Cg.newNoDocument(n,r)}(e,t):Bh(7234,{result:t})}(n.serializer,e);o.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=o.get(e.toString());Hh(!!t,55234,{key:e}),s.push(t)}),s}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new fv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=vf.fromPath(t);this.mutations.push(new pv(n,this.precondition(n)))}),await async function(e,t){const n=Wh(e),r={writes:t.map(e=>ob(n.serializer,e))};await n.Go("Commit",n.serializer.databaseId,mf.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bh(50498,{Gu:e.constructor.name});t=Of.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gh(Kh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Of.min())?ev.exists(!1):ev.updateTime(t):ev.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Of.min()))throw new Gh(Kh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ev.updateTime(t)}return ev.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new f_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new uk(this.datastore),t=this.Hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Yu(e)}))}).catch(e=>{this.Yu(e)})})}Hu(e){try{const t=this.updateFunction(e);return!cp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if("FirebaseError"===(null===e||void 0===e?void 0:e.name)){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Sv(t)}return!1}}const hk="FirestoreClient";class fk{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dh.UNAUTHENTICATED,this.clientId=of.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{jh(hk,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(jh(hk,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Z_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pk(e,t){e.asyncQueue.verifyOperationInProgress(),jh(hk,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await xS(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gk(e);jh(hk,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Q_(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Q_(t.remoteStore,n)),e._onlineComponents=t}async function gk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jh(hk,"Using user provided OfflineComponentProvider");try{await pk(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Kh.FAILED_PRECONDITION||e.code===Kh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;zh("Error using user provided cache. Falling back to memory cache: "+n),await pk(e,new nk)}}else jh(hk,"Using default OfflineComponentProvider"),await pk(e,new rk(void 0));return e._offlineComponents}async function yk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jh(hk,"Using user provided OnlineComponentProvider"),await mk(e,e._uninitializedComponentsProvider._online)):(jh(hk,"Using default OnlineComponentProvider"),await mk(e,new sk))),e._onlineComponents}function vk(e){return gk(e).then(e=>e.persistence)}function bk(e){return gk(e).then(e=>e.localStore)}function wk(e){return yk(e).then(e=>e.remoteStore)}function Sk(e){return yk(e).then(e=>e.syncEngine)}function _k(e){return yk(e).then(e=>e.datastore)}async function Ek(e){const t=await yk(e),n=t.eventManager;return n.onListen=IE.bind(null,t.syncEngine),n.onUnlisten=AE.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TE.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PE.bind(null,t.syncEngine),n}function kk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qh;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new lk({next:a=>{o.Nu(),t.enqueueAndForget(()=>aE(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Gh(Kh.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Gh(Kh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new fE(ly(n.path),o,{includeMetadataChanges:!0,qa:!0});return sE(e,s)}(await Ek(e),e.asyncQueue,t,n,r)),r.promise}function Ik(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qh;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new lk({next:n=>{o.Nu(),t.enqueueAndForget(()=>aE(e,s)),n.fromCache&&"server"===r.source?i.reject(new Gh(Kh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new fE(n,o,{includeMetadataChanges:!0,qa:!0});return sE(e,s)}(await Ek(e),e.asyncQueue,t,n,r)),r.promise}function Tk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?kv().encode(e):e,function(e,t){return new ck(e,t)}(function(e,t){if(e instanceof Uint8Array)return ak(e,t);if(e instanceof ArrayBuffer)return ak(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,h_(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Wh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Wh(e),r=Gv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ii.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(yE(r));const i=new gE(r,t.serializer);let o=await t.bu();for(;o;){const e=await i.Ga(o);e&&n._updateProgress(e),o=await t.bu()}const s=await i.ja(e.localStore);return await qE(e,s.Ha,void 0),await function(e,t){const n=Wh(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ii.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ja)}catch(e){return zh(SE,"Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(await Sk(e),i,r)})}function Ck(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const xk=new Map,Ak="firestore.googleapis.com",Pk=!0;class Nk{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Gh(Kh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ak,this.ssl=Pk}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Pk;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=vw;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Rw)throw new Gh(Kh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ck(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gh(Kh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gh(Kh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gh(Kh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ok{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gh(Kh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gh(Kh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nk(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yh;switch(e.type){case"firstParty":return new ef(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gh(Kh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xk.get(e);t&&(jh("ComponentProvider","Removing Datastore"),xk.delete(e),t.terminate())}(this),Promise.resolve()}}function Rk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=If(e,Ok);const i=Zc(t),o=e._getSettings(),s=Pt(Pt({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(eu("https://".concat(a)),ru("Firestore",!0)),o.host!==Ak&&o.host!==a&&zh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Pt(Pt({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!yu(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dh.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Pt({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wc(JSON.stringify({alg:"none",type:"JWT"})),Wc(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Gh(Kh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dh(i)}e._authCredentials=new Jh(new $h(t,n))}}class Dk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dk(this.firestore,e,this._query)}}class Lk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lk(this.firestore,e,this._key)}toJSON(){return{type:Lk._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(xf(t,Lk._jsonSchema))return new Lk(e,n||null,new vf(mf.fromString(t.referencePath)))}}Lk._jsonSchemaVersion="firestore/documentReference/1.0",Lk._jsonSchema={type:Cf("string",Lk._jsonSchemaVersion),referencePath:Cf("string")};class Mk extends Dk{constructor(e,t,n){super(e,t,ly(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lk(this.firestore,null,new vf(e))}withConverter(e){return new Mk(this.firestore,e,this._path)}}function Fk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Iu(e),bf("collection","path",t),e instanceof Ok){const n=mf.fromString(t,...r);return _f(n),new Mk(e,null,n)}{if(!(e instanceof Lk||e instanceof Mk))throw new Gh(Kh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(mf.fromString(t,...r));return _f(n),new Mk(e.firestore,null,n)}}function jk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Iu(e),1===arguments.length&&(t=of.newId()),bf("doc","path",t),e instanceof Ok){const n=mf.fromString(t,...r);return Sf(n),new Lk(e,null,new vf(n))}{if(!(e instanceof Lk||e instanceof Mk))throw new Gh(Kh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(mf.fromString(t,...r));return Sf(n),new Lk(e.firestore,e instanceof Mk?e.converter:null,new vf(n))}}function Uk(e,t){return e=Iu(e),t=Iu(t),(e instanceof Lk||e instanceof Mk)&&(t instanceof Lk||t instanceof Mk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function zk(e,t){return e=Iu(e),t=Iu(t),e instanceof Dk&&t instanceof Dk&&e.firestore===t.firestore&&gy(e._query,t._query)&&e.converter===t.converter}const Vk="AsyncQueue";class Bk{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f_(this,"async_queue_retry"),this._c=()=>{const e=d_();e&&jh(Vk,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=d_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=d_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Qh;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(tD){if(!Zf(tD))throw tD;jh(Vk,"Operation failed with retryable error: "+tD)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Uh("INTERNAL UNHANDLED ERROR: ",qk(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=X_.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Bh(47125,{Pc:qk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qk(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Hk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Wk{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kk extends Ok{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Bk,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bk(e),this._firestoreClient=void 0,await e}}}function Gk(e){if(e._terminated)throw new Gh(Kh.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Qk(e),e._firestoreClient}function Qk(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Gm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ck(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new fk(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function $k(e,t,n){if((e=If(e,Kk))._firestoreClient||e._terminated)throw new Gh(Kh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Gh(Kh.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},Qk(e)}function Yk(e){return function(e){const t=new Qh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Wh(e);N_(n.remoteStore)||jh(SE,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Wh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(e===lp)return void t.resolve();const r=n.mu.get(e)||[];r.push(t),n.mu.set(e,r)}catch(e){const n=Z_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Sk(e),t)),t.promise}(Gk(e=If(e,Kk)))}function Jk(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await vk(e),n=await wk(e);return t.setNetworkEnabled(!0),function(e){const t=Wh(e);return t.Ea.delete(0),E_(t)}(n)})}(Gk(e=If(e,Kk)))}function Xk(e){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await vk(e),n=await wk(e);return t.setNetworkEnabled(!1),async function(e){const t=Wh(e);t.Ea.add(0),await k_(t),t.Ra.set("Offline")}(n)})}(Gk(e=If(e,Kk)))}function Zk(e,t){const n=Gk(e=If(e,Kk)),r=new Wk;return Tk(n,e._databaseId,t,r),r}function eI(e,t){return function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Wh(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ii.getNamedQuery(e,t))}(await bk(e),t))}(Gk(e=If(e,Kk)),t).then(t=>t?new Dk(e,null,t.query):null)}class tI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tI(Lm.fromBase64String(e))}catch(e){throw new Gh(Kh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new tI(Lm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tI._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xf(e,tI._jsonSchema))return tI.fromBase64String(e.bytes)}}tI._jsonSchemaVersion="firestore/bytes/1.0",tI._jsonSchema={type:Cf("string",tI._jsonSchemaVersion),bytes:Cf("string")};class nI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yf(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rI{constructor(e){this._methodName=e}}class iI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gh(Kh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gh(Kh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sf(this._lat,e._lat)||sf(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:iI._jsonSchemaVersion}}static fromJSON(e){if(xf(e,iI._jsonSchema))return new iI(e.latitude,e.longitude)}}iI._jsonSchemaVersion="firestore/geoPoint/1.0",iI._jsonSchema={type:Cf("string",iI._jsonSchemaVersion),latitude:Cf("number"),longitude:Cf("number")};class oI{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:oI._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xf(e,oI._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new oI(e.vectorValues);throw new Gh(Kh.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oI._jsonSchemaVersion="firestore/vectorValue/1.0",oI._jsonSchema={type:Cf("string",oI._jsonSchemaVersion),vectorValues:Cf("object")};const sI=/^__.*__$/;class aI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cv(e,this.data,this.fieldMask,t,this.fieldTransforms):new lv(e,this.data,t,this.fieldTransforms)}}class lI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bh(40011,{Ac:e})}}class uI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uI(Pt(Pt({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return PI(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(cI(this.Ac)&&sI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||h_(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uI({Ac:e,methodName:t,Dc:n,path:yf.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hI(e){const t=e._freezeSettings(),n=h_(e._databaseId);return new dI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);TI("Data must be an object, but it was:",s,r);const a=kI(r,s);let l,c;if(o.merge)l=new Rm(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=CI(t,r,n);if(!s.contains(i))throw new Gh(Kh.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));NI(e,i)||e.push(i)}l=new Rm(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new aI(new Ig(a),l,c)}class pI extends rI{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pI}}function mI(e,t,n){return new uI({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gI extends rI{_toFieldTransform(e){return new Xy(e.path,new Hy)}isEqual(e){return e instanceof gI}}class yI extends rI{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=mI(this,e,!0),n=this.vc.map(e=>EI(e,t)),r=new Wy(n);return new Xy(e.path,r)}isEqual(e){return e instanceof yI&&yu(this.vc,e.vc)}}class vI extends rI{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=mI(this,e,!0),n=this.vc.map(e=>EI(e,t)),r=new Gy(n);return new Xy(e.path,r)}isEqual(e){return e instanceof vI&&yu(this.vc,e.vc)}}class bI extends rI{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new $y(e.serializer,Uy(e.serializer,this.Fc));return new Xy(e.path,t)}isEqual(e){return e instanceof bI&&this.Fc===e.Fc}}function wI(e,t,n,r){const i=e.Cc(1,t,n);TI("Data must be an object, but it was:",i,r);const o=[],s=Ig.empty();Im(r,(e,r)=>{const a=AI(t,e,n);r=Iu(r);const l=i.yc(a);if(r instanceof pI)o.push(a);else{const e=EI(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new Rm(o);return new lI(s,a,i.fieldTransforms)}function SI(e,t,n,r,i,o){const s=e.Cc(1,t,n),a=[CI(t,r,n)],l=[i];if(o.length%2!=0)throw new Gh(Kh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(CI(t,o[h])),l.push(o[h+1]);const c=[],u=Ig.empty();for(let h=a.length-1;h>=0;--h)if(!NI(c,a[h])){const e=a[h];let t=l[h];t=Iu(t);const n=s.yc(e);if(t instanceof pI)c.push(e);else{const r=EI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Rm(c);return new lI(u,d,s.fieldTransforms)}function _I(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return EI(n,e.Cc(r?4:3,t))}function EI(e,t){if(II(e=Iu(e)))return TI("Unsupported field value:",t,e),kI(e,t);if(e instanceof rI)return function(e,t){if(!cI(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=EI(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Iu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Uy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nf.fromDate(e);return{timestampValue:Hv(t.serializer,n)}}if(e instanceof Nf){const n=new Nf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hv(t.serializer,n)}}if(e instanceof iI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tI)return{bytesValue:Wv(t.serializer,e._byteString)};if(e instanceof Lk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Qv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof oI)return function(e,t){return{mapValue:{fields:{[Ym]:{stringValue:Zm},[eg]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Fy(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(kf(e)))}(e,t)}function kI(e,t){const n={};return Tm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Im(e,(e,r)=>{const i=EI(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function II(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nf||e instanceof iI||e instanceof tI||e instanceof Lk||e instanceof rI||e instanceof oI)}function TI(e,t,n){if(!II(n)||!Ef(n)){const r=kf(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function CI(e,t,n){if((t=Iu(t))instanceof nI)return t._internalPath;if("string"==typeof t)return AI(e,t);throw PI("Field path arguments must be of type string or ",e,!1,void 0,n)}const xI=new RegExp("[~\\*/\\[\\]]");function AI(e,t,n){if(t.search(xI)>=0)throw PI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new nI(...t.split("."))._internalPath}catch(ur){throw PI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PI(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Gh(Kh.INVALID_ARGUMENT,a+e+l)}function NI(e,t){return e.some(e=>e.isEqual(t))}class OI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Lk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RI extends OI{data(){return super.data()}}function DI(e,t){return"string"==typeof t?AI(e,t):t instanceof nI?t._internalPath:t._delegate._internalPath}function LI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gh(Kh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MI{}class FI extends MI{}function jI(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof MI&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof zI).length,n=e.filter(e=>e instanceof UI).length;if(t>1||t>0&&n>0)throw new Gh(Kh.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class UI extends FI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new UI(e,t,n)}_apply(e){const t=this._parse(e);return $I(e._query,t),new Dk(e.firestore,e.converter,py(e._query,t))}_parse(e){const t=hI(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){QI(s,o);const t=[];for(const n of s)t.push(GI(r,e,n));a={arrayValue:{values:t}}}else a=GI(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||QI(s,o),a=_I(n,t,s,"in"===o||"not-in"===o);return Dg.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class zI extends MI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zI(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Lg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)$I(n,i),n=py(n,i)}(e._query,t),new Dk(e.firestore,e.converter,py(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VI extends FI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ng(t,n)}(e._query,this._field,this._direction);return new Dk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new sy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function BI(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=DI("orderBy",e);return VI._create(n,t)}class qI extends FI{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new qI(e,t,n)}_apply(e){return new Dk(e.firestore,e.converter,my(e._query,this._limit,this._limitType))}}class HI extends FI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new HI(e,t,n)}_apply(e){const t=KI(e,this.type,this._docOrFields,this._inclusive);return new Dk(e.firestore,e.converter,function(e,t){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class WI extends FI{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new WI(e,t,n)}_apply(e){const t=KI(e,this.type,this._docOrFields,this._inclusive);return new Dk(e.firestore,e.converter,function(e,t){return new sy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function KI(e,t,n,r){if(n[0]=Iu(n[0]),n[0]instanceof OI)return function(e,t,n,r,i){if(!r)throw new Gh(Kh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of dy(e))if(s.field.isKeyField())o.push(dg(t,r.key));else{const e=r.data.field(s.field);if(Hm(e))throw new Gh(Kh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new xg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=hI(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Gh(Kh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!uy(e)&&-1!==o.indexOf("/"))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(mf.fromString(o));if(!vf.isDocumentKey(n))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new vf(n);a.push(dg(t,i))}else{const e=_I(n,r,o);a.push(e)}}return new xg(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function GI(e,t,n){if("string"==typeof(n=Iu(n))){if(""===n)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uy(t)&&-1!==n.indexOf("/"))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(mf.fromString(n));if(!vf.isDocumentKey(r))throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dg(e,new vf(r))}if(n instanceof Lk)return dg(e,n._key);throw new Gh(Kh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kf(n),"."))}function QI(e,t){if(!Array.isArray(e)||0===e.length)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $I(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gh(Kh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gh(Kh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class YI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ng(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Um(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bh(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Im(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[eg].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>jm(e.doubleValue));return new oI(n)}convertGeoPoint(e){return new iI(jm(e.latitude),jm(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Km(e));default:return null}}convertTimestamp(e){const t=Fm(e);return new Nf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=mf.fromString(e);Hh(vb(n),9688,{name:e});const r=new $m(n.get(1),n.get(3)),i=new vf(n.popFirst(5));return r.isEqual(t)||Uh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function JI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class XI extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new tI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lk(this.firestore,null,t)}}class ZI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eT extends OI{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new tT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Gh(Kh.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=eT._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}eT._jsonSchemaVersion="firestore/documentSnapshot/1.0",eT._jsonSchema={type:Cf("string",eT._jsonSchemaVersion),bundleSource:Cf("string","DocumentSnapshot"),bundleName:Cf("string"),bundle:Cf("string")};class tT extends eT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class nT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ZI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new tT(this._firestore,this._userDataWriter,n.key,n,new ZI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gh(Kh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new tT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ZI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new tT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:rT(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Gh(Kh.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nT._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=of.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bh(61501,{type:e})}}function iT(e,t){return e instanceof eT&&t instanceof eT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nT&&t instanceof nT&&e._firestore===t._firestore&&zk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}nT._jsonSchemaVersion="firestore/querySnapshot/1.0",nT._jsonSchema={type:Cf("string",nT._jsonSchemaVersion),bundleSource:Cf("string","QuerySnapshot"),bundleName:Cf("string"),bundle:Cf("string")};class oT extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new tI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lk(this.firestore,null,t)}}function sT(e){e=If(e,Lk);const t=If(e.firestore,Kk),n=Gk(t),r=new oT(t);return function(e,t){const n=new Qh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Wh(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Gh(Kh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Z_(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await bk(e),t,n)),n.promise}(n,e._key).then(n=>new eT(t,r,e._key,n,new ZI(null!==n&&n.hasLocalMutations,!0),e.converter))}function aT(e){e=If(e,Dk);const t=If(e.firestore,Kk),n=Gk(t),r=new oT(t);return function(e,t){const n=new Qh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await DS(e,t,!0),i=new wE(t,r.Qs),o=i.ru(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Z_(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await bk(e),t,n)),n.promise}(n,e._query).then(n=>new nT(t,r,e,n))}function lT(e,t,n){e=If(e,Lk);const r=If(e.firestore,Kk),i=JI(e.converter,t,n);return hT(r,[fI(hI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ev.none())])}function cT(e,t,n){e=If(e,Lk);const r=If(e.firestore,Kk),i=hI(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Iu(t))||t instanceof nI?SI(i,"updateDoc",e._key,t,n,a):wI(i,"updateDoc",e._key,t),hT(r,[o.toMutation(e._key,ev.exists(!0))])}function uT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Iu(e);let i={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof n[o]||Hk(n[o])||(i=n[o++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hk(n[o])){var a,l,c;const e=n[o];n[o]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[o+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[o+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Lk)d=If(e.firestore,Kk),h=ly(e._key.path),u={next:t=>{n[o]&&n[o](fT(d,e,t))},error:n[o+1],complete:n[o+2]};else{const t=If(e,Dk);d=If(t.firestore,Kk),h=t._query;const r=new oT(d);u={next:e=>{n[o]&&n[o](new nT(d,r,t,e))},error:n[o+1],complete:n[o+2]},LI(e._query)}return function(e,t,n,r){const i=new lk(r),o=new fE(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>sE(await Ek(e),o)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>aE(await Ek(e),o))}}(Gk(d),h,s,u)}function dT(e,t){return function(e,t){const n=new lk(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Wh(e).Ca.add(t),t.next()}(await Ek(e),n)),()=>{n.Nu(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Wh(e).Ca.delete(t)}(await Ek(e),n))}}(Gk(e=If(e,Kk)),Hk(t)?t:{next:t})}function hT(e,t){return function(e,t){const n=new Qh;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=tk(e);try{const e=await function(e,t){const n=Wh(e),r=Nf.now(),i=t.reduce((e,t)=>e.add(t.key),Dy());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Iy(),l=Dy();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=sv(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new cv(e.key,t,Tg(t.value.mapValue),ev.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:xy(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Cm(sf)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await qE(r,e.changes),await U_(r.remoteStore)}catch(e){const t=Z_(e,"Failed to persist write");n.reject(t)}}(await Sk(e),t,n)),n.promise}(Gk(e),t)}function fT(e,t,n){const r=n.docs.get(t._key),i=new oT(e);return new eT(e,i,t._key,r,new ZI(n.hasPendingWrites,n.fromCache),t.converter)}const pT={maxAttempts:5};class mT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hI(e)}set(e,t,n){this._verifyNotCommitted();const r=gT(e,this._firestore),i=JI(r.converter,t,n),o=fI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ev.none())),this}update(e,t,n){this._verifyNotCommitted();const r=gT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Iu(t))||t instanceof nI?SI(this._dataReader,"WriteBatch.update",r._key,t,n,s):wI(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ev.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gT(e,this._firestore);return this._mutations=this._mutations.concat(new fv(t._key,ev.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gh(Kh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gT(e,t){if((e=Iu(e)).firestore!==t)throw new Gh(Kh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class yT{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hI(e)}get(e){const t=gT(e,this._firestore),n=new XI(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Bh(24041);const r=e[0];if(r.isFoundDocument())return new OI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new OI(this._firestore,n,t._key,null,t.converter);throw Bh(18433,{doc:r})})}set(e,t,n){const r=gT(e,this._firestore),i=JI(r.converter,t,n),o=fI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=gT(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Iu(t))||t instanceof nI?SI(this._dataReader,"Transaction.update",r._key,t,n,s):wI(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=gT(e,this._firestore);return this._transaction.delete(t._key),this}}class vT extends yT{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gT(e,this._firestore),n=new oT(this._firestore);return super.get(e).then(e=>new eT(this._firestore,n,t._key,e._document,new ZI(!1,!1),t.converter))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lh=e}(Qd),Fd(new Tu("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Kk(new Xh(e.getProvider("auth-internal")),new nf(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gh(Kh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $m(e.options.projectId,t)}(o,r),o);return i=Pt({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),eh(Oh,Rh,e),eh(Oh,Rh,"esm2020")}();function bT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wT(){if("undefined"===typeof Uint8Array)throw new Gh("unimplemented","Uint8Arrays are not available in this environment.")}function ST(){if("undefined"==typeof atob)throw new Gh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _T{constructor(e){this._delegate=e}static fromBase64String(e){return ST(),new _T(tI.fromBase64String(e))}static fromUint8Array(e){return wT(),new _T(tI.fromUint8Array(e))}toBase64(){return ST(),this._delegate.toBase64()}toUint8Array(){return wT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ET(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class kT{enableIndexedDbPersistence(e,t){return function(e,t){zh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return $k(e,sk.provider,{build:e=>new ik(e,n.cacheSizeBytes,null===t||void 0===t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){zh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();$k(e,sk.provider,{build:e=>new ok(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Gh(Kh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Qh;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!$f.v())return Promise.resolve();const t=e+yS;await $f.delete(t)}(SS(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class IT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof $m||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||zh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Pt(Pt({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rk(this._delegate,e,t,n)}enableNetwork(){return Jk(this._delegate)}disableNetwork(){return Xk(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,wf("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Yk(this._delegate)}onSnapshotsInSync(e){return dT(this._delegate,e)}get app(){if(!this._appCompat)throw new Gh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new UT(this,Fk(this._delegate,e))}catch(tD){throw NT(tD,"collection()","Firestore.collection()")}}doc(e){try{return new PT(this,jk(this._delegate,e))}catch(tD){throw NT(tD,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new MT(this,function(e,t){if(e=If(e,Ok),bf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gh(Kh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Dk(e,null,function(e){return new sy(mf.emptyPath(),e)}(t))}(this._delegate,e))}catch(tD){throw NT(tD,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=If(e,Kk);const r=Pt(Pt({},pT),n);return function(e){if(e.maxAttempts<1)throw new Gh(Kh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Qh;return e.asyncQueue.enqueueAndForget(async()=>{const i=await _k(e);new dk(e.asyncQueue,i,n,t,r).ju()}),r.promise}(Gk(e),n=>t(new vT(e,n)),r)}(this._delegate,t=>e(new CT(this,t)))}batch(){return Gk(this._delegate),new xT(new mT(this._delegate,e=>hT(this._delegate,e)))}loadBundle(e){return Zk(this._delegate,e)}namedQuery(e){return eI(this._delegate,e).then(e=>e?new MT(this,e):null)}}class TT extends YI{constructor(e){super(),this.firestore=e}convertBytes(e){return new _T(new tI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return PT.forKey(t,this.firestore,null)}}class CT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TT(e)}get(e){const t=zT(e);return this._delegate.get(t).then(e=>new DT(this._firestore,new eT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=zT(e);return n?(bT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=zT(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=zT(e);return this._delegate.delete(t),this}}class xT{constructor(e){this._delegate=e}set(e,t,n){const r=zT(e);return n?(bT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=zT(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=zT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class AT{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new tT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=AT.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new AT(e,new TT(e),t),r.set(t,i)),i}}AT.INSTANCES=new WeakMap;class PT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Gh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new PT(t,new Lk(t._delegate,n,new vf(e)))}static forKey(e,t,n){return new PT(t,new Lk(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new UT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new UT(this.firestore,Fk(this._delegate,e))}catch(tD){throw NT(tD,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Iu(e))instanceof Lk&&Uk(this._delegate,e)}set(e,t){t=bT("DocumentReference.set",t);try{return t?lT(this._delegate,e,t):lT(this._delegate,e)}catch(tD){throw NT(tD,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cT(this._delegate,e):cT(this._delegate,e,t,...r)}catch(tD){throw NT(tD,"updateDoc()","DocumentReference.update()")}}delete(){return hT(If((e=this._delegate).firestore,Kk),[new fv(e._key,ev.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=OT(t),i=RT(t,e=>new DT(this.firestore,new eT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return uT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?sT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=If(e,Lk);const t=If(e.firestore,Kk);return kk(Gk(t),e._key,{source:"server"}).then(n=>fT(t,e,n))}(this._delegate):function(e){e=If(e,Lk);const t=If(e.firestore,Kk);return kk(Gk(t),e._key).then(n=>fT(t,e,n))}(this._delegate),t.then(e=>new DT(this.firestore,new eT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new PT(this.firestore,e?this._delegate.withConverter(AT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function NT(e,t,n){return e.message=e.message.replace(t,n),e}function OT(e){for(const t of e)if("object"===typeof t&&!ET(t))return t;return{}}function RT(e,t){var n,r;let i;return i=ET(e[0])?e[0]:ET(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class DT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new PT(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iT(this._delegate,e._delegate)}}class LT extends DT{data(e){const t=this._delegate.data(e);return this._delegate._converter||(n="Document in a QueryDocumentSnapshot should exist",void 0!==t||Bh(57014,n)),t;var n}}class MT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TT(e)}where(e,t,n){try{return new MT(this.firestore,jI(this._delegate,function(e,t,n){const r=t,i=DI("where",e);return UI._create(i,r,n)}(e,t,n)))}catch(tD){throw NT(tD,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new MT(this.firestore,jI(this._delegate,BI(e,t)))}catch(tD){throw NT(tD,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new MT(this.firestore,jI(this._delegate,(Tf("limit",t=e),qI._create("limit",t,"F"))))}catch(t){throw NT(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new MT(this.firestore,jI(this._delegate,(Tf("limitToLast",t=e),qI._create("limitToLast",t,"L"))))}catch(t){throw NT(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new MT(this.firestore,jI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HI._create("startAt",t,!0)}(...arguments)))}catch(tD){throw NT(tD,"startAt()","Query.startAt()")}}startAfter(){try{return new MT(this.firestore,jI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HI._create("startAfter",t,!1)}(...arguments)))}catch(tD){throw NT(tD,"startAfter()","Query.startAfter()")}}endBefore(){try{return new MT(this.firestore,jI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WI._create("endBefore",t,!1)}(...arguments)))}catch(tD){throw NT(tD,"endBefore()","Query.endBefore()")}}endAt(){try{return new MT(this.firestore,jI(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return WI._create("endAt",t,!0)}(...arguments)))}catch(tD){throw NT(tD,"endAt()","Query.endAt()")}}isEqual(e){return zk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?aT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=If(e,Dk);const t=If(e.firestore,Kk),n=Gk(t),r=new oT(t);return Ik(n,e._query,{source:"server"}).then(n=>new nT(t,r,e,n))}(this._delegate):function(e){e=If(e,Dk);const t=If(e.firestore,Kk),n=Gk(t),r=new oT(t);return LI(e._query),Ik(n,e._query).then(n=>new nT(t,r,e,n))}(this._delegate),t.then(e=>new jT(this.firestore,new nT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=OT(t),i=RT(t,e=>new jT(this.firestore,new nT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return uT(this._delegate,r,i)}withConverter(e){return new MT(this.firestore,e?this._delegate.withConverter(AT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class FT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new LT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new MT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new LT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new FT(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new LT(this._firestore,n))})}isEqual(e){return iT(this._delegate,e._delegate)}}class UT extends MT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new PT(this.firestore,e):null}doc(e){try{return new PT(this.firestore,void 0===e?jk(this._delegate):jk(this._delegate,e))}catch(tD){throw NT(tD,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=If(e.firestore,Kk),r=jk(e),i=JI(e.converter,t);return hT(n,[fI(hI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ev.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new PT(this.firestore,e))}isEqual(e){return Uk(this._delegate,e._delegate)}withConverter(e){return new UT(this.firestore,e?this._delegate.withConverter(AT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zT(e){return If(e,Lk)}class VT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new nI(...t)}static documentId(){return new VT(yf.keyField().canonicalString())}isEqual(e){return(e=Iu(e))instanceof nI&&this._delegate._internalPath.isEqual(e._internalPath)}}class BT{static serverTimestamp(){const e=new gI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new BT(e)}static delete(){const e=new pI("deleteField");return e._methodName="FieldValue.delete",new BT(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new BT(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new BT(e)}static increment(e){const t=new bI("increment",e);return t._methodName="FieldValue.increment",new BT(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qT={Firestore:IT,GeoPoint:iI,Timestamp:Nf,Blob:_T,Transaction:CT,WriteBatch:xT,DocumentReference:PT,DocumentSnapshot:DT,Query:MT,QueryDocumentSnapshot:LT,QuerySnapshot:jT,CollectionReference:UT,FieldPath:VT,FieldValue:BT,setLogLevel:function(e){var t;t=e,Mh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var HT;(function(e,t){e.INTERNAL.registerComponent(new Tu("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Pt({},qT)))})(HT=yh,(e,t)=>new IT(e,t,new kT)),HT.registerVersion("@firebase/firestore-compat","0.4.2");const WT=["providerId"],KT=["uid","auth","stsTokenManager"],GT=["providerId","signInMethod"],QT="facebook.com",$T="github.com",YT="google.com",JT="password",XT="twitter.com",ZT="EMAIL_SIGNIN",eC="PASSWORD_RESET",tC="RECOVER_EMAIL",nC="REVERT_SECOND_FACTOR_ADDITION",rC="VERIFY_AND_CHANGE_EMAIL",iC="VERIFY_EMAIL";function oC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},aC=oC,lC=new pu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cC=new Fu("@firebase/auth");function uC(e){if(cC.logLevel<=Ou.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cC.error("Auth (".concat(Qd,"): ").concat(e),...n)}}function dC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gC(e,...n)}function hC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gC(e,...n)}function fC(e,t,n){const r=Pt(Pt({},aC()),{},{[t]:n});return new pu("auth","Firebase",r).create(t,{appName:e.name})}function pC(e){return fC(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mC(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dC(e,"argument-error"),fC(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return lC.create(e,...n)}function yC(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gC(t,...r)}}function vC(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uC(t),new Error(t)}function bC(e,t){e||vC(t)}function wC(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function SC(){return"http:"===_C()||"https:"===_C()}function _C(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class EC{constructor(e,t){this.shortDelay=e,this.longDelay=t,bC(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iu())||lu()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(SC()||au()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function kC(e,t){bC(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class IC{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void vC("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void vC("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void vC("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},CC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xC=new EC(3e4,6e4);function AC(e,t){return e.tenantId&&!t.tenantId?Pt(Pt({},t),{},{tenantId:e.tenantId}):t}async function PC(e,t,n,r){return NC(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=bu(Pt({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Pt({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Zc(e.emulatorConfig.host)&&(l.credentials="include"),IC.fetch()(await RC(e,e.config.apiHost,n,s),l)})}async function NC(e,t,n){e._canInitEmulator=!1;const r=Pt(Pt({},TC),t);try{const t=new LC(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw MC(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw MC(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw MC(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw MC(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw fC(e,a,s);dC(e,a)}}catch(tD){if(tD instanceof fu)throw tD;dC(e,"network-request-failed",{message:String(tD)})}}async function OC(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await PC(e,t,n,r,i);return"mfaPendingCredential"in o&&dC(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function RC(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?kC(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(CC.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function DC(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(hC(this.auth,"network-request-failed")),xC.get())})}}function MC(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hC(e,t,r);return i.customData._tokenResponse=n,i}function FC(e){return void 0!==e&&void 0!==e.getResponse}function jC(e){return void 0!==e&&void 0!==e.enterprise}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DC(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zC(e,t){return PC(e,"GET","/v2/recaptchaConfig",AC(e,t))}async function VC(e,t){return PC(e,"POST","/v1/accounts:lookup",t)}function BC(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(tD){}}function qC(e){return 1e3*Number(e)}function HC(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return uC("JWT malformed, contained fewer than 3 sections"),null;try{const e=Kc(n);return e?JSON.parse(e):(uC("Failed to decode base64 JWT payload"),null)}catch(tD){return uC("Caught error parsing JWT payload as JSON",null===tD||void 0===tD?void 0:tD.toString()),null}}function WC(e){const t=HC(e);return yC(t,"internal-error"),yC("undefined"!==typeof t.exp,"internal-error"),yC("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function KC(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(tD){throw tD instanceof fu&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(tD)&&e.auth.currentUser===e&&await e.auth.signOut(),tD}}class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(tD){return void((null===tD||void 0===tD?void 0:tD.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class QC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=BC(this.lastLoginAt),this.creationTime=BC(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $C(e){var t;const n=e.auth,r=await e.getIdToken(),i=await KC(e,VC(n,{idToken:r}));yC(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?YC(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new QC(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function YC(e){return e.map(e=>{let{providerId:t}=e,n=cr(e,WT);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class JC{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yC(e.idToken,"internal-error"),yC("undefined"!==typeof e.idToken,"internal-error"),yC("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):WC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){yC(0!==e.length,"internal-error");const t=WC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(yC(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await NC(e,{},async()=>{const n=bu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await RC(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Zc(e.emulatorConfig.host)&&(a.credentials="include"),IC.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new JC;return n&&(yC("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(yC("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(yC("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new JC,this.toJSON())}_performRefresh(){return vC("not implemented")}}function XC(e,t){yC("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ZC{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=cr(e,KT);this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new QC(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await KC(this,this.stsTokenManager.getToken(this.auth,e));return yC(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Iu(e),r=await n.getIdToken(t),i=HC(r);yC(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:BC(qC(i.auth_time)),issuedAtTime:BC(qC(i.iat)),expirationTime:BC(qC(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Iu(e);await $C(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yC(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Pt({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ZC(Pt(Pt({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){yC(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $C(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bd(this.auth.app))return Promise.reject(pC(this.auth));const e=await this.getIdToken();return await KC(this,async function(e,t){return PC(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Pt(Pt({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Pt({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:_}=t;yC(v&&_,e,"internal-error");const E=JC.fromJSON(this.name,_);yC("string"===typeof v,e,"internal-error"),XC(u,e.name),XC(d,e.name),yC("boolean"===typeof b,e,"internal-error"),yC("boolean"===typeof w,e,"internal-error"),XC(h,e.name),XC(f,e.name),XC(p,e.name),XC(m,e.name),XC(g,e.name),XC(y,e.name);const k=new ZC({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(k.providerData=S.map(e=>Pt({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new JC;r.updateFromServerResponse(t);const i=new ZC({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $C(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];yC(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?YC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new JC;s.updateFromIdToken(n);const a=new ZC({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new QC(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const ex=new Map;function tx(e){bC(e instanceof Function,"Expected a class definition");let t=ex.get(e);return t?(bC(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ex.set(e,t),t)}class nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nx.type="NONE";const rx=nx;function ix(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ox{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ix(this.userKey,r.apiKey,i),this.fullPersistenceKey=ix("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await VC(this.auth,{idToken:e}).catch(()=>{});return t?ZC._fromGetAccountInfoResponse(this.auth,t,e):null}return ZC._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ox(tx(rx),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||tx(rx);const o=ix(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){let n;if("string"===typeof t){const r=await VC(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ZC._fromGetAccountInfoResponse(e,r,t)}else n=ZC._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(nD){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new ox(i,e,n)):new ox(i,e,n)}}function sx(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ux(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ax(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hx(t))return"Blackberry";if(fx(t))return"Webos";if(lx(t))return"Safari";if((t.includes("chrome/")||cx(t))&&!t.includes("edge/"))return"Chrome";if(dx(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ax(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/firefox\//i.test(e)}function lx(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/crios\//i.test(e)}function ux(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/iemobile/i.test(e)}function dx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/android/i.test(e)}function hx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/blackberry/i.test(e)}function fx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/webos/i.test(e)}function px(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return px(e)||dx(e)||fx(e)||hx(e)||/windows phone/i.test(e)||ux(e)}function gx(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sx(iu());break;case"Worker":t="".concat(sx(iu()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qd,"/").concat(r)}class yx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(tD){r(tD)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(tD){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===tD||void 0===tD?void 0:tD.message})}}}class vx{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class bx{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sx(this),this.idTokenSubscription=new Sx(this),this.beforeStateQueue=new yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tx(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ox.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(tD){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await VC(this,{idToken:e}),n=await ZC._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bd(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(tD){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(tD))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return yC(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(tD){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $C(e)}catch(tD){if((null===tD||void 0===tD?void 0:tD.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bd(this.app))return Promise.reject(pC(this));const t=e?Iu(e):null;return t&&yC(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&yC(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bd(this.app)?Promise.reject(pC(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bd(this.app)?Promise.reject(pC(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tx(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return PC(e,"GET","/v2/passwordPolicy",AC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new vx(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return PC(e,"POST","/v2/accounts:revokeToken",AC(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tx(e)||this._popupRedirectResolver;yC(t,this,"argument-error"),this.redirectPersistenceManager=await ox.create(this,[tx(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(yC(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yC(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Bd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(cC.logLevel<=Ou.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cC.warn("Auth (".concat(Qd,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function wx(e){return Iu(e)}class Sx{constructor(e){this.auth=e,this.observer=null,this.addObserver=_u(e=>this.observer=e)}get next(){return yC(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _x={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(e){return _x.loadJS(e)}function kx(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}const Ix=1e12;class Tx{constructor(e){this.auth=e,this.counter=Ix,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ax(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ix;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ix;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ix;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Cx{constructor(){this.enterprise=new xx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ax{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;yC(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(tD){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(tD){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Px="NO_RECAPTCHA";class Nx{constructor(e){this.type="recaptcha-enterprise",this.auth=wx(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;jC(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Px)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Cx).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{zC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new UC(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&jC(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=_x.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ex(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Nx(e);let s;if(i)s=Px;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Pt({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Rx(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ox(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ox(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Ox(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Ox(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ox(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Dx(e){const t=wx(e),n=await zC(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UC(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Nx(t).verify()}}function Lx(e,t,n){const r=wx(e);yC(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Mx(t),{host:s,port:a}=function(e){const t=Mx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fx(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fx(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return yC(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void yC(yu(c,r.config.emulator)&&yu(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Zc(s)?(eu("".concat(o,"//").concat(s).concat(l)),ru("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fx(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class jx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vC("not implemented")}_getIdTokenResponse(e){return vC("not implemented")}_linkToIdToken(e,t){return vC("not implemented")}_getReauthenticationResolver(e){return vC("not implemented")}}async function Ux(e,t){return PC(e,"POST","/v1/accounts:resetPassword",AC(e,t))}async function zx(e,t){return PC(e,"POST","/v1/accounts:signUp",t)}async function Vx(e,t){return OC(e,"POST","/v1/accounts:signInWithPassword",AC(e,t))}async function Bx(e,t){return PC(e,"POST","/v1/accounts:sendOobCode",AC(e,t))}async function qx(e,t){return Bx(e,t)}async function Hx(e,t){return Bx(e,t)}class Wx extends jx{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Wx(e,t,"password")}static _fromEmailAndCode(e,t){return new Wx(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Rx(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return OC(e,"POST","/v1/accounts:signInWithEmailLink",AC(e,t))}(e,{email:this._email,oobCode:this._password});default:dC(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Rx(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zx,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return OC(e,"POST","/v1/accounts:signInWithEmailLink",AC(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dC(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Kx(e,t){return OC(e,"POST","/v1/accounts:signInWithIdp",AC(e,t))}class Gx extends jx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gx(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dC("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=cr(t,GT);if(!n||!r)return null;const o=new Gx(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Kx(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Kx(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kx(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}async function Qx(e,t){return PC(e,"POST","/v1/accounts:sendVerificationCode",AC(e,t))}const $x={USER_NOT_FOUND:"user-not-found"};class Yx extends jx{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yx({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yx({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return OC(e,"POST","/v1/accounts:signInWithPhoneNumber",AC(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await OC(e,"POST","/v1/accounts:signInWithPhoneNumber",AC(e,t));if(n.temporaryProof)throw MC(e,"account-exists-with-different-credential",n);return n}(e,Pt({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return OC(e,"POST","/v1/accounts:signInWithPhoneNumber",AC(e,Pt(Pt({},t),{},{operation:"REAUTH"})),$x)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yx({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Jx{constructor(e){var t,n,r,i,o,s;const a=wu(Su(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);yC(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=wu(Su(e)).link,n=t?wu(Su(t)).deep_link_id:null,r=wu(Su(e)).deep_link_id;return(r?wu(Su(r)).link:null)||r||n||t||e}(e);try{return new Jx(t)}catch(n){return null}}}class Xx{constructor(){this.providerId=Xx.PROVIDER_ID}static credential(e,t){return Wx._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Jx.parseLink(t);return yC(n,"argument-error"),Wx._fromEmailAndCode(e,n.code,n.tenantId)}}Xx.PROVIDER_ID="password",Xx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Xx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eA extends Zx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tA extends eA{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return yC("providerId"in t&&"signInMethod"in t,"argument-error"),Gx._fromParams(t)}credential(e){return this._credential(Pt(Pt({},e),{},{nonce:e.rawNonce}))}_credential(e){return yC(e.idToken||e.accessToken,"argument-error"),Gx._fromParams(Pt(Pt({},e),{},{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tA.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tA.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new tA(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(tD){return null}}}class nA extends eA{constructor(){super("facebook.com")}static credential(e){return Gx._fromParams({providerId:nA.PROVIDER_ID,signInMethod:nA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nA.credentialFromTaggedObject(e)}static credentialFromError(e){return nA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return nA.credential(t.oauthAccessToken)}catch(n){return null}}}nA.FACEBOOK_SIGN_IN_METHOD="facebook.com",nA.PROVIDER_ID="facebook.com";class rA extends eA{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gx._fromParams({providerId:rA.PROVIDER_ID,signInMethod:rA.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rA.credentialFromTaggedObject(e)}static credentialFromError(e){return rA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return rA.credential(n,r)}catch(i){return null}}}rA.GOOGLE_SIGN_IN_METHOD="google.com",rA.PROVIDER_ID="google.com";class iA extends eA{constructor(){super("github.com")}static credential(e){return Gx._fromParams({providerId:iA.PROVIDER_ID,signInMethod:iA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iA.credentialFromTaggedObject(e)}static credentialFromError(e){return iA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return iA.credential(t.oauthAccessToken)}catch(n){return null}}}iA.GITHUB_SIGN_IN_METHOD="github.com",iA.PROVIDER_ID="github.com";class oA extends jx{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Kx(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Kx(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kx(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new oA(n,i):null}static _create(e,t){return new oA(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class sA extends Zx{constructor(e){yC(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return sA.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return sA.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=oA.fromJSON(e);return yC(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return oA._create(r,n)}catch(tD){return null}}}class aA extends eA{constructor(){super("twitter.com")}static credential(e,t){return Gx._fromParams({providerId:aA.PROVIDER_ID,signInMethod:aA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return aA.credentialFromTaggedObject(e)}static credentialFromError(e){return aA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return aA.credential(n,r)}catch(i){return null}}}async function lA(e,t){return OC(e,"POST","/v1/accounts:signUp",AC(e,t))}aA.TWITTER_SIGN_IN_METHOD="twitter.com",aA.PROVIDER_ID="twitter.com";class cA{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ZC._fromIdTokenResponse(e,n,r),o=uA(n);return new cA({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=uA(n);return new cA({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function uA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class dA extends fu{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,dA.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new dA(e,t,n,r)}}function hA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw dA._fromErrorAndOperation(e,n,t,r);throw n})}function fA(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function pA(e,t){const n=Iu(e);await gA(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return PC(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=fA(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function mA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await KC(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cA._forOperation(e,"link",r)}async function gA(e,t,n){await $C(t);const r=!1===e?"provider-already-linked":"no-such-provider";yC(fA(t.providerData).has(n)===e,t.auth,r)}async function yA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Bd(r.app))return Promise.reject(pC(r));const i="reauthenticate";try{const o=await KC(e,hA(r,i,t,e),n);yC(o.idToken,r,"internal-error");const s=HC(o.idToken);yC(s,r,"internal-error");const{sub:a}=s;return yC(e.uid===a,r,"user-mismatch"),cA._forOperation(e,i,o)}catch(tD){throw(null===tD||void 0===tD?void 0:tD.code)==="auth/".concat("user-not-found")&&dC(r,"user-mismatch"),tD}}async function vA(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Bd(e.app))return Promise.reject(pC(e));const r="signIn",i=await hA(e,r,t),o=await cA._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function bA(e,t){return vA(wx(e),t)}async function wA(e,t){const n=Iu(e);return await gA(!1,n,t.providerId),mA(n,t)}async function SA(e,t){return yA(Iu(e),t)}async function _A(e,t){if(Bd(e.app))return Promise.reject(pC(e));const n=wx(e),r=await async function(e,t){return OC(e,"POST","/v1/accounts:signInWithCustomToken",AC(e,t))}(n,{token:t,returnSecureToken:!0}),i=await cA._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class EA{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?kA._fromServerResponse(e,t):"totpInfo"in t?IA._fromServerResponse(e,t):dC(e,"internal-error")}}class kA extends EA{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new kA(t)}}class IA extends EA{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new IA(t)}}function TA(e,t,n){var r;yC((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yC("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),yC("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yC(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yC(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function CA(e){const t=wx(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xA(e,t){await async function(e,t){return PC(e,"POST","/v1/accounts:update",AC(e,t))}(Iu(e),{oobCode:t})}async function AA(e,t){const n=Iu(e),r=await Ux(n,{oobCode:t}),i=r.requestType;switch(yC(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":yC(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":yC(r.mfaInfo,n,"internal-error");default:yC(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=EA._fromServerResponse(wx(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function PA(e,t){const n={identifier:t,continueUri:SC()?wC():"http://localhost"},{signinMethods:r}=await async function(e,t){return PC(e,"POST","/v1/accounts:createAuthUri",AC(e,t))}(Iu(e),n);return r||[]}async function NA(e,t){const n=Iu(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&TA(n.auth,r,t);const{email:i}=await async function(e,t){return Bx(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function OA(e,t,n){const r=Iu(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&TA(r.auth,i,n);const{email:o}=await async function(e,t){return Bx(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function RA(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Iu(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await KC(i,async function(e,t){return PC(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function DA(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await KC(e,async function(e,t){return PC(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class LA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class MA extends LA{constructor(e,t,n,r){super(e,t,n),this.username=r}}class FA extends LA{constructor(e,t){super(e,"facebook.com",t)}}class jA extends MA{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class UA extends LA{constructor(e,t){super(e,"google.com",t)}}class zA extends MA{constructor(e,t,n){super(e,"twitter.com",t,n)}}function VA(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){if(!e)return null;const{providerId:t}=e,n=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},r=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!t&&null!==e&&void 0!==e&&e.idToken){var i;const t=null===(i=HC(e.idToken))||void 0===i||null===(i=i.firebase)||void 0===i?void 0:i.sign_in_provider;if(t)return new LA(r,"anonymous"!==t&&"custom"!==t?t:null)}if(!t)return null;switch(t){case"facebook.com":return new FA(r,n);case"github.com":return new jA(r,n);case"google.com":return new UA(r,n);case"twitter.com":return new zA(r,n,e.screenName||null);case"custom":case"anonymous":return new LA(r,null);default:return new LA(r,t,n)}}(n)}class BA{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new BA("enroll",e,t)}static _fromMfaPendingCredential(e){return new BA("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){if(null!==e&&void 0!==e&&e.multiFactorSession){var t,n;if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return BA._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(n=e.multiFactorSession)&&void 0!==n&&n.idToken)return BA._fromIdtoken(e.multiFactorSession.idToken)}return null}}class qA{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=wx(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>EA._fromServerResponse(n,e));yC(r.mfaPendingCredential,n,"internal-error");const o=BA._fromMfaPendingCredential(r.mfaPendingCredential);return new qA(o,i,async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Pt(Pt({},r),{},{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await cA._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return yC(t.user,n,"internal-error"),cA._forOperation(t.user,t.operationType,s);default:dC(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function HA(e,t){return PC(e,"POST","/v2/accounts/mfaEnrollment:start",AC(e,t))}class WA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>EA._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new WA(e)}async getSession(){return BA._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await KC(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await KC(this.user,function(e,t){return PC(e,"POST","/v2/accounts/mfaEnrollment:withdraw",AC(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(tD){throw tD}}}const KA=new WeakMap;const GA="__sak";class QA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(GA,"1"),this.storage.removeItem(GA),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $A extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);cu()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const YA=$A;function JA(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function XA(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ZA{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=XA(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return JA(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=XA(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=XA(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=JA(n);const i=setInterval(()=>{const e=JA(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ZA.type="COOKIE";class eP extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eP.type="SESSION";const tP=eP;class nP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new nP(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nP.receivers=[];class iP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=rP("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function oP(){return window}function sP(){return"undefined"!==typeof oP().WorkerGlobalScope&&"function"===typeof oP().importScripts}const aP="firebaseLocalStorageDb",lP="firebaseLocalStorage",cP="fbase_key";class uP{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dP(e,t){return e.transaction([lP],t?"readwrite":"readonly").objectStore(lP)}function hP(){const e=indexedDB.open(aP,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(lP,{keyPath:cP})}catch(tD){n(tD)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(lP)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(aP);return new uP(e).toPromise()}(),t(await hP()))})})}async function fP(e,t,n){const r=dP(e,!0).put({[cP]:t,value:n});return new uP(r).toPromise()}function pP(e,t){const n=dP(e,!0).delete(t);return new uP(n).toPromise()}class mP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await hP()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(tD){if(t++>3)throw tD;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nP._getInstance(sP()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new iP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hP();return await fP(e,GA,"1"),await pP(e,GA),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fP(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=dP(e,!1).get(t),r=await new uP(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=dP(e,!1).getAll();return new uP(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mP.type="LOCAL";const gP=mP;function yP(e,t){return PC(e,"POST","/v2/accounts/mfaSignIn:start",AC(e,t))}const vP=kx("rcb"),bP=new EC(3e4,6e4);class wP{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=oP().grecaptcha)||void 0===e||!e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yC(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&FC(oP().grecaptcha)?Promise.resolve(oP().grecaptcha):new Promise((n,r)=>{const i=oP().setTimeout(()=>{r(hC(e,"network-request-failed"))},bP.get());oP()[vP]=()=>{oP().clearTimeout(i),delete oP()[vP];const o=oP().grecaptcha;if(!o||!FC(o))return void r(hC(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Ex("".concat(_x.recaptchaV2Script,"?").concat(bu({onload:vP,render:"explicit",hl:t}))).catch(()=>{clearTimeout(i),r(hC(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=oP().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class SP{async load(e){return new Tx(e)}clearedOneInstance(){}}const _P="recaptcha",EP={theme:"light",type:"image"};class kP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt({},EP);this.parameters=n,this.type=_P,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wx(e),this.isInvisible="invisible"===this.parameters.size,yC("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;yC(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SP:new wP,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(tD){return Promise.reject(tD)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){yC(!this.parameters.sitekey,this.auth,"argument-error"),yC(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yC("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=oP()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){yC(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){yC(SC()&&!sP(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await PC(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);yC(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return yC(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class IP{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Yx._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function TP(e,t,n){if(!e._getRecaptchaConfig())try{await Dx(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){yC("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Rx(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Px){yC((null===n||void 0===n?void 0:n.type)===_P,e,"argument-error");return HA(e,await CP(e,t,n))}return HA(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;yC("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;yC(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Rx(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Px){yC((null===n||void 0===n?void 0:n.type)===_P,e,"argument-error");return yP(e,await CP(e,t,n))}return yP(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Rx(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Px){yC((null===n||void 0===n?void 0:n.type)===_P,e,"argument-error");return Qx(e,await CP(e,t,n))}return Qx(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function CP(e,t,n){yC(n.type===_P,e,"argument-error");const r=await n.verify();yC("string"===typeof r,e,"argument-error");const i=Pt({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class xP{constructor(e){this.providerId=xP.PROVIDER_ID,this.auth=wx(e)}verifyPhoneNumber(e,t){return TP(this.auth,e,Iu(t))}static credential(e,t){return Yx._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xP.credentialFromTaggedObject(t)}static credentialFromError(e){return xP.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Yx._fromTokenResponse(n,r):null}}function AP(e,t){return t?tx(t):(yC(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xP.PROVIDER_ID="phone",xP.PHONE_SIGN_IN_METHOD="phone";class PP extends jx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kx(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kx(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kx(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NP(e){return vA(e.auth,new PP(e),e.bypassAuthState)}function OP(e){const{auth:t,user:n}=e;return yC(n,t,"internal-error"),yA(n,new PP(e),e.bypassAuthState)}async function RP(e){const{auth:t,user:n}=e;return yC(n,t,"internal-error"),mA(n,new PP(e),e.bypassAuthState)}class DP{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(tD){this.reject(tD)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(tD){this.reject(tD)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NP;case"linkViaPopup":case"linkViaRedirect":return RP;case"reauthViaPopup":case"reauthViaRedirect":return OP;default:dC(this.auth,"internal-error")}}resolve(e){bC(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bC(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LP=new EC(2e3,1e4);class MP extends DP{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,MP.currentPopupAction&&MP.currentPopupAction.cancel(),MP.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yC(e,this.auth,"internal-error"),e}async onExecution(){bC(1===this.filter.length,"Popup operations only handle one event");const e=rP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(hC(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(hC(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,MP.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hC(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,LP.get())};e()}}MP.currentPopupAction=null;const FP=new Map;class jP extends DP{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=FP.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=BP(t),r=VP(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(tD){e=()=>Promise.reject(tD)}FP.set(this.auth._key(),e)}return this.bypassAuthState||FP.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function UP(e,t){return VP(e)._set(BP(t),"true")}function zP(e,t){FP.set(e._key(),t)}function VP(e){return tx(e._redirectPersistence)}function BP(e){return ix("pendingRedirect",e.config.apiKey,e.name)}function qP(e,t,n){return async function(e,t,n){if(Bd(e.app))return Promise.reject(pC(e));const r=wx(e);mC(e,t,Zx),await r._initializationPromise;const i=AP(r,n);return await UP(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function HP(e,t,n){return async function(e,t,n){const r=Iu(e);if(mC(r.auth,t,Zx),Bd(r.auth.app))return Promise.reject(pC(r.auth));await r.auth._initializationPromise;const i=AP(r.auth,n);await UP(i,r.auth);const o=await GP(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function WP(e,t,n){return async function(e,t,n){const r=Iu(e);mC(r.auth,t,Zx),await r.auth._initializationPromise;const i=AP(r.auth,n);await gA(!1,r,t.providerId),await UP(i,r.auth);const o=await GP(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function KP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Bd(e.app))return Promise.reject(pC(e));const r=wx(e),i=AP(r,t),o=new jP(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function GP(e){const t=rP("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class QP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!YP(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hC(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($P(e))}saveEventToCache(e){this.cachedEventUids.add($P(e)),this.lastProcessedEventTime=Date.now()}}function $P(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function YP(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function JP(e){return PC(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const XP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZP=/^https?/;function eN(e){const t=wC(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ZP.test(n))return!1;if(XP.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tN=new EC(3e4,6e4);function nN(){const e=oP().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rN(e){return new Promise((t,n)=>{var r,i;function o(){nN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nN(),n(hC(e,"network-request-failed"))},timeout:tN.get()})}if(null!==(r=oP().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=oP().gapi)||void 0===i||!i.load){const t=kx("iframefcb");return oP()[t]=()=>{gapi.load?o():n(hC(e,"network-request-failed"))},Ex("".concat(_x.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw iN=null,e})}let iN=null;const oN=new EC(5e3,15e3),sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(e){const t=e.config;yC(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kC(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qd},i=aN.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(bu(r).slice(1))}async function cN(e){const t=await function(e){return iN=iN||rN(e),iN}(e),n=oP().gapi;return yC(n,e,"internal-error"),t.open({where:document.body,url:lN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=hC(e,"network-request-failed"),o=oP().setTimeout(()=>{r(i)},oN.get());function s(){oP().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(tD){}}}function hN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Pt(Pt({},uN),{},{width:r.toString(),height:i.toString(),top:o,left:s}),c=iu().toLowerCase();n&&(a=cx(c)?"_blank":n),ax(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return px(arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new dN(null);const d=window.open(t||"",a,u);yC(d,e,"popup-blocked");try{d.focus()}catch(tD){}return new dN(d)}const fN="__/auth/handler",pN="emulator/auth/handler",mN=encodeURIComponent("fac");async function gN(e,t,n,r,i,o){yC(e.config.authDomain,e,"auth-domain-config-required"),yC(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qd,eventId:i};if(t instanceof Zx){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof eA){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mN,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fN);return kC(t,pN)}(e),"?").concat(bu(a).slice(1)).concat(c)}const yN="webStorageSupport";const vN=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tP,this._completeRedirectFn=KP,this._overrideRedirectResult=zP}async _openPopup(e,t,n,r){var i;bC(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hN(e,await gN(e,t,n,wC(),r),rP())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){oP().location.href=e}(await gN(e,t,n,wC(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bC(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await cN(e),n=new QP(e);return t.register("authEvent",t=>{yC(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yN,{type:yN},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[yN];void 0!==i&&t(!!i),dC(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await JP(e);for(const r of t)try{if(eN(r))return}catch(n){}dC(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mx()||lx()||px()}};class bN{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vC("unexpected MultiFactorSessionType")}}}class wN extends bN{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new wN(e)}_finalizeEnroll(e,t,n){return function(e,t){return PC(e,"POST","/v2/accounts/mfaEnrollment:finalize",AC(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return PC(e,"POST","/v2/accounts/mfaSignIn:finalize",AC(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class SN{constructor(){}static assertion(e){return wN._fromCredential(e)}}SN.FACTOR_ID="phone";var _N="@firebase/auth",EN="1.11.0";class kN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yC(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Yc())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var IN;function TN(){return window}_x={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=hC("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},IN="Browser",Fd(new Tu("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;yC(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:IN,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gx(IN)},c=new bx(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tx);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Fd(new Tu("auth-internal",e=>(e=>new kN(e))(wx(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),eh(_N,EN,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(IN)),eh(_N,EN,"esm2020");async function CN(e,t,n){var r;const{BuildInfo:i}=TN();bC(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(bC(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),s={};return px()?s.ibi=i.packageName:dx()?s.apn=i.packageName:dC(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,gN(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function xN(e){const{cordova:t}=TN();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}class AN extends QP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function PN(e){const t=await RN()._get(DN(e));return t&&await RN()._remove(DN(e)),t}function NN(e,t){const n=function(e){const t=LN(e),n=t.link?decodeURIComponent(t.link):void 0,r=LN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return LN(i).link||i||r||n||e}(t);if(n.includes("/__/auth/callback")){var r;const t=LN(n),i=t.firebaseError?function(e){try{return JSON.parse(e)}catch(tD){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===i||void 0===i||null===(r=i.code)||void 0===r||null===(r=r.split("auth/"))||void 0===r?void 0:r[1],s=o?hC(o):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:n,postBody:null}}return null}function ON(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function RN(){return tx(YA)}function DN(e){return ix("authEvent",e.config.apiKey,e.name)}function LN(e){if(null===e||void 0===e||!e.includes("?"))return{};const[t,...n]=e.split("?");return wu(n.join("?"))}const MN=class{constructor(){this._redirectPersistence=tP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=KP,this._overrideRedirectResult=zP}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new AN(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){dC(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o;const s=TN();yC("function"===typeof(null===s||void 0===s||null===(t=s.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yC("undefined"!==typeof(null===s||void 0===s||null===(n=s.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yC("function"===typeof(null===s||void 0===s||null===(r=s.cordova)||void 0===r||null===(r=r.plugins)||void 0===r||null===(r=r.browsertab)||void 0===r?void 0:r.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yC("function"===typeof(null===s||void 0===s||null===(i=s.cordova)||void 0===i||null===(i=i.plugins)||void 0===i||null===(i=i.browsertab)||void 0===i?void 0:i.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yC("function"===typeof(null===s||void 0===s||null===(o=s.cordova)||void 0===o||null===(o=o.InAppBrowser)||void 0===o?void 0:o.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),FP.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ON(),postBody:null,tenantId:e.tenantId,error:hC(e,"no-auth-event")}}(e,n,r);await function(e,t){return RN()._set(DN(e),t)}(e,o);const s=await CN(e,o,t);return async function(e,t,n){const{cordova:r}=TN();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{s(hC(e,"redirect-cancelled-by-user"))},2e3))}function u(){var e;"visible"===(null===(e=document)||void 0===e?void 0:e.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),dx()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,i,await xN(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=TN(),n={};px()?n.iosBundleId=t.packageName:dx()?n.androidPackageName=t.packageName:dC(e,"operation-not-supported-in-this-environment"),await JP(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=TN(),o=setTimeout(async()=>{await PN(e),t.onEvent(FN())},500),s=async n=>{clearTimeout(o);const r=await PN(e);let i=null;r&&null!==n&&void 0!==n&&n.url&&(i=NN(r,n.url)),t.onEvent(i||FN())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");TN().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(tD){console.error(tD)}}}};function FN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hC("no-auth-event")}}function jN(){var e;return(null===(e=self)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.protocol)||null}function UN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return!("file:"!==jN()&&"ionic:"!==jN()&&"capacitor:"!==jN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function zN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return function(){var e;return cu()&&11===(null===(e=document)||void 0===e?void 0:e.documentMode)}()||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iu();return/Edge\/\d+/.test(e)}(e)}function VN(){try{const e=self.localStorage,t=rP();if(e)return e.setItem(t,"1"),e.removeItem(t),!zN()||hu()}catch(tD){return BN()&&hu()}return!1}function BN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function qN(){return("http:"===jN()||"https:"===jN()||au()||UN())&&!(lu()||ou())&&VN()&&!BN()}function HN(){return UN()&&"undefined"!==typeof document}const WN={LOCAL:"local",NONE:"none",SESSION:"session"},KN=yC,GN="persistence";async function QN(e){await e._initializationPromise;const t=$N(),n=ix(GN,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistenceType())}function $N(){try{var e;return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(tD){return null}}const YN=yC;class JN{constructor(){this.browserResolver=tx(vN),this.cordovaResolver=tx(MN),this.underlyingResolver=null,this._redirectPersistence=tP,this._completeRedirectFn=KP,this._overrideRedirectResult=zP}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return HN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return YN(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!HN()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function XN(e){return e.unwrap()}function ZN(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new rO(e,function(e,t){var n;const r=Iu(e),i=t;return yC(t.customData.operationType,r,"argument-error"),yC(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qA._fromError(r,i)}(e,t))}else if(r){const e=eO(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function eO(e){const{_tokenResponse:t}=e instanceof fu?e.customData:e;if(!t)return null;if(!(e instanceof fu)&&"temporaryProof"in t&&"phoneNumber"in t)return xP.credentialFromResult(e);const n=t.providerId;if(!n||n===JT)return null;let r;switch(n){case YT:r=rA;break;case QT:r=nA;break;case $T:r=iA;break;case XT:r=aA;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?oA._create(n,s):Gx._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new tA(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof fu?r.credentialFromError(e):r.credentialFromResult(e)}function tO(e,t){return t.catch(t=>{throw t instanceof fu&&ZN(e,t),t}).then(e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,eO(r)),additionalUserInfo:VA(e),user:iO.getOrCreate(n)};var r})}async function nO(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>tO(e,n.confirm(t))}}class rO{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tO(XN(this.auth),this.resolver.resolveSignIn(e))}}class iO{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Iu(e);return KA.has(t)||KA.set(t,WA._fromUser(t)),KA.get(t)}(e)}static getOrCreate(e){return iO.USER_MAP.has(e)||iO.USER_MAP.set(e,new iO(e)),iO.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tO(this.auth,wA(this._delegate,e))}async linkWithPhoneNumber(e,t){return nO(this.auth,async function(e,t,n){const r=Iu(e);await gA(!1,r,"phone");const i=await TP(r.auth,t,Iu(n));return new IP(i,e=>wA(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return tO(this.auth,async function(e,t,n){const r=Iu(e);mC(r.auth,t,Zx);const i=AP(r.auth,n);return new MP(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,JN))}async linkWithRedirect(e){return await QN(wx(this.auth)),WP(this._delegate,e,JN)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tO(this.auth,SA(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return nO(this.auth,async function(e,t,n){const r=Iu(e);if(Bd(r.auth.app))return Promise.reject(pC(r.auth));const i=await TP(r.auth,t,Iu(n));return new IP(i,e=>SA(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return tO(this.auth,async function(e,t,n){const r=Iu(e);if(Bd(r.auth.app))return Promise.reject(hC(r.auth,"operation-not-supported-in-this-environment"));mC(r.auth,t,Zx);const i=AP(r.auth,n);return new MP(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,JN))}async reauthenticateWithRedirect(e){return await QN(wx(this.auth)),HP(this._delegate,e,JN)}sendEmailVerification(e){return NA(this._delegate,e)}async unlink(e){return await pA(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Iu(e);return Bd(n.auth.app)?Promise.reject(pC(n.auth)):DA(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return DA(Iu(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Iu(e);if(Bd(n.auth.app))return Promise.reject(pC(n.auth));await mA(n,t)}(this._delegate,e)}updateProfile(e){return RA(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return OA(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}iO.USER_MAP=new WeakMap;const oO=yC;class sO{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;oO(n,"invalid-api-key",{appName:e.name}),oO(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?JN:void 0;this._delegate=t.initialize({options:{persistence:lO(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(sC),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?iO.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Lx(this._delegate,e,t)}applyActionCode(e){return xA(this._delegate,e)}checkActionCode(e){return AA(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ux(Iu(e),{oobCode:t,newPassword:n}).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&CA(e),t})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return tO(this._delegate,async function(e,t,n){if(Bd(e.app))return Promise.reject(pC(e));const r=wx(e),i=Rx(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lA,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&CA(e),t}),s=await cA._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return PA(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Jx.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){oO(qN(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await wx(e)._initializationPromise,KP(e,t,!1)}(this._delegate,JN);return e?tO(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){wx(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=aO(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=aO(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=wx(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){yC(t.handleCodeInApp,r,"argument-error"),t&&TA(r,e,t)}(i,n),await Rx(r,i,"getOobCode",Hx,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=wx(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&TA(r,i,n),await Rx(r,i,"getOobCode",qx,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){KN(Object.values(WN).includes(t),e,"invalid-persistence-type"),lu()?KN(t!==WN.SESSION,e,"unsupported-persistence-type"):ou()?KN(t===WN.NONE,e,"unsupported-persistence-type"):BN()?KN(t===WN.NONE||t===WN.LOCAL&&hu(),e,"unsupported-persistence-type"):KN(t===WN.NONE||VN(),e,"unsupported-persistence-type")}(this._delegate,e),e){case WN.SESSION:t=tP;break;case WN.LOCAL:t=await tx(gP)._isAvailable()?gP:YA;break;case WN.NONE:t=rx;break;default:return dC("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tO(this._delegate,async function(e){var t;if(Bd(e.app))return Promise.reject(pC(e));const n=wx(e);if(await n._initializationPromise,null!==(t=n.currentUser)&&void 0!==t&&t.isAnonymous)return new cA({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await lA(n,{returnSecureToken:!0}),i=await cA._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return tO(this._delegate,bA(this._delegate,e))}signInWithCustomToken(e){return tO(this._delegate,_A(this._delegate,e))}signInWithEmailAndPassword(e,t){return tO(this._delegate,function(e,t,n){return Bd(e.app)?Promise.reject(pC(e)):bA(Iu(e),Xx.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&CA(e),t})}(this._delegate,e,t))}signInWithEmailLink(e,t){return tO(this._delegate,async function(e,t,n){if(Bd(e.app))return Promise.reject(pC(e));const r=Iu(e),i=Xx.credentialWithLink(t,n||wC());return yC(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),bA(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return nO(this._delegate,async function(e,t,n){if(Bd(e.app))return Promise.reject(pC(e));const r=wx(e),i=await TP(r,t,Iu(n));return new IP(i,e=>bA(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return oO(qN(),this._delegate,"operation-not-supported-in-this-environment"),tO(this._delegate,async function(e,t,n){if(Bd(e.app))return Promise.reject(hC(e,"operation-not-supported-in-this-environment"));const r=wx(e);mC(e,t,Zx);const i=AP(r,n);return new MP(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,JN))}async signInWithRedirect(e){return oO(qN(),this._delegate,"operation-not-supported-in-this-environment"),await QN(this._delegate),qP(this._delegate,e,JN)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await AA(Iu(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function aO(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&iO.getOrCreate(e)),error:t,complete:n}}function lO(e,t){const n=function(e,t){const n=$N();if(!n)return[];const r=ix(GN,e,t);switch(n.getItem(r)){case WN.NONE:return[rx];case WN.LOCAL:return[gP,tP];case WN.SESSION:return[tP];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(gP)||n.push(gP),"undefined"!==typeof window)for(const r of[YA,tP])n.includes(r)||n.push(r);return n.includes(rx)||n.push(rx),n}sO.Persistence=WN;class cO{static credential(e,t){return xP.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new xP(XN(yh.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}cO.PHONE_SIGN_IN_METHOD=xP.PHONE_SIGN_IN_METHOD,cO.PROVIDER_ID=xP.PROVIDER_ID;const uO=yC;class dO{constructor(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh.app();uO(null===(n=r.options)||void 0===n?void 0:n.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new kP(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Tu("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sO(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ZT,PASSWORD_RESET:eC,RECOVER_EMAIL:tC,REVERT_SECOND_FACTOR_ADDITION:nC,VERIFY_AND_CHANGE_EMAIL:rC,VERIFY_EMAIL:iC}},EmailAuthProvider:Xx,FacebookAuthProvider:nA,GithubAuthProvider:iA,GoogleAuthProvider:rA,OAuthProvider:tA,SAMLAuthProvider:sA,PhoneAuthProvider:cO,PhoneMultiFactorGenerator:SN,RecaptchaVerifier:dO,TwitterAuthProvider:aA,Auth:sO,AuthCredential:jx,Error:fu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.6.0")}(yh);yh.initializeApp({apiKey:"AIzaSyBmLEK0ulPNkaS0exivjIqkJ10VZAF0wMc",authDomain:"clone-40318.firebaseapp.com",projectId:"clone-40318",storageBucket:"clone-40318.appspot.com",messagingSenderId:"126755251493",appId:"1:126755251493:web:904edb57ade71b041ce6cc"});const hO=yh.auth(),fO=yh.firestore();const pO=function(){var e;const[{user:t,basket:n}]=(0,i.useContext)(Zl),r=null===n||void 0===n?void 0:n.reduce((e,t)=>t.amount+e,0);return console.log(n.length),(0,mr.jsxs)("section",{className:fc,children:[(0,mr.jsxs)("div",{className:hc,children:[(0,mr.jsx)("div",{className:pc,children:(0,mr.jsx)(sr,{to:"/",children:(0,mr.jsx)("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon Logo"})})}),(0,mr.jsxs)("div",{className:mc,children:[(0,mr.jsx)(Uc,{size:18}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{children:"Deliver to"}),(0,mr.jsx)("span",{children:"Ethiopia"})]})]}),(0,mr.jsxs)("div",{className:gc,children:[(0,mr.jsx)("select",{name:"",id:"",children:(0,mr.jsx)("option",{value:"",children:"All"})}),(0,mr.jsx)("input",{type:"text",name:"",id:"",placeholder:"Search Amazon"}),(0,mr.jsx)(zc,{size:38})]}),(0,mr.jsxs)("div",{className:yc,children:[(0,mr.jsx)("img",{src:"https://cdn.britannica.com/33/4833-050-F6E415FE/Flag-United-States-of-America.jpg",alt:"Ethiopia flag"}),(0,mr.jsx)("span",{children:"EN"})]}),(0,mr.jsx)("div",{className:vc,children:(0,mr.jsx)(sr,{to:!t&&"/auths",children:(0,mr.jsx)("div",{children:t?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("p",{children:["Hello ",null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0]]}),(0,mr.jsx)("span",{onClick:()=>hO.signOut(),children:"Sign Out"})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("p",{children:"Hello, Sign In"}),(0,mr.jsx)("span",{children:"Account and list"})]})})})}),(0,mr.jsx)("div",{className:bc,children:(0,mr.jsxs)(sr,{to:"/orders",children:[(0,mr.jsx)("p",{children:"Returns"}),(0,mr.jsx)("span",{children:"& Orders"})]})}),(0,mr.jsx)(sr,{to:"/cart",children:(0,mr.jsxs)("div",{className:wc,children:[(0,mr.jsx)(Vc,{size:35}),(0,mr.jsx)("span",{className:Sc,children:r}),(0,mr.jsx)("span",{className:_c,children:"Cart"})]})})]}),(0,mr.jsx)(jc,{})]})};const mO=function(e){let{children:t}=e;return(0,mr.jsxs)("div",{children:[(0,mr.jsx)(pO,{}),t]})};const gO=function(){return(0,mr.jsxs)(mO,{children:[(0,mr.jsx)(sc,{}),(0,mr.jsx)(dc,{}),(0,mr.jsx)(nc,{})]})};var yO={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function vO(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return yO[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function bO(e){var t=vO(e);return"".concat(t.value).concat(t.unit)}var wO=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(s,0),r},SO=function(){return SO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},SO.apply(this,arguments)},_O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},EO=wO("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const kO=function(e){var t=e.loading,n=void 0===t||t,r=e.color,o=void 0===r?"#000000":r,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.size,d=void 0===u?35:u,h=_O(e,["loading","color","speedMultiplier","cssOverride","size"]),f=SO({background:"transparent !important",width:bO(d),height:bO(d),borderRadius:"100%",border:"2px solid",borderTopColor:o,borderBottomColor:"transparent",borderLeftColor:o,borderRightColor:o,display:"inline-block",animation:"".concat(EO," ").concat(.75/a,"s 0s infinite linear"),animationFillMode:"both"},c);return n?i.createElement("span",SO({style:f},h)):null},IO="SignUp_login_container__EO-5l",TO="SignUp_login_box__z9tGg",CO="SignUp_login_logo__PrrP7",xO="SignUp_create__KZ-3l",AO="SignUp_terms__3Zlig",PO=()=>{var e,t;const[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)({signIn:!1,signUp:!1}),[d]=(0,i.useContext)(Zl),h=ee(),f=X();return(0,mr.jsx)("div",{className:IO,children:(0,mr.jsxs)("div",{className:TO,children:[(0,mr.jsx)(sr,{to:"/",children:(0,mr.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",alt:"Amazon Logo",className:CO})}),(0,mr.jsx)("h1",{children:"Sign in"}),(null===f||void 0===f||null===(e=f.state)||void 0===e?void 0:e.msg)&&(0,mr.jsx)("small",{style:{color:"red",fontWeight:"bold"},children:null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.msg}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n&&o){u(Pt(Pt({},c),{},{signIn:!0})),l("");try{var t;const e=await hO.signInWithEmailAndPassword(n,o);console.log(e),d({type:$l,user:e.user}),u(Pt(Pt({},c),{},{signIn:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")}catch(r){"auth/invalid-email"===r.code?l("Invalid email address"):"auth/user-not-found"===r.code?l("No account found with this email"):"auth/wrong-password"===r.code?l("Incorrect password"):l(r.message),u(Pt(Pt({},c),{},{signIn:!1}))}}else l("Please enter both email and password")},children:[(0,mr.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,mr.jsx)("input",{value:n,onChange:e=>r(e.target.value),type:"email",id:"email"}),(0,mr.jsx)("label",{htmlFor:"password",children:"Password"}),(0,mr.jsx)("input",{value:o,onChange:e=>s(e.target.value),type:"password",id:"password"}),(0,mr.jsx)("button",{type:"submit",disabled:c.signIn||!n||!o,children:c.signIn?(0,mr.jsx)(kO,{color:"#000",size:15}):"Sign In"})]}),(0,mr.jsxs)("p",{className:AO,children:["By continuing, you agree to Amazon's"," ",(0,mr.jsx)("a",{href:"con",children:"Conditions of Use"})," and"," ",(0,mr.jsx)("a",{href:"con",children:"Privacy Notice"}),"."]}),(0,mr.jsx)("button",{onClick:async e=>{e.preventDefault(),u(Pt(Pt({},c),{},{signUp:!0}));try{var t;const e=await hO.createUserWithEmailAndPassword(n,o);console.log(e),d({type:$l,user:e.user}),u(Pt(Pt({},c),{},{signUp:!1})),h((null===f||void 0===f||null===(t=f.state)||void 0===t?void 0:t.redirect)||"/")}catch(r){l(r.message),u(Pt(Pt({},c),{},{signUp:!1}))}},className:xO,disabled:c.signUp||!n||!o,children:c.signUp?(0,mr.jsx)(kO,{color:"#000",size:15}):"Create Your Amazon Account"}),a&&(0,mr.jsx)("small",{style:{paddingTop:"5px",color:"red"},children:a}),(0,mr.jsx)("hr",{})]})})},NO="payment_payment_header__rt+JG",OO="payment_payment__lorLI",RO="payment_flex__g+v8P",DO="payment_payment__card__container__cmokH",LO="payment_payment_price__Yjc+6",MO="payment_payment_details__YprCS",FO="payment_loading__IiEQC";var jO=n(173);function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(t){BO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function VO(e){return VO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VO(e)}function BO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return WO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KO=function(e,t,n){var r=!!n,o=i.useRef(n);i.useEffect(function(){o.current=n},[n]),i.useEffect(function(){if(!r||!e)return function(){};var n=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,n),function(){e.off(t,n)}},[r,t,e,o])},GO=function(e){var t=i.useRef(e);return i.useEffect(function(){t.current=e},[e]),t.current},QO=function(e){return null!==e&&"object"===VO(e)},$O="[object Object]",YO=function e(t,n){if(!QO(t)||!QO(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===$O;if(i!==(Object.prototype.toString.call(n)===$O))return!1;if(!i&&!r)return t===n;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(var a={},l=0;l<o.length;l+=1)a[o[l]]=!0;for(var c=0;c<s.length;c+=1)a[s[c]]=!0;var u=Object.keys(a);if(u.length!==o.length)return!1;var d=t,h=n;return u.every(function(t){return e(d[t],h[t])})},JO=function(e,t,n){return QO(e)?Object.keys(e).reduce(function(r,i){var o=!QO(t)||!YO(e[i],t[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):o?zO(zO({},r||{}),{},BO({},i,e[i])):r},null):null},XO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ZO=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XO;if(null===e||QO(t=e)&&"function"===typeof t.elements&&"function"===typeof t.createToken&&"function"===typeof t.createPaymentMethod&&"function"===typeof t.confirmCardPayment)return e;throw new Error(n)},eR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XO;if(function(e){return QO(e)&&"function"===typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return ZO(e,t)})};var n=ZO(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},tR=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},nR=i.createContext(null);nR.displayName="ElementsContext";var rR=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},iR=function(e){var t=e.stripe,n=e.options,r=e.children,o=i.useMemo(function(){return eR(t)},[t]),s=HO(i.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(n):null}}),2),a=s[0],l=s[1];i.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==o.tag||a.stripe?"sync"!==o.tag||a.stripe||t(o.stripe):o.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[o,a,n]);var c=GO(t);i.useEffect(function(){null!==c&&c!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,t]);var u=GO(n);return i.useEffect(function(){if(a.elements){var e=JO(n,u,["clientSecret","fonts"]);e&&a.elements.update(e)}},[n,u,a.elements]),i.useEffect(function(){tR(a.stripe)},[a.stripe]),i.createElement(nR.Provider,{value:a},r)};iR.propTypes={stripe:jO.any,options:jO.object};var oR=function(e){var t=i.useContext(nR);return rR(t,e)};jO.func.isRequired;var sR=i.createContext(null);sR.displayName="CheckoutContext",jO.any,jO.shape({fetchClientSecret:jO.func.isRequired,elementsOptions:jO.object}).isRequired;var aR=function(e){var t=i.useContext(sR),n=i.useContext(nR);if(t){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}return rR(n,e)},lR=["mode"],cR=function(e,t){var n,r="".concat((n=e).charAt(0).toUpperCase()+n.slice(1),"Element"),o=t?function(e){aR("mounts <".concat(r,">"));var t=e.id,n=e.className;return i.createElement("div",{id:t,className:n})}:function(t){var n,o=t.id,s=t.className,a=t.options,l=void 0===a?{}:a,c=t.onBlur,u=t.onFocus,d=t.onReady,h=t.onChange,f=t.onEscape,p=t.onClick,m=t.onLoadError,g=t.onLoaderStart,y=t.onNetworksChange,v=t.onConfirm,b=t.onCancel,w=t.onShippingAddressChange,S=t.onShippingRateChange,_=t.onSavedPaymentMethodRemove,E=t.onSavedPaymentMethodUpdate,k=aR("mounts <".concat(r,">")),I="elements"in k?k.elements:null,T="checkoutState"in k?k.checkoutState:null,C="success"===(null===T||void 0===T?void 0:T.type)?T.checkout:null,x=HO(i.useState(null),2),A=x[0],P=x[1],N=i.useRef(null),O=i.useRef(null);KO(A,"blur",c),KO(A,"focus",u),KO(A,"escape",f),KO(A,"click",p),KO(A,"loaderror",m),KO(A,"loaderstart",g),KO(A,"networkschange",y),KO(A,"confirm",v),KO(A,"cancel",b),KO(A,"shippingaddresschange",w),KO(A,"shippingratechange",S),KO(A,"savedpaymentmethodremove",_),KO(A,"savedpaymentmethodupdate",E),KO(A,"change",h),d&&(n="expressCheckout"===e?d:function(){d(A)}),KO(A,"ready",n),i.useLayoutEffect(function(){if(null===N.current&&null!==O.current&&(I||C)){var t=null;if(C)switch(e){case"payment":t=C.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var n=l.mode,i=qO(l,lR);if("shipping"===n)t=C.createShippingAddressElement(i);else{if("billing"!==n)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=C.createBillingAddressElement(i)}break;case"expressCheckout":t=C.createExpressCheckoutElement(l);break;case"currencySelector":t=C.createCurrencySelectorElement();break;case"taxId":t=C.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(t=I.create(e,l));N.current=t,P(t),t&&t.mount(O.current)}},[I,C,l]);var R=GO(l);return i.useEffect(function(){if(N.current){var e=JO(l,R,["paymentRequest"]);e&&"update"in N.current&&N.current.update(e)}},[l,R]),i.useLayoutEffect(function(){return function(){if(N.current&&"function"===typeof N.current.destroy)try{N.current.destroy(),N.current=null}catch(e){}}},[]),i.createElement("div",{id:o,className:s,ref:O})};return o.propTypes={id:jO.string,className:jO.string,onChange:jO.func,onBlur:jO.func,onFocus:jO.func,onReady:jO.func,onEscape:jO.func,onClick:jO.func,onLoadError:jO.func,onLoaderStart:jO.func,onNetworksChange:jO.func,onConfirm:jO.func,onCancel:jO.func,onShippingAddressChange:jO.func,onShippingRateChange:jO.func,onSavedPaymentMethodRemove:jO.func,onSavedPaymentMethodUpdate:jO.func,options:jO.object},o.displayName=r,o.__elementType=e,o},uR="undefined"===typeof window,dR=i.createContext(null);dR.displayName="EmbeddedCheckoutProviderContext";cR("auBankAccount",uR);var hR=cR("card",uR);cR("cardNumber",uR),cR("cardExpiry",uR),cR("cardCvc",uR),cR("fpxBank",uR),cR("iban",uR),cR("idealBank",uR),cR("p24Bank",uR),cR("epsBank",uR),cR("payment",uR),cR("expressCheckout",uR),cR("paymentRequestButton",uR),cR("linkAuthentication",uR),cR("address",uR),cR("shippingAddress",uR),cR("paymentMethodMessaging",uR),cR("affirmMessage",uR),cR("afterpayClearpayMessage",uR),cR("taxId",uR);const fR=Yn.create({baseURL:"https://amazone-ap-deploy.onrender.com/"}),pR=()=>{const[{user:e,basket:t},n]=(0,i.useContext)(Zl),r=null===t||void 0===t?void 0:t.reduce((e,t)=>t.amount+e,0),o=t.reduce((e,t)=>t.price*t.amount+e,0),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),u=aR("calls useStripe()").stripe,d=oR("calls useElements()").elements,h=ee();return(0,mr.jsxs)(mO,{children:[(0,mr.jsxs)("div",{className:NO,children:["Checkout (",r,") items"]}),(0,mr.jsxs)("section",{className:OO,children:[(0,mr.jsxs)("div",{className:RO,children:[(0,mr.jsx)("h3",{children:"Delivery Address"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{children:null===e||void 0===e?void 0:e.email}),(0,mr.jsx)("div",{children:"123 react lane"}),(0,mr.jsx)("div",{children:"chicago, IL"})]})]}),(0,mr.jsx)("hr",{}),(0,mr.jsxs)("div",{className:RO,children:[(0,mr.jsx)("h3",{children:"Review items and delivery"}),(0,mr.jsx)("div",{children:null===t||void 0===t?void 0:t.map(e=>(0,mr.jsx)(tc,{product:e,flex:!0}))})]}),(0,mr.jsx)("hr",{}),(0,mr.jsxs)("div",{className:RO,children:[(0,mr.jsx)("h3",{children:"Payment Methods"}),(0,mr.jsx)("div",{className:DO,children:(0,mr.jsx)("div",{className:MO,children:(0,mr.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),c(!0),!u||!d)return a("Stripe has not loaded."),void c(!1);if(!e||!e.uid)return a("User not logged in."),void c(!1);try{var i;const r=Math.round(100*o),l=null===(i=(await fR.post("/payment/create?total=".concat(r))).data)||void 0===i?void 0:i.clientSecret;if(!l)throw new Error("Client secret not received from backend.");const f=d.getElement(hR),{paymentIntent:p,error:m}=await u.confirmCardPayment(l,{payment_method:{card:f,billing_details:{email:e.email}}});if(m)return console.error("\u274c Stripe error:",m.message),a(m.message),void c(!1);if(console.log("\ud83d\udcb3 PaymentIntent Status:",null===p||void 0===p?void 0:p.status),!p||"succeeded"!==p.status)return a("Payment failed. Please try again."),void c(!1);console.log("\u2705 Payment succeeded:",p),console.log("\ud83e\uddfa Basket to store:",t);try{await lT(jk(Fk(fO,"users",e.uid,"orders"),p.id),{basket:t,amount:p.amount,created:p.created}),console.log("\ud83d\udce6 Order stored in Firestore")}catch(s){return console.error("\ud83d\udd25 Firestore write error:",s),a("Failed to store order in database."),void c(!1)}try{if(!e||!e.uid)throw new Error("User UID is missing.");if(!p.id)throw new Error("PaymentIntent ID is missing.");console.log("\ud83d\udce4 Saving to Firestore",{uid:e.uid,paymentId:p.id,basket:t,amount:p.amount,created:p.created}),await lT(jk(fO,"users",e.uid,"orders",p.id),{basket:t,amount:p.amount,created:p.created}),console.log("\u2705 Order stored in Firestore")}catch(s){return console.error("\ud83d\udd25 Firestore write error:",s),a("Failed to store order in database."),void c(!1)}n({type:Yl}),c(!1),h("/orders",{state:{msg:"You have placed a new order."}})}catch(l){a(l.message||"Something went wrong."),c(!1)}},children:[s&&(0,mr.jsx)("small",{style:{color:"red"},children:s}),(0,mr.jsx)(hR,{onChange:e=>{var t,n;null!==(t=e.error)&&void 0!==t&&t.message?a(null===(n=e.error)||void 0===n?void 0:n.message):a("")}}),(0,mr.jsxs)("div",{className:LO,children:[(0,mr.jsx)("div",{children:(0,mr.jsxs)("span",{style:{display:"flex",gap:"10px"},children:[(0,mr.jsx)("p",{children:"Total Order | "}),(0,mr.jsx)(Wl,{amount:o})]})}),(0,mr.jsx)("button",{type:"submit",children:l?(0,mr.jsxs)("div",{className:FO,children:[(0,mr.jsx)(kO,{color:"gray",size:12}),(0,mr.jsx)("p",{children:"please wait..."})]}):"Pay Now"})]})]})})})]})]})]})},mR="Orders_container__f4-AN",gR="Orders_orders__container__nHXSn",yR=()=>{const[{user:e}]=(0,i.useContext)(Zl),[t,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{if(e){const t=uT(jI(Fk(fO,"users",e.uid,"orders"),BI("created","desc")),e=>{console.log(e.docs.map(e=>Pt({id:e.id},e.data()))),n(e.docs.map(e=>Pt({id:e.id},e.data())))});return()=>t()}n([])},[e]),(0,mr.jsx)(mO,{children:(0,mr.jsx)("section",{className:mR,children:(0,mr.jsxs)("div",{className:gR,children:[(0,mr.jsx)("h2",{children:"Your Orders"}),0===(null===t||void 0===t?void 0:t.length)&&(0,mr.jsx)("div",{style:{padding:"20px"},children:"You don't have orders yet."}),(0,mr.jsx)("div",{children:null===t||void 0===t?void 0:t.map(e=>{var t;return(0,mr.jsxs)("div",{children:[(0,mr.jsx)("hr",{}),(0,mr.jsxs)("p",{children:["Order ID: ",e.id]}),null===e||void 0===e||null===(t=e.basket)||void 0===t?void 0:t.map(e=>(console.log("order item",e),(0,mr.jsx)(tc,{flex:!0,product:e},e.id))),(0,mr.jsx)("hr",{})]},e.id)})})]})})})},vR="Cart_container__0VhKs",bR="Cart_cart_container__00maq",wR="Cart_cart_img__PKIDe",SR="Cart_cart_product__qZFHn",_R="Cart_btn_container__HfGIg",ER="Cart_subtotal__QoZH3";function kR(e){return Oc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(e)}function IR(e){return Oc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}const TR=()=>{const[{basket:e},t]=(0,i.useContext)(Zl),n=e.reduce((e,t)=>t.price*t.amount+e,0);return(0,mr.jsx)(mO,{children:(0,mr.jsxs)("section",{className:vR,children:[(0,mr.jsxs)("div",{className:bR,children:[(0,mr.jsx)("h2",{children:"Hello"}),(0,mr.jsx)("h3",{children:"Your Shopping Basket"}),(0,mr.jsx)("hr",{}),(0,mr.jsx)("div",{className:wR,children:0===(null===e||void 0===e?void 0:e.length)?(0,mr.jsx)("p",{children:"Oppps ! No item in your cart"}):null===e||void 0===e?void 0:e.map((e,n)=>(0,mr.jsxs)("section",{className:SR,children:[(0,mr.jsx)(tc,{product:e,renderDesc:!0,renderAdd:!1,flex:!0}),(0,mr.jsxs)("div",{className:_R,children:[(0,mr.jsx)("button",{onClick:()=>(e=>{t({type:Gl,item:e})})(e),children:(0,mr.jsx)(IR,{size:20})}),(0,mr.jsx)("span",{children:e.amount}),(0,mr.jsx)("button",{onClick:()=>{return n=e.id,void t({type:Ql,id:n});var n},children:(0,mr.jsx)(kR,{size:20})})]})]},e.id||n))})]}),0!==(null===e||void 0===e?void 0:e.length)&&(0,mr.jsxs)("div",{className:ER,children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("p",{children:["subtotal(",null===e||void 0===e?void 0:e.length," item)"]}),(0,mr.jsx)(Wl,{amount:n})]}),(0,mr.jsxs)("span",{children:[(0,mr.jsx)("input",{type:"checkbox"}),(0,mr.jsx)("small",{children:"This order contains a gift"})]}),(0,mr.jsx)(sr,{to:"/payments",children:"continue to check out"})]})]})})},CR="https://fakestoreapi.com";var xR=function(){return xR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xR.apply(this,arguments)},AR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},PR=wO("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");const NR=function(e){var t=e.loading,n=void 0===t||t,r=e.color,o=void 0===r?"#000000":r,s=e.speedMultiplier,a=void 0===s?1:s,l=e.cssOverride,c=void 0===l?{}:l,u=e.height,d=void 0===u?15:u,h=e.width,f=void 0===h?5:h,p=e.radius,m=void 0===p?2:p,g=e.margin,y=void 0===g?2:g,v=AR(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),b=vO(y).value+18,w=b/2+b/5.5,S=xR({display:"inherit",position:"relative",fontSize:"0",top:b,left:b,width:"".concat(3*b,"px"),height:"".concat(3*b,"px")},c),_=function(e){return{position:"absolute",width:bO(f),height:bO(d),margin:bO(y),backgroundColor:o,borderRadius:bO(m),transition:"2s",animationFillMode:"both",animation:"".concat(PR," ").concat(1.2/a,"s ").concat(.12*e,"s infinite ease-in-out")}},E=xR(xR({},_(1)),{top:"".concat(b,"px"),left:"0"}),k=xR(xR({},_(2)),{top:"".concat(w,"px"),left:"".concat(w,"px"),transform:"rotate(-45deg)"}),I=xR(xR({},_(3)),{top:"0",left:"".concat(b,"px"),transform:"rotate(90deg)"}),T=xR(xR({},_(4)),{top:"".concat(-1*w,"px"),left:"".concat(w,"px"),transform:"rotate(45deg)"}),C=xR(xR({},_(5)),{top:"".concat(-1*b,"px"),left:"0"}),x=xR(xR({},_(6)),{top:"".concat(-1*w,"px"),left:"".concat(-1*w,"px"),transform:"rotate(-45deg)"}),A=xR(xR({},_(7)),{top:"0",left:"".concat(-1*b,"px"),transform:"rotate(90deg)"}),P=xR(xR({},_(8)),{top:"".concat(w,"px"),left:"".concat(-1*w,"px"),transform:"rotate(45deg)"});return n?i.createElement("span",xR({style:S},v),i.createElement("span",{style:E}),i.createElement("span",{style:k}),i.createElement("span",{style:I}),i.createElement("span",{style:T}),i.createElement("span",{style:C}),i.createElement("span",{style:x}),i.createElement("span",{style:A}),i.createElement("span",{style:P})):null},OR=()=>(0,mr.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:(0,mr.jsx)(NR,{})}),RR=()=>{const{productId:e}=te(),[t,n]=(0,i.useState)({}),[r,o]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{o(!0),Yn.get("".concat(CR,"/products/").concat(e)).then(e=>{n(e.data),o(!1)}).catch(e=>{console.log(e),o(!1)})},[e]),t&&0!==Object.keys(t).length?(0,mr.jsx)(mO,{children:r?(0,mr.jsx)(OR,{}):(0,mr.jsx)(tc,{product:t,flex:!0,renderDesc:!0,renderAdd:!0})}):(0,mr.jsx)(mO,{children:(0,mr.jsx)("p",{children:"Loading product..."})})},DR={products_container:"Results_products_container__nJuQH"},LR=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1),{categoryName:o}=te();return(0,i.useEffect)(()=>{r(!0),Yn.get("".concat(CR,"/products/category/").concat(encodeURIComponent(o))).then(e=>{console.log(e.data),t(e.data),r(!1)}).catch(e=>{console.log("Error fetching category:",e),r(!1)})},[o]),(0,mr.jsx)(mO,{children:n?(0,mr.jsx)(OR,{}):(0,mr.jsxs)("section",{children:[(0,mr.jsx)("h1",{style:{padding:"30px"},children:"Results"}),(0,mr.jsxs)("p",{style:{padding:"30px"},children:["Category: ",o]}),(0,mr.jsx)("hr",{}),(0,mr.jsx)("div",{className:DR.products__container,children:null===e||void 0===e?void 0:e.map(e=>(0,mr.jsx)(tc,{product:e,renderDesc:!1,renderAdd:!0},e.id))})]})})};var MR,FR="basil",jR="https://js.stripe.com",UR="".concat(jR,"/").concat(FR,"/stripe.js"),zR=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,VR=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,BR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",qR=function(e){return zR.test(e)||VR.test(e)},HR=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(UR).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},WR=null,KR=null,GR=null,QR=function(e){return null!==WR?WR:(WR=new Promise(function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(BR),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(jR,'"]')),t=0;t<e.length;t++){var n=e[t];if(qR(n.src))return n}return null}();if(r&&e)console.warn(BR);else if(r){if(r&&null!==GR&&null!==KR){var i;r.removeEventListener("load",GR),r.removeEventListener("error",KR),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=HR(e)}}else r=HR(e);GR=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),KR=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),r.addEventListener("load",GR),r.addEventListener("error",KR)}catch(o){return void n(o)}else t(null)})).catch(function(e){return WR=null,Promise.reject(e)})},$R=!1,YR=function(){return MR||(MR=QR(null).catch(function(e){return MR=null,Promise.reject(e)}))};Promise.resolve().then(function(){return YR()}).catch(function(e){$R||console.warn(e)});const JR=e=>{let{children:t,msg:n,redirect:r}=e;const o=ee(),[{user:s}]=(0,i.useContext)(Zl);return(0,i.useEffect)(()=>{s||o("/auths",{state:{msg:n,redirect:r}})},[s,o,n,r]),t},XR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$R=!0;var r=Date.now();return YR().then(function(e){return function(e,t,n){if(null===e)return null;var r=t[0].match(/^pk_test/),i=function(e){return 3===e?"v3":e}(e.version),o=FR;r&&i!==o&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})}(s,n),s}(e,t,r)})}("pk_test_51SCT4T1AQfLZDOnSidCmlhM7Lr05WvegtBbuhbASIGbdznFZle43o88uW0PqBWPgvo2Jr4GHl2IQf5pa2djCxYfG000rXtQK4F");const ZR=function(){return(0,mr.jsxs)(ve,{children:[(0,mr.jsx)(ge,{path:"/",element:(0,mr.jsx)(gO,{})}),(0,mr.jsx)(ge,{path:"/auths",element:(0,mr.jsx)(PO,{})}),(0,mr.jsx)(ge,{path:"/payments",element:(0,mr.jsx)(JR,{msg:"You must log in to pay",redirect:"/payments",children:(0,mr.jsx)(iR,{stripe:XR,children:(0,mr.jsx)(pR,{})})})}),(0,mr.jsx)(ge,{path:"/orders",element:(0,mr.jsx)(yR,{})}),(0,mr.jsx)(ge,{path:"/cart",element:(0,mr.jsx)(TR,{})}),(0,mr.jsx)(ge,{path:"/category/:categoryName",element:(0,mr.jsx)(LR,{})}),(0,mr.jsx)(ge,{path:"/products/:productId",element:(0,mr.jsx)(RR,{})})]})};const eD=function(){const[e,t]=(0,i.useContext)(Zl);return(0,i.useEffect)(()=>{const e=hO.onAuthStateChanged(e=>{t(e?{type:$l,user:e}:{type:$l,user:null})});return()=>e()},[t]),(0,mr.jsx)(ZR,{})};s.createRoot(document.getElementById("root")).render((0,mr.jsx)(i.StrictMode,{children:(0,mr.jsx)(ec,{reducer:Xl,initialState:Jl,children:(0,mr.jsx)(rr,{children:(0,mr.jsx)(eD,{})})})}))})()})();
//# sourceMappingURL=main.805a73a6.js.map